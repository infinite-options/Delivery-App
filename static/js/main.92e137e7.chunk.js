(this["webpackJsonpdelivery-app"]=this["webpackJsonpdelivery-app"]||[]).push([[0],{30:function(e,t){e.exports="data:image/png;base64,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"},46:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDUlEQVRYhb2XTWsTURSGn4Y0GcamhlLiR6FkJ1KKSFdVtC7StVDIDyjZuXDhQvwXbqVQBd1IA90IbhJBqBJKSUV3XQix1U0IKTZlvJmMExe5N95Mk8mknfbA5X5N5n3uOWcmc8ba7TYAy8vLUSACxGQfJVxzABewAbdQKDgAY+12W4nHAEO2mASIhCTuSgAbELLZhULBGctkMkrcBCZlb3A+HhCABRzJ3lanNKR4qmhmSyEL91jGyi/KoQs4uuvNopktzaTTGKZJ3DBCFW4KgbAsipVsKWPl55Fh0BPPAM5FHPDeU+VZJEon1qoNFN/f3++Zz87OngWiq6my3DfbhRAkk0ka6ys01ldIJpMIIUYG8FhEkfiaEIJqtcq9G9M8e/sNgPkrUbb2qqRSKYwzhssXQAiBbds8mLvKuyd3evYePi+x+/MPwJkgfAHUyeeuT/Diw/fuerP1l5vXLtFqtdjaq54qHwIBALx/et93P5HbPLU4BHzV2o7bFdLHYVhY7/rzBYhFIzTWV06Mw7CR/3D6ud/7ktJtWIIGBkjkNrsnD+qBILly6hzIre2QW9vpO370qhz4PoEBvKfe2D5gY/ug7/jNpx+BAU790aEDDRoHscAe8MbzwkPgtQsPgde1Fx6C87ITHmg0GgA0m81QBGq1GgDxeNwXwFULiUSC7MI0APV6ncevd3t+sLqUPrE2yFaX0kxNTXXn+XJN33YVgKM1Dg8PefmxEZoHoAp0POA4jlrsakb5Xy4JgEi7TWx8nEQiERJAx5pC4LZaaiqkphvVxK2MlV8sVvoXJjPpNJc1d/rZ73qdX5VK3z1ZmFhodYErJ0fygnl6S7MIQLGS/QwMhVDiGSt/Vy6p/PKWZgJwgxSn3W/4opkt+3lCE1+gN7cGF6dDynPV6+Xbl34Qmvht3cUegP7luZ9JMAOYkM0smtmvOoQmfkuKH8smlNAgGwowAGJCeQLQT37MCOKBAfpATEqIMqBifkwnuQKLjwTggTBli8ktm47rrVHERwbQIFRSqkdVPWL2KOIA/wBrqaBPsq9TWgAAAABJRU5ErkJggg=="},47:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADV0lEQVRYhb2XTWgTURDHf4m1XRc1tdQVKa0RihdRkSC1VIvIVnoUIehNRFAo9NyLl4oIPYogKnjqRQnUnqSQUKFQ61dQQS9VMFTFRmJNY1k3a9x46Htxk+6mWU0cGN5mNm9//zdv9mMCxWIRgIGBgSYgCDSLsYn6WgGwAQuw4/F4ASBQLBYlvBlQhDcLAcE6wW0hwAJM4VY8Hi8EdF2XcBXYKkaFxmTABAwgJ0ZLrlIRcC2hRufqDC4z3Yj1ikMbKDhTrybU6FxHOIyiqrQoSl3BedPENAwSqeicbsT2IbbBWXgK0BA4UHlNWWdBWe3SGwJ3EVFiyiqvV7X7saBU4styuRzZbPaviJqmrYn5FpDNZhk+0c3V0/t9zRscm2F2/sua+F+l3i8cYGqk3zVeNQOLi4tYluUb5sc8BeTzeSzLYvrScQ7tbi3F2y7cr6sAzy1Ip9NEdrcR2RXi9PU5joxOA/DzV7GuAlwzYBgGAFMjR7n35AMPXn6uK9RprhnIZDKcjHQQDAS4PPEGVVUbJsCzBsaHeriReMfHpR8Ng1cVADCkdzOkdzdUwH97BA+OzbjG130SXpua51LsdVms/eIk+YLtW4SmaaxkMrULOHblIcrGDXy/c4rP335w7vYztm9pYXyopypoy/kJ+va0MzXST3rZ5OzNpzx6+xXF5U1bdQuS77+VHqE7t23i1vkIk8lPVeEAJyMdpXk7Qgp3hw8jP34rzTMDe0efr4mF1I3A6gr9WKva7HnOVUBXV1fpeHBsprSaM9cfEwgE6OzsrApcWFgom+dVgJ4CpGmaxuz8l7IVu73T/2WeFOBa0oqilGWjVqtxng2rRVhwOHnT9A2s1RzXLjGD/GmXTADTMBoiQn6WCzMF025ywA3diPUmUu6NSUc4TKitrSbY8tISn1Ip13OiMTFw9AW2+JETf9hHeWsWBEikorPAuiIkXDdifSIk66uyNTMBu5bmtPQNn1CjyWqZcMAjlNeWd3O6TnsuR2f79sJNhAN+0JniCgHu7Xk1E8IUYLNwNaFGXzlFOOAHBHxFuClBXrauAA8Rm2UmAOfKV/ABr1mAi4itQkQSkHu+wmpx1Qz3JaBChCpcvmUsVlNv+IH7FuAQIYtS3qryFrP8wAF+AzQdg7iYatxtAAAAAElFTkSuQmCC"},54:function(e,t,a){e.exports=a(88)},59:function(e,t,a){},64:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),s=a.n(l),i=(a(59),a(49)),c=a(6),o=a(5),m=a(29),u=a(12),d=a(4),E=a(14),h=a(8),v=a.n(h),b=a(30),p=a.n(b),f=a(46),g=a.n(f),y=a(47),A=a.n(y),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.width,n=void 0===a?32:a,r=t.height,l=void 0===r?41:r,s=n,i=l;return new h.Icon({iconUrl:e,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[s,i],iconAnchor:[s/2,i],popupAnchor:[1,-1.4*i],shadowSize:[i,i]})},x={DefaultIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.width,n=void 0===a?25:a,r=t.height,l=void 0===r?41:r,s=t.mult,i=void 0===s?1:s,c=n*i,o=l*i;return new h.Icon({iconUrl:"https://chart.apis.google.com/chart?chst=d_map_pin_icon&chld=home|".concat(e.substring(1),"&chf=a,s,ee00FFFF"),shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[c,o],iconAnchor:[c/2,o],popupAnchor:[1,-1.4*o],shadowSize:[o,o]})},App:N(p.a),Truck:N(A.a),Headquarters:N(g.a),faComment:E.g,faEnvelope:E.h,faCaretDown:E.b,faCaretUp:E.c,faBars:E.a,faChevronLeft:E.e,faChevronRight:E.f,faEye:E.i,faEyeSlash:E.j,faPhone:E.k,faCheck:E.d,faTimes:E.l},k=a(50),B=a(19),S=(a(64),a(104)),R=a(106),w=a(102),O=a(105);var _=function(e){var t=e.props,a=Object(n.useState)([]),l=Object(o.a)(a,2),s=l[0],i=l[1],c=Object(n.useState)(t.baseLocation),m=Object(o.a)(c,2),d=m[0],E=(m[1],Object(n.useState)(1)),h=Object(o.a)(E,2),v=h[0],b=(h[1],t.selectedLocation);Object(n.useEffect)((function(){p()}),[]),Object(n.useEffect)((function(){t.manageMarkers()}),[t.visible]);var p=function(){var e,a=[],n=Object(B.a)(t.route);try{for(n.s();!(e=n.n()).done;){var r=e.value;a.push([r.from,r.to,r.address])}}catch(l){n.e(l)}finally{n.f()}!function(e,t){for(var a=0;a<t;a++){var n=function(){return 1*(360*Math.random()-180).toFixed(3)};e.push([[n(),n()],[n(),n()]])}}(a,0),f(a),i(a)},f=function(e){if(e.length){var a=e[v-1][1];e[v-1][1]=d;var n=[d,a];e.splice(v,0,n)}else e.push([t.baseLocation,t.baseLocation])};return r.a.createElement(r.a.Fragment,null,s.map((function(e,a){return r.a.createElement(w.a,{key:a,route:t.id,position:e[1],icon:v===a+1?x.Truck:x.DefaultIcon(v>a?"#696969":t.color,b.driver-1===t.index&&b.location===(v>a?a+1:a)?{mult:1.25}:{}),onClick:function(e){return v!==a+1?(n=t.index+1,r=v>a?a+1:a,void t.setSelectedLocation((function(e){var t=Object(u.a)({},e);return n===t.driver&&r===t.location?(t.driver=void 0,t.location=void 0,t):(n!==t.driver&&(t.driver=n),r!==t.location&&(t.location=r),t)}))):function(e,t){console.log("Hi this is Driver ".concat(t,"!"))}(0,t.driver_id);var n,r},onDblClick:function(){return!1}})})),t.visible&&s.map((function(e,a){return r.a.createElement(O.a,{key:a,positions:[e[0]?e[0]:[37.338208,-121.886329],e[1]],color:v>a?"dimgrey":t.color})})),r.a.createElement("button",{onClick:function(){i((function(e){var a=Object(k.a)(e),n=function(e,t){var a=e[0],n=e[1],r=1*(Math.random()*(2*t)+(a-t)).toFixed(3),l=1*(Math.random()*(2*t)+(n-t)).toFixed(3);return[r,l]}(t.baseLocation,.375);return a[v-1][1]=n,a[v][0]=n,a}))}},"HI"))},C=function(e){var t=e.routes,a=e.props;console.log("rendering map..");var l=Object(n.useRef)(),s=Object(n.useState)(),i=Object(o.a)(s,2),c=i[0],m=i[1],d=Object(n.useState)([]),E=Object(o.a)(d,2),h=E[0],b=E[1],p=a.selectedLocation,f=a.setSelectedLocation;Object(n.useEffect)((function(){var e=l.current,t=(void 0===e?{}:e).leafletElement;m(t)}),[]),Object(n.useEffect)((function(){c&&setTimeout((function(){return D()}),0)}),[c]),Object(n.useEffect)((function(){var e=Object(u.a)({},p),t=e.driver,a=e.location;if(c&&t&&a){var n=c.getZoom()>=11?c.getZoom():11,r=k[t-1][1].route_data[a-1].to;c.setView(r,n)}}),[p]);var g={};for(var y in t){var A=t[y].route_data[0].from;g[t[y].business_id]||(g[t[y].business_id]=A)}var N=Object.entries(g),k=Object.entries(t);try{var B=JSON.parse(window.localStorage.getItem("mapLatlng"))}catch(T){}var O=function(e){return!!Array.isArray(e)&&(2===e.length&&!(isNaN(e[0])||e[0]<=-90||e[0]>=90||isNaN(e[1])||e[1]<=-180||e[1]>=180))}(B),C=O?B[0]:N[0][1][0],I=O?B[1]:N[0][1][1],D=function(){var e=c,a=[];e.eachLayer((function(n){n instanceof v.a.Marker&&(a.push(n),(!t[n.options.route]||t[n.options.route].visible)&&e.getBounds().contains(n.getLatLng())||e.removeLayer(n))})),b(a),console.log("loading map..")},Q=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=h.length-1;a>=0;a--){var n=h[a],r=!t[n.options.route]||t[n.options.route].visible,l=e.getBounds(),s=r&&l.contains(n.getLatLng());n._icon&&!s?e.removeLayer(n):!n._icon&&s&&e.addLayer(n)}};return r.a.createElement(S.a,{ref:l,center:[C,I],zoom:c?c.getZoom():11,minZoom:2,maxBounds:[[-83.75,-180],[83.75,180]],maxBoundsViscosity:.9375,onMoveEnd:function(){Q(),window.localStorage.setItem("mapLatlng",JSON.stringify([c.getCenter().lat,c.getCenter().lng])),console.log("updating map..")}},r.a.createElement(R.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',updateWhenZooming:!1}),N.map((function(e,t){return r.a.createElement(w.a,{key:t,position:e[1],icon:x.Headquarters,onClick:function(){return console.log("Hi this is Business ".concat(e[0]))}})})),k.map((function(e,t){return r.a.createElement(_,{key:t,props:{id:e[0],driver_id:e[1].driver_id,route:e[1].route_data,visible:e[1].visible,index:t,color:e[1].route_color,selectedLocation:p,setSelectedLocation:f,manageMarkers:Q,baseLocation:e[1].route_data[0].from}})})))};function I(e){var t=e.props,a=Object(n.useState)(!0),l=Object(o.a)(a,2),s=l[0],i=l[1],c=Object.values(t.route);Object(n.useEffect)((function(){t.selectedLocation.driver===t.index+1&&s&&i(!1)}),[t.selectedLocation]);return r.a.createElement("div",{className:"box list-item"},r.a.createElement("table",{className:"table is-hoverable is-fullwidth is-size-7",style:{backgroundColor:"#f8f7fa"}},r.a.createElement("thead",null,r.a.createElement("tr",{className:"list-item-head"},r.a.createElement("th",{style:{minWidth:"120px"}},r.a.createElement("div",{style:{width:"250%",maxWidth:"225px",minWidth:"100px"}},r.a.createElement("button",{className:"button is-super-small is-rounded mr-3",onClick:function(){return t.dispatch({type:"route-toggle-visibility",payload:{id:t.id}})}},r.a.createElement(d.a,{icon:t.visible?x.faEyeSlash:x.faEye})),r.a.createElement("div",{className:"route",style:Object(u.a)({backgroundColor:"".concat(t.visible?t.color:"lightgrey"),borderBottom:"3px solid ".concat(t.visible?t.color:"lightgrey")},t.visible?{}:{marginLeft:"1.32px"})},r.a.createElement("span",null,"Route ",t.id)))),r.a.createElement("th",{style:{minWidth:"250px"}}),r.a.createElement("th",{style:{minWidth:"75px"}},r.a.createElement("div",{style:{width:"250%",maxWidth:"225px",minWidth:"100px"}},r.a.createElement("span",null,"Driver ".concat(t.driver_id,": ").concat(t.driver_first_name," ").concat(t.driver_last_name[0],".")),r.a.createElement("button",{className:"button is-rounded is-super-small is-pulled-right ml-1",onClick:function(){return console.log("Not sure what this does atm")}},r.a.createElement(d.a,{icon:x.faPhone})),r.a.createElement("button",{className:"button is-rounded is-super-small is-pulled-right",onClick:function(){return e=t.driver_id,void console.log("Sending Driver ".concat(e," a text.."));var e}},r.a.createElement(d.a,{icon:x.faComment})))),r.a.createElement("th",{style:{minWidth:"70px"}}),r.a.createElement("th",{style:{minWidth:"70px"}}),r.a.createElement("th",{style:{minWidth:"125px"}},r.a.createElement("button",{className:"button is-super-small is-pulled-right",onClick:function(){return i((function(e){return!e}))}},r.a.createElement(d.a,{icon:s?x.faCaretDown:x.faCaretUp}))))),r.a.createElement("tbody",{hidden:s},r.a.createElement("tr",null,r.a.createElement("th",{style:{borderBottomWidth:"2px"}}),r.a.createElement("th",{style:{borderBottomWidth:"2px"}},"Destination"),r.a.createElement("th",{style:{borderBottomWidth:"2px"}},"Customer"),r.a.createElement("th",{style:{borderBottomWidth:"2px"}},"ETA"),r.a.createElement("th",{style:{borderBottomWidth:"2px"}},"Arrival"),r.a.createElement("th",{style:{borderBottomWidth:"2px"}},r.a.createElement("span",{className:"ml-2"},"Confirm"))),c.map((function(e,a){return r.a.createElement("tr",{key:a,className:t.selectedLocation.driver===t.index+1&&t.selectedLocation.location===a+1?"is-selected":""},r.a.createElement("td",null,r.a.createElement("button",{className:"button is-rounded is-small mx-1",onClick:function(){return e=t.index+1,n=a+1,void t.setSelectedLocation((function(t){var a=Object(u.a)({},t);return e===a.driver&&n===a.location?(a.driver=void 0,a.location=void 0,a):(e!==a.driver&&(a.driver=e),n!==a.location&&(a.location=n),a)}));var e,n},style:{padding:"0.69rem"}},a+1),r.a.createElement("button",{className:"button is-rounded is-small mx-1",onClick:function(){return e=a+1,void console.log("Skipping Location ".concat(e,".."));var e}},"Skip")),r.a.createElement("td",null,e.address),r.a.createElement("td",null,"".concat(t.customers[e.customer_id].first_name," ").concat(t.customers[e.customer_id].last_name[0],".")),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,r.a.createElement("button",{className:"button is-rounded is-small mx-1",onClick:function(){return e=a+1,void console.log("Sending Location ".concat(e," a text.."));var e}},r.a.createElement(d.a,{icon:x.faComment})),r.a.createElement("button",{className:"button is-rounded is-small mx-1",onClick:function(){return e=a+1,void console.log("Sending Location ".concat(e," an email.."));var e}},r.a.createElement(d.a,{icon:x.faEnvelope}))))})))))}var D=function(e){var t=e.routes,a=e.drivers,n=(e.businesses,e.customers),l=e.props;console.log("rendering deliveries..");var s=l.selectedLocation,i=l.setSelectedLocation,c=l.dispatch;return r.a.createElement(r.a.Fragment,null,Object.entries(t).map((function(e,t){return r.a.createElement(I,{key:t,props:{id:e[0],route:e[1].route_data,visible:e[1].visible,color:e[1].route_color,driver_id:e[1].driver_id,driver_first_name:a[e[1].driver_id].first_name,driver_last_name:a[e[1].driver_id].last_name,customers:n,index:t,selectedLocation:s,setSelectedLocation:i,dispatch:c}})})))},Q=a(103);function T(e){var t=e.props,a=Object(n.useState)(!0),l=Object(o.a)(a,2),s=l[0],i=l[1],c=Object(n.useState)(!1),m=Object(o.a)(c,2),u=m[0],E=m[1];return r.a.createElement("div",{className:"box list-item"},r.a.createElement("table",{className:"table is-hoverable is-fullwidth is-size-7",style:{backgroundColor:"#f8f7fa"}},r.a.createElement("thead",null,r.a.createElement("tr",{className:"list-item-head"},r.a.createElement("th",{style:{minWidth:"300px"}},r.a.createElement("div",{style:{maxWidth:"275px"}},r.a.createElement("span",null,"Driver ",t.id,": ","".concat(t.driver.first_name," ").concat(t.driver.last_name[0],".")),r.a.createElement("button",{className:"button is-rounded is-pulled-right is-super-small ml-1"},r.a.createElement(d.a,{icon:x.faEnvelope})),r.a.createElement("button",{className:"button is-rounded is-pulled-right is-super-small"},r.a.createElement(d.a,{icon:x.faComment})))),r.a.createElement("th",{style:{minWidth:"150px"}}),r.a.createElement("th",{style:{minWidth:"150px"}},r.a.createElement("div",{style:{width:"150%",maxWidth:"225px"}},r.a.createElement(Q.a,{defaultValue:t.driver.rating,size:"small",precision:.5,readOnly:!0}),r.a.createElement("span",{className:"ml-4"},"Rating"))),r.a.createElement("th",{style:{minWidth:"150px"}},r.a.createElement("button",{className:"button is-super-small is-pulled-right",onClick:function(){return i((function(e){return!e}))}},r.a.createElement(d.a,{icon:s?x.faCaretDown:x.faCaretUp}))))),r.a.createElement("tbody",{className:"is-bordered has-text-centered",hidden:s},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-item"},r.a.createElement("span",{style:{width:"100%",textAlign:"left"}},"First & Middle Name:",r.a.createElement("hr",{style:{margin:0,backgroundColor:"#ededed"}}),"Last Name:")),r.a.createElement("div",{className:"level-item"},r.a.createElement("span",{style:{width:"100%",textAlign:"left"}},t.driver.first_name,r.a.createElement("hr",{style:{margin:0,backgroundColor:"#ededed"}}),t.driver.last_name)))),r.a.createElement("td",null,"# of hours/week",r.a.createElement("br",null),t.driver.weekly_workload),r.a.createElement("td",null,"Driver's License #",r.a.createElement("br",null),t.driver.drivers_license),r.a.createElement("td",null,"Business ID",r.a.createElement("br",null),t.driver.business_id)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-item"},r.a.createElement("span",{style:{width:"100%"}},"Emergency Contact:",r.a.createElement("br",null),"xxx-xxx-xxxx")),r.a.createElement("div",{className:"level-item"},r.a.createElement("span",{style:{width:"100%",textAlign:"left"}},"(Name) N/A",r.a.createElement("br",null),"(Relationship) N/A")))),r.a.createElement("td",null,"Preferred Routes",r.a.createElement("br",null)," N/A"),r.a.createElement("td",null,"Days Available",r.a.createElement("br",null),t.driver.day_availability),r.a.createElement("td",null,"Times Available",r.a.createElement("br",null),t.driver.time_availability)),r.a.createElement("tr",{className:"filler-row"},r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement("span",{className:"has-text-grey"},"Show ",u?"Less":"More"),r.a.createElement("button",{className:"button is-super-small is-light mx-1",onClick:function(){return E((function(e){return!e}))}},r.a.createElement(d.a,{icon:u?x.faCaretUp:x.faCaretDown,color:"grey"})))),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"left"}},"Address:",r.a.createElement("br",null),t.driver.address," N/A"),r.a.createElement("td",null,"SSN",r.a.createElement("br",null),t.driver.ssn),r.a.createElement("td",null,"Vehicle",r.a.createElement("br",null),t.driver.vehicle," N/A"),r.a.createElement("td",null,"Driver Password",r.a.createElement("br",null),t.driver.password)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-item"},r.a.createElement("span",{style:{width:"100%"}},"Bank Account #",r.a.createElement("br",null),"xxx-xxx-xxxx")),r.a.createElement("div",{className:"level-item"},r.a.createElement("span",{style:{width:"100%"}},"Bank Routing #",r.a.createElement("br",null),"xxx-xxx-xxxx")))),r.a.createElement("td",null,"Insurance Carrier",r.a.createElement("br",null)," N/A"),r.a.createElement("td",null,"Policy #",r.a.createElement("br",null),t.driver.insurance_number),r.a.createElement("td",null,"Expiration",r.a.createElement("br",null),t.driver.expiration))))))}var j=function(e){var t=e.drivers,a=e.routes;return e.props,console.log("rendering drivers.."),r.a.createElement(r.a.Fragment,null,Object.entries(t).map((function(e,t){return r.a.createElement(T,{key:t,props:{driver:e[1],id:e[0],routes:a,index:t}})})))};function W(e){var t=e.props,a=Object(n.useState)(!0),l=Object(o.a)(a,2),s=l[0],i=l[1],c="".concat(t.business.street).concat(t.business.unit?" ".concat(t.business.unit):""," ").concat(t.business.city," ").concat(t.business.state," ").concat(t.business.zip);return r.a.createElement("div",{className:"box list-item"},r.a.createElement("table",{className:"table is-hoverable is-fullwidth is-size-7",style:{backgroundColor:"#f8f7fa"}},r.a.createElement("thead",null,r.a.createElement("tr",{className:"list-item-head"},r.a.createElement("th",null,r.a.createElement("span",null,"Business ",t.id,": ",t.business.name)),r.a.createElement("th",null),r.a.createElement("th",null,r.a.createElement("button",{className:"button is-super-small is-pulled-right",onClick:function(){return i((function(e){return!e}))}},r.a.createElement(d.a,{icon:s?x.faCaretDown:x.faCaretUp}))))),r.a.createElement("tbody",{className:"is-bordered has-text-centered",hidden:s},r.a.createElement("tr",null,r.a.createElement("td",{className:"pr-0"},"Name",r.a.createElement("br",null),t.business.name),r.a.createElement("td",null,"Type",r.a.createElement("br",null),t.business.type),r.a.createElement("td",null,"Hours of Operation",r.a.createElement("br",null),t.business.hours)),r.a.createElement("tr",null,r.a.createElement("td",null,"Address",r.a.createElement("br",null),c),r.a.createElement("td",null,t.business.latitude,r.a.createElement("br",null),t.business.longitude),r.a.createElement("td",null,"Business Description ",r.a.createElement("br",null),t.business.description)),r.a.createElement("tr",null,r.a.createElement("td",null,"Phone #1: ",t.business.phone1,r.a.createElement("br",null),"Phone #2: ",t.business.phone2),r.a.createElement("td",null,"Contact Person",r.a.createElement("br",null),"N/A"),r.a.createElement("td",null,"Email",r.a.createElement("br",null),t.business.email)))))}var V=function(e){var t=e.businesses;return e.props,console.log("rendering businesses.."),r.a.createElement(r.a.Fragment,null,Object.entries(t).map((function(e,t){return r.a.createElement(W,{key:t,props:{business:e[1],id:e[0],index:t}})})))};function M(e){var t=e.props,a=Object(n.useState)(!0),l=Object(o.a)(a,2),s=l[0],i=l[1],c="".concat(t.customer.street).concat(t.customer.unit?" ".concat(t.customer.unit):""," ").concat(t.customer.city," ").concat(t.customer.state," ").concat(t.customer.zip);return r.a.createElement("div",{className:"box list-item"},r.a.createElement("table",{className:"table is-hoverable is-fullwidth is-size-7",style:{backgroundColor:"#f8f7fa"}},r.a.createElement("thead",null,r.a.createElement("tr",{className:"list-item-head"},r.a.createElement("th",null,r.a.createElement("span",null,"Customer ",t.id,": ","".concat(t.customer.first_name," ").concat(t.customer.last_name))),r.a.createElement("th",null),r.a.createElement("th",null,r.a.createElement("button",{className:"button is-super-small is-pulled-right",onClick:function(){return i((function(e){return!e}))}},r.a.createElement(d.a,{icon:s?x.faCaretDown:x.faCaretUp}))))),r.a.createElement("tbody",{className:"is-bordered has-text-centered",hidden:s},r.a.createElement("tr",null,r.a.createElement("td",{className:"pr-0"},"Name",r.a.createElement("br",null),"".concat(t.customer.first_name," ").concat(t.customer.last_name)),r.a.createElement("td",null,"Address",r.a.createElement("br",null),c),r.a.createElement("td",null,t.customer.latitude,r.a.createElement("br",null),t.customer.longitude)),r.a.createElement("tr",null,r.a.createElement("td",null,"Phone #: ",t.customer.phone),r.a.createElement("td",null,"Email: ",t.customer.email),r.a.createElement("td",null,"Notification Approval: ",t.customer.notification_approval,r.a.createElement("br",null),"Notification ID: ",t.customer.notification_id)))))}var L=function(e){var t=e.customers;return e.props,console.log("rendering customers.."),r.a.createElement(r.a.Fragment,null,Object.entries(t).map((function(e,t){return r.a.createElement(M,{key:t,props:{customer:e[1],id:e[0],index:t}})})))};function z(e){var t=e.props;return r.a.createElement("tr",null,r.a.createElement("td",null,t.business_id),r.a.createElement("td",null,t.business_name," N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"))}var F=function(e){var t=e.vehicles;return e.props,console.log("rendering vehicles.."),r.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Business ID"),r.a.createElement("th",null,"Business Name"),r.a.createElement("th",null,"Vehicle Make",r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"0.65rem"}},"Model, Year")),r.a.createElement("th",null,"Vehicle Registration"),r.a.createElement("th",null,"Insurance Carrier"),r.a.createElement("th",null,"Insurance Policy"),r.a.createElement("th",null,"Insurance Policy Expiration"),r.a.createElement("th",null,"Drivers"))),r.a.createElement("tbody",null,Object.entries(t).map((function(e,t){return r.a.createElement(z,{key:t,props:{business_id:e[0],vehicles:e[1],index:t}})}))))};function P(e){var t=e.props,a="".concat(t.order.customer_street," ").concat(t.order.customer_city," ").concat(t.order.customer_state," ").concat(t.order.customer_zip),n=JSON.parse(t.order.items);return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"".concat(t.order.customer_first_name," ").concat(t.order.customer_last_name)),r.a.createElement("td",null,a,r.a.createElement("br",null),r.a.createElement("br",null),t.order.customer_phone,r.a.createElement("br",null),t.order.customer_email),r.a.createElement("td",null,"$",t.order.cost),r.a.createElement("td",null,function(){var e=0;return r.a.createElement(r.a.Fragment,null,Object.entries(n).map((function(t,a){return e+=t[1],r.a.createElement("p",{key:a},"".concat(t[0],": ").concat(t[1]))})),r.a.createElement("br",null),r.a.createElement("p",null,"total: ",e))}()),r.a.createElement("td",null,r.a.createElement(d.a,t.order.hasPaid?{icon:x.faCheck,color:"green"}:{icon:x.faTimes,color:"red"})),r.a.createElement("td",null,t.order.type),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,t.order.status),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,r.a.createElement("p",null,"Order: ",t.order.order_instructions),r.a.createElement("br",null),r.a.createElement("p",null,"Delivery: ",t.order.delivery_instructions)),r.a.createElement("td",{className:"has-text-centered"},r.a.createElement("button",{className:"button is-rounded is-super-small my-1"},r.a.createElement(d.a,{icon:x.faPhone})),r.a.createElement("br",null),r.a.createElement("button",{className:"button is-rounded is-super-small my-1"},r.a.createElement(d.a,{icon:x.faComment})),r.a.createElement("br",null),r.a.createElement("button",{className:"button is-rounded is-super-small my-1"},r.a.createElement(d.a,{icon:x.faEnvelope}))))}var U=function(e){var t=e.orders;return e.props,console.log("rendering orders.."),r.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Order #"),r.a.createElement("th",null,"Date & Time"),r.a.createElement("th",null,"Customer Name"),r.a.createElement("th",null,"Customer Info"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"Paid?"),r.a.createElement("th",null,"Order Type"),r.a.createElement("th",null,"Business ID"),r.a.createElement("th",null,"Order Status"),r.a.createElement("th",null,"Delivery #"),r.a.createElement("th",null,"Route"),r.a.createElement("th",null,"Driver"),r.a.createElement("th",null,"Delivery Date"),r.a.createElement("th",null,"Delivery ETA"),r.a.createElement("th",null,"Delivered"),r.a.createElement("th",null,"Additional Instructions"),r.a.createElement("th",null,"Contact Customer"))),r.a.createElement("tbody",null,Object.entries(t).map((function(e,t){return r.a.createElement(P,{key:t,props:{order:e[1],id:e[0],index:t}})}))))};function q(){return r.a.createElement("div",{className:"level has-text-light-weight has-text-weight-light"},r.a.createElement("div",{className:"level-left is-split"},r.a.createElement("div",{className:"level-item"},"Min")),r.a.createElement("div",{className:"level-right is-split"},r.a.createElement("div",{className:"level-item"},"Max")))}function X(e){var t=e.props;return console.log(t.constraint),r.a.createElement("tr",null,r.a.createElement("td",null,t.constraint.business_id," N/A"),r.a.createElement("td",null,t.constraint.business_name," N/A"),r.a.createElement("td",null,"N/A"),r.a.createElement("td",null,t.constraint.business_phone," N/A"),r.a.createElement("td",null,r.a.createElement(K,null)),r.a.createElement("td",null,r.a.createElement(K,{value:t.constraint.driver_count,hasRange:!0})),r.a.createElement("td",null,r.a.createElement(K,{value:t.constraint.time_per_driver,hasRange:!0})),r.a.createElement("td",null,r.a.createElement(K,{value:t.constraint.delivery_count,hasRange:!0})))}function K(e){return r.a.createElement(r.a.Fragment,null,e.hasRange?r.a.createElement(J,{min:e.value,max:e.value}):r.a.createElement("input",{className:"input is-small has-text-centered",style:{width:"50px"},value:e.value,onChange:function(e){return console.log(e)}}))}function J(e){return r.a.createElement("div",{className:"level has-text-light-weight"+(e.isHeader?" has-text-weight-light":"")},r.a.createElement("div",{className:"level-left is-split"},r.a.createElement("div",{className:"level-item"},r.a.createElement("input",{className:"input is-small has-text-centered",style:{width:"50px"},value:e.min,onChange:function(e){return console.log(e)}}))),r.a.createElement("div",{className:"level-right is-split"},r.a.createElement("div",{className:"level-item"},r.a.createElement("input",{className:"input is-small has-text-centered",style:{width:"50px"},value:e.max,onChange:function(e){return console.log(e)}}))))}var H=function(e){var t=e.constraints;return e.props,console.log("rendering constraints.."),r.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Business ID"),r.a.createElement("th",null,"Business Name"),r.a.createElement("th",null,"Business Address"),r.a.createElement("th",null,"Business Phone Number"),r.a.createElement("th",null,"Number of Drivers"),r.a.createElement("th",null,r.a.createElement("p",{style:{borderBottom:"1px solid lightgrey"}},"Distance per Driver"),r.a.createElement(q,null)),r.a.createElement("th",null,r.a.createElement("p",{style:{borderBottom:"1px solid lightgrey"}},"Time per Driver"),r.a.createElement(q,null)),r.a.createElement("th",null,r.a.createElement("p",{style:{borderBottom:"1px solid lightgrey"}},"Number of Deliveries"),r.a.createElement(q,null)))),r.a.createElement("tbody",null,Object.entries(t).map((function(e,t){return r.a.createElement(X,{key:t,props:{constraint:e[1],index:t}})}))))},Z=a(25),G=a.n(Z),Y=(a(67),G.a.weekdays());function $(e){return r.a.createElement(r.a.Fragment,null,e.items.map((function(t,a){return r.a.createElement("td",{key:a,className:e.index===a?" is-today"+(e.isLast?"-end":""):""},e.hasRange?r.a.createElement(ee,{min:t,max:t}):r.a.createElement("div",{className:"has-text-centered"},t))})))}function ee(e){return r.a.createElement("div",{className:"level has-text-light-weight"+(e.isHeader?" has-text-weight-light":"")},r.a.createElement("div",{className:"level-left is-split"},r.a.createElement("div",{className:"level-item"},e.min)),r.a.createElement("div",{className:"level-right is-split"},r.a.createElement("div",{className:"level-item"},e.max)))}var te=function(e){console.log("rendering view..");var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],s=a[1],i=G()(),c=i.week(),m=i.weekday(),u=Object(n.useState)(i),E=Object(o.a)(u,2),h=E[0],v=E[1],b=Object(n.useState)(c),p=Object(o.a)(b,2),f=p[0],g=p[1],y=Object(n.useState)(),A=Object(o.a)(y,2),N=A[0],k=A[1];Object(n.useEffect)((function(){var t=e.times&&Object.keys(e.times).map((function(t){return[e.times[t].value]}));s("day"===e.type?t:Y)}),[]),Object(n.useEffect)((function(){"day"===e.type&&h.isSame(i,"d")&&k(e.timeSlot)}),[e.timeSlot]),Object(n.useEffect)((function(){"week"===e.type&&f===c&&k(i.weekday())}),[m]);for(var B=[],S=[],R=[],w=[],O=[],_=[],C=0;C<l.length;C++)B.push("N/A");for(var I=0;I<l.length;I++)S.push("N/A");for(var D=0;D<l.length;D++)R.push("N/A");for(var Q=0;Q<l.length;Q++)w.push("N/A");for(var T=0;T<l.length;T++)O.push("N/A");for(var j=0;j<l.length;j++)_.push("N/A");var W=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;v("day"===t?function(t){var n=t.clone().add(a,"d"),r=t.week(),l=n.week();return l!==r&&g(l),i.isSame(n,"d")?k(e.timeSlot):k(-1),n}:function(e){var t=e.clone().add(7*a,"d");return g(t.week()),i.isSame(t,"d")?k(i.weekday()):k(-1),t})};return r.a.createElement("div",{className:"modal"+(e.visible?" is-active":"")},r.a.createElement("div",{className:"modal-background",onClick:e.onClick}),r.a.createElement("div",{className:"modal-card",style:{width:"80vw"}},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("div",{className:"buttons has-addons",style:{minWidth:"220px"}},r.a.createElement("button",{className:"button mr-4",onClick:function(){return e.type,h!==i&&v(i),f!==c&&g(c),void(-1===N&&k("day"===e.type?e.timeSlot:i.weekday()))}},"Today"),r.a.createElement("button",{className:"button",onClick:function(){return W(e.type,-1)}},r.a.createElement(d.a,{icon:x.faChevronLeft})),r.a.createElement("button",{className:"button",onClick:function(){return W(e.type)}},r.a.createElement(d.a,{icon:x.faChevronRight})),r.a.createElement("button",{className:"button is-small is-static ml-4",style:{width:"150px"}},"day"===e.type?"".concat(Y[h.weekday()],": ").concat(h.format("MM-DD-YYYY")):"Week ".concat(f," - ").concat(h.clone().weekday(6).format("YYYY"))))),r.a.createElement("section",{className:"modal-card-body",style:{padding:"0"}},r.a.createElement("table",{className:"table is-fullwidth is-bordered is-view",style:{minWidth:"880px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"day"===e.type?"Time Window":"Day"),l.map((function(t,a){return r.a.createElement("th",{className:"has-text-centered"+(N===a?" is-today":""),key:a},r.a.createElement("p",{style:{borderBottom:"1px solid lightgrey"}},t+("week"===e.type?" [".concat(h.clone().add(a-h.weekday(),"d").format("MM/DD"),"]"):"")),r.a.createElement(ee,{min:"Min",max:"Max",isHeader:!0}))})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"Current number of drivers"},"# Drivers"),r.a.createElement($,{items:B,index:N})),r.a.createElement("tr",null,r.a.createElement("th",{title:"Total distance driven"},"Dist. Driven"),r.a.createElement($,{items:S,index:N})),r.a.createElement("tr",null,r.a.createElement("th",{title:"Number of deliveries made"},"# Deliveries"),r.a.createElement($,{items:R,index:N,hasRange:!0})),r.a.createElement("tr",null,r.a.createElement("th",{title:"Time spent to deliver each product"},"Time/Delivery"),r.a.createElement($,{items:w,index:N,hasRange:!0})),r.a.createElement("tr",null,r.a.createElement("th",{title:"Time spent at each product destination"},"Time/Location"),r.a.createElement($,{items:O,index:N,hasRange:!0})),r.a.createElement("tr",null,r.a.createElement("th",{title:"Total time spent"},"Total Time"),r.a.createElement($,{items:_,index:N,hasRange:!0,isLast:!0}))))),r.a.createElement("footer",{className:"modal-card-foot"})))},ae=a(24),ne=a.n(ae),re="https://lu636s0qy3.execute-api.us-west-1.amazonaws.com/dev/api/v2/",le=function(e,t){var a,n,r,l=t/e,s=~~(6*l),i=6*l-s,c=1-i;switch(s%6){case 0:a=1,n=i,r=0;break;case 1:a=c,n=1,r=0;break;case 2:a=0,n=1,r=i;break;case 3:a=0,n=c,r=1;break;case 4:a=i,n=0,r=1;break;case 5:a=1,n=0,r=c}return"#"+("00"+(~~(255*a)).toString(16)).slice(-2)+("00"+(~~(255*n)).toString(16)).slice(-2)+("00"+(~~(255*r)).toString(16)).slice(-2)},se={isLoading:!0,routes:{},drivers:{},businesses:{},customers:{},vehicles:{},orders:{},constraints:{}};function ie(e,t){switch(t.type){case"init":return t.payload.data;case"route-toggle-visibility":return Object(u.a)(Object(u.a)({},e),{},{routes:Object(u.a)(Object(u.a)({},e.routes),{},Object(m.a)({},t.payload.id,Object(u.a)(Object(u.a)({},e.routes[t.payload.id]),{},{visible:!e.routes[t.payload.id].visible})))});default:return e}}var ce={0:{},1:{},2:{}};function oe(e){console.log("rendering header..");return r.a.createElement("div",{className:"header-parent"},r.a.createElement("div",{className:"header-main"},r.a.createElement("img",{className:"has-text-left",src:p.a,alt:"Just Delivered",style:{alignSelf:"center",maxHeight:"5vh"}}),r.a.createElement("p",{className:"has-text-centered",style:{width:"100%",fontSize:"3vh"}},"ADMIN DASHBOARD"),["Delivery","Drivers","Businesses","Customers","Vehicles","Orders & Shipments","Constraints"].map((function(t,a){return r.a.createElement("button",{key:a,className:"button is-lightgrey is-sharp is-tilted-right is-fullheight",onClick:function(){return t=a,void(e.tab!==t&&e.changeTab(t));var t},style:{backgroundColor:e.tab===a&&"yellow"}},t)})),r.a.createElement("button",{className:"button is-white is-fullheight ml-1",onClick:function(){return e.handleBurger()}},r.a.createElement(d.a,{icon:x.faBars}))),r.a.createElement("ul",{id:"selections",className:"header-burger"},r.a.createElement("li",null,r.a.createElement("button",{className:"button is-white is-fullwidth",onClick:e.handleDayView},"Day View")),r.a.createElement("li",null,r.a.createElement("button",{className:"button is-white is-fullwidth",onClick:e.handleWeekView},"Week View"))))}function me(e){console.log("rendering times..");return r.a.createElement("div",{className:"columns routes",style:{margin:"0"}},e.times.map((function(t,a){return r.a.createElement("div",{key:a,className:"column",style:{maxWidth:"".concat(100/e.times.length,"%")}},r.a.createElement("button",{className:"button is-fullwidth is-small",onClick:function(){return t=a,void(e.timeSlot!==t&&e.setTimeSlot(t));var t},style:{backgroundColor:e.timeSlot===a&&"yellow"}},t.value))})))}var ue=function(){console.log("rendering page..");var e=Object(n.useReducer)(ie,se),t=Object(o.a)(e,2),a=t[0],l=t[1];console.log(a);var s=Object(n.useState)([{value:"00 am - 00 pm"},{value:"01 am - 01 pm"},{value:"02 am - 02 pm"},{value:"03 am - 03 pm"},{value:"04 am - 04 pm"}]),i=Object(o.a)(s,2),c=i[0],m=(i[1],Number(window.localStorage.getItem("timeSlot"))||0),u=Number(window.localStorage.getItem("headerTab"))||0,d=Object(n.useState)(m),E=Object(o.a)(d,2),h=E[0],v=E[1],b=Object(n.useState)(u),p=Object(o.a)(b,2),f=p[0],g=p[1],y=Object(n.useState)({}),A=Object(o.a)(y,2),N=A[0],x=A[1];Object(n.useEffect)((function(){window.localStorage.setItem("headerTab",f)}),[f]),Object(n.useEffect)((function(){window.localStorage.setItem("timeSlot",h)}),[h]),Object(n.useEffect)((function(){Promise.allSettled([ne.a.get(re+"getDrivers").then((function(e){var t,a=e.data.result.result,n={},r=Object(B.a)(a);try{for(r.s();!(t=r.n()).done;){var l=t.value,s=l.driver_id,i={first_name:l.driver_first_name,last_name:l.driver_last_name,ssn:l.driver_ssn,drivers_license:l.driver_license,insurance_number:l.driver_insurance_num,password:l.driver_password,time_availability:l.driver_hours,business_id:l.business_id,weekly_workload:"N/A",day_availability:"N/A",expiration:"N/A",preferred_routes:"N/A",rating:"N/A"};n[s]=i}}catch(c){r.e(c)}finally{r.f()}return n})),ne.a.get(re+"getBusinesses").then((function(e){var t,a=e.data.result.result,n={},r=Object(B.a)(a);try{for(r.s();!(t=r.n()).done;){var l=t.value,s=l.business_id,i={name:l.business_name,description:l.business_desc,type:l.business_type,hours:l.business_hours,street:l.business_street,unit:l.business_unit,city:l.business_city,state:l.business_state,zip:l.business_zip,phone:l.business_phone_num,email:l.business_email,phone2:l.business_phone_num2,latitude:l.business_latitude,longitude:l.business_longitude};n[s]=i}}catch(c){r.e(c)}finally{r.f()}return n})),ne.a.get(re+"getCustomers").then((function(e){var t,a=e.data.result.result,n={},r=Object(B.a)(a);try{for(r.s();!(t=r.n()).done;){var l=t.value,s=l.customer_id,i={first_name:l.customer_first_name,last_name:l.customer_last_name,street:l.customer_street,unit:l.customer_unit,city:l.customer_city,state:l.customer_state,zip:l.customer_zip,phone:l.customer_phone_num,email:l.customer_email,latitude:l.customer_latitude,longitude:l.customer_longitude,notification_approval:l.notification_approval,notification_id:l.notification_device_id};n[s]=i}}catch(c){r.e(c)}finally{r.f()}return n})),ne.a.get(re+"getCustomerOrders").then((function(e){var t,a=e.data.result.result,n={},r=Object(B.a)(a);try{for(r.s();!(t=r.n()).done;){var l=t.value,s=l.order_id,i={customer_id:l.customer_id,customer_first_name:l.customer_first_name,customer_last_name:l.customer_last_name,customer_street:l.customer_street,customer_city:l.customer_city,customer_state:l.customer_state,customer_zip:l.customer_zip,customer_phone:l.customer_phone_num,customer_email:l.customer_email,customer_latitude:l.customer_latitude,customer_longitude:l.customer_longitude,items:l.items,cost:l.amount,order_instructions:l.order_instructions,delivery_instructions:l.delivery_instructions,type:l.order_type,status:l.order_status};n[s]=i}}catch(c){r.e(c)}finally{r.f()}return n}))]).then((function(e){var t;(t=e[1].value,ne.a.get(re+"getCustomerRoutes").then((function(e){var a,n=e.data.result.result,r={},l=Object(B.a)(n);try{for(l.s();!(a=l.n()).done;){var s=a.value,i=s.route_id,c={customer_id:s.customer_id,address:"".concat(s.customer_street," ").concat(s.customer_city," ").concat(s.customer_state," ").concat(s.customer_zip),to:[s.customer_latitude,s.customer_longitude]};i in r?(c.from=r[i].route_data[r[i].route_data.length-1].to,r[i].route_data.push(c)):(c.from=[t[s.business_id].latitude,t[s.business_id].longitude],r[i]={business_id:s.business_id,driver_id:s.driver_id,visible:!0,route_data:[c]})}}catch(d){l.e(d)}finally{l.f()}var o=0,m=Object.keys(r).length;for(var u in r)r[u].route_color=le(m,o++);return r}))).then((function(t){var a={isLoading:!1,routes:t,drivers:e[0].value,businesses:e[1].value,customers:e[2].value,vehicles:ce,orders:e[3].value,constraints:ce};l({type:"init",payload:{data:a}})}))}))}),[]);var k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("Burger interaction..");var t=document.getElementById("selections");t.style.display=e||"block"===t.style.display?"none":"block"},S=Object(n.useState)("none"),R=Object(o.a)(S,2),w=R[0],O=R[1],_=function(e){console.log("Open day view.."),k(!0),O(w===e?"none":e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{tab:f,changeTab:g,handleBurger:k,handleDayView:function(){return _("day")},handleWeekView:function(){return _("week")}}),r.a.createElement(te,{type:"day",times:c,timeSlot:h,visible:"day"===w,onClick:function(){return _("day")}}),r.a.createElement(te,{type:"week",visible:"week"===w,onClick:function(){return _("week")}}),a.isLoading?r.a.createElement("div",{className:"loading-screen"}):r.a.createElement("div",{className:"map-page"},r.a.createElement("div",{className:"columns",style:{margin:"auto"}},f<4&&r.a.createElement("div",{className:"column is-half",style:{padding:"0"}},r.a.createElement(me,{times:c,timeSlot:h,setTimeSlot:v}),r.a.createElement("div",{className:"sticky"},r.a.createElement(C,{routes:a.routes,props:{selectedLocation:N,setSelectedLocation:x}}))),r.a.createElement("div",{className:"column"+(f<4?" is-half":" is-full"),style:{padding:"0 0.75rem",marginTop:f<4?"5vh":"1vh"}},r.a.createElement("div",{className:"box"+(f<4?" map":" no-map")},function(){switch((Math.floor(h)!==h||h<0||h>c.length-1)&&v(0),f){case 0:return r.a.createElement(D,{routes:a.routes,drivers:a.drivers,businesses:a.businesses,customers:a.customers,props:{selectedLocation:N,setSelectedLocation:x,dispatch:l}});case 1:return r.a.createElement(j,{drivers:a.drivers,routes:a.routes});case 2:return r.a.createElement(V,{businesses:a.businesses});case 3:return r.a.createElement(L,{customers:a.customers});case 4:return r.a.createElement(F,{vehicles:a.vehicles});case 5:return r.a.createElement(U,{orders:a.orders});case 6:return r.a.createElement(H,{constraints:a.constraints});default:g(0)}}())))))};var de=function(){return console.log("rendering app.."),r.a.createElement(i.a,{basename:"Delivery-App"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:ue})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(87);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.92e137e7.chunk.js.map