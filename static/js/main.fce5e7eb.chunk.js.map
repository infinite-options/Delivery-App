{"version":3,"sources":["utils/Icons/app_icon.png","utils/Icons/headquarters.png","utils/Icons/truck.png","utils/Icons/Icons.js","pages/Admin/LeafletMap.js","utils/Functions/DataFunctions.js","pages/Admin/Lists/DeliveryList.js","utils/Components/FillerRow.js","utils/Components/EditItemField.js","utils/Components/DayHoursDropdown.js","pages/Admin/Lists/DriverList.js","pages/Admin/Lists/BusinessList.js","pages/Admin/Lists/CustomerList.js","pages/Admin/Lists/VehicleList.js","utils/Components/SortingIcon.js","pages/Admin/Lists/PurchaseList.js","pages/Admin/Lists/PaymentList.js","pages/Admin/Lists/CouponList.js","pages/Admin/Lists/ConstraintList.js","pages/Admin/DeliveryView.js","pages/Admin/DashboardPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","CustomIcon","icon","width","height","w","h","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","DefaultIcon","color","mult","substring","App","AppIcon","Truck","TruckIcon","Headquarters","HeadquartersIcon","faComment","faEnvelope","faPhone","faCaretDown","faCaretUp","faBars","faChevronLeft","faChevronRight","faEye","faEyeSlash","faCheck","faTimes","faPlus","faSort","faSortUp","faSortDown","faTrash","DEFAULT_LATLNG","calculateLatlng","routes_array","latlng","latlngLocal","JSON","parse","window","localStorage","getItem","e","isLatlng","Array","isArray","length","isNaN","route_data","to","RouteMarkers","route","id","props","useState","coords","setCoords","from","driverLocation","destination","useEffect","createRouteCoords","latlngs","location","push","address","val","i","randomVal","Math","random","toFixed","createManyCoordinates","createDriverCoords","routeCoords","temp","fromDriverToNext","splice","Fragment","map","index","Marker","key","position","Icons","route_color","selectedLocation","driver","onClick","driverNumber","locationNumber","setSelectedLocation","prevSelectedLocation","undefined","event","console","log","handleDriverSelect","driver_id","onDblClick","header","visible","Polyline","positions","prevCoords","randomCoords","range","x","y","lat","lng","getRandomCoordinates","DriverMarkers","latitude","longitude","BusinessMarkers","business","customers","customer","customer_uid","customer_lat","customer_long","CustomerMarkers","LeafletMap","routes","drivers","businesses","mapRef","useRef","leafletMap","setLeafletMap","mapData","setMapData","mapMarkers","setMapMarkers","current","leafletElement","setTimeout","handleMapLoad","handleFilterUpdate","filter","type","newData","dataType","prevMapData","dataKeys","Object","keys","filtered","entries","entry","option","value","dataToHide","includes","handleDataUpdate","changedData","filteredKeys","manageMarkers","selected","zoom","getZoom","setView","drivers_array","businesses_array","customers_array","mapLatlng","mapZoom","zoomLocal","Number","calculateZoom","markers","eachLayer","layer","L","checkVisibility","getBounds","contains","getLatLng","removeLayer","marker","routeVisible","mapBounds","isVisible","_icon","addLayer","options","Map","ref","center","minZoom","maxBounds","maxBoundsViscosity","onMoveEnd","setItem","stringify","getCenter","TileLayer","url","attribution","updateWhenZooming","NEW_NEW_BASE_URL","rainbow","numOfSteps","step","r","g","b","f","q","toString","slice","createConstraints","Promise","resolve","reject","constraints","businessKeys","business_id","axios","get","then","response","result","data","constraint_uid","business_uid","business_name","name","business_street","street","business_unit","unit","business_city","city","business_state","state","business_zip","zip","business_phone","phone","num_drivers","max_distance","max_time","min_time","max_deliveries","min_deliveries","catch","err","setBusinessesCustomers","validToUpdate","values","new_data","dataEntries","RouteItem","hidden","setHidden","driversList","find","driver_route_id","driversToRoutes","route_id","setDriver","route_values","indexOf","className","style","backgroundColor","maxWidth","dispatch","payload","borderBottom","marginLeft","DriversDropdown","driver_num","list","setList","setDriversList","setDriversToRoutes","prevHidden","borderBottomWidth","disabled","padding","customer_first_name","customer_last_name","open","setOpen","route_driver_id","prevList","prevDriversToRoutes","driver_name","newList","newDriversToRoutes","borderColor","prevOpen","aria-haspopup","aria-controls","title","paddingTop","role","item","DeliveryList","routeData","setRouteData","first_name","last_name","saveRoutesDrivers","a","routeDriverEntries","routeDriver","BASE_URL","marginBottom","FillerRow","numColumns","showMore","setShowMore","empty","textAlign","prevShowMore","EditItemField","placeholder","handleChange","handleTextareaSize","focus","target","scrollHeight","textarea","minHeight","onFocus","onBlur","onChange","checkbox","verticalAlign","checked","weekdays","moment","convertTo12Hr","time","hour24","floor","timePM","TimeRange","days","selectedDay","beginTime","closeTime","DayHoursDropdown","setSelectedDay","minWidth","day","emptyDriver","available_hours","bank_account_info","bank_routing_info","delivery_fee","drivers_license","drivers_license_exp","email","emergency_contact_name","emergency_contact_phone","emergency_contact_relationship","hourly_rate","insurance_carrier","insurance_expiration","insurance_number","password","phone2","preferred_routes","rating","scheduled_hours","ssn","vehicle_types","weekly_workload","DriverItem","Rating","size","precision","readOnly","handleEdit","margin","flexShrink","borderLeft","DriverEdit","driverData","setDriverData","exists","persist","prevDriverData","marginTop","display","flexWrap","DriverList","dataEdit","setDataEdit","editDriver","action","originalData","dataForNow","driver_first_name","driver_last_name","driver_available_hours","driver_scheduled_hours","driver_street","driver_city","driver_state","driver_zip","driver_phone_num","driver_email","driver_phone_num2","driver_ssn","driver_license","driver_license_exp","driver_insurance_num","driver_password","ENDPOINT_URL","postData","driver_uid","post","emptyBusiness","EIN","USDOT","WAUBI","accepting_hours","available_zones","can_cancel","contact_first_name","contact_last_name","delivery","delivery_hours","description","hours","image","license","notification_approval","notification_device_id","registered","reusable","zones","BusinessItem","businessNumber","src","alt","top","BusinessEdit","businessData","setBusinessData","prevBusinessData","Boolean","BusinessList","editBusiness","business_created_at","business_type","business_desc","business_contact_first_name","business_contact_last_name","business_phone_num","business_phone_num2","business_email","business_hours","business_accepting_hours","business_delivery_hours","business_address","business_latitude","business_longitude","business_EIN","business_WAUBI","business_license","business_USDOT","business_image","business_password","CustomerItem","customer_id","SMS_frequency","SMS_last_notification","notification_id","verified","password_salt","password_hash","password_algorithm","referral_source","last_update","customer_rep","CustomerList","customerData","setCustomerData","VehicleItem","vehicle","vehicle_make","vehicle_model","vehicle_year","registration","registration_expiration","VehicleList","vehicles","vehicleList","fontSize","SortingIcon","update","typeOf","cursor","prevState","newValue","sortBy","sort","localeCompare","userType","name_a","name_b","PurchaseItem","purchase","delivery_street","delivery_unit","delivery_city","delivery_state","delivery_zip","items","purchase_date","delivery_first_name","delivery_last_name","delivery_phone","delivery_email","cost","hasPaid","order_type","purchase_status","purchase_notes","order_instructions","delivery_instructions","PurchaseList","purchases","purchaseData","setPurchaseData","PaymentItem","payment","purchase_id","payment_time_stamp","start_delivery_date","coupon_id","amount_due","amount_discount","amount_paid","charge_id","payment_type","info_is_Addon","credit_card_num","credit_card_cvv","credit_card_expiration","credit_card_zip","PaymentList","payments","paymentList","CouponItem","coupon","valid","charAt","toUpperCase","handleDisableCoupon","code","discount_amount","discount_percent","discount_shipping","expire_date","limits","notes","num_used","recurring","RefundItem","refund","created_at","customer_note","refund_amount","admin_note","InsertForm","setData","prevData","setForm","handleSubmit","email_id","cup_business_uid","phone_num","image_url","ref_coupon_id","CouponList","coupons","refunds","couponList","refundList","form","MinMax","constraint","min_distance","ConstraintList","constraintList","toggleSort","reducer","today","week","toweek","slot","dayDate","clone","add","direction","currentWeek","nextWeek","weeknextWeek","isSame","weekDate","RowItems","isLast","hasRange","ValueRange","min","max","isHeader","DeliveryView","times","columns","useReducer","timeSlot","weekday","dateData","dateDispatch","distance","amtDeliveries","timeDelivery","timeDestination","totalTimeDeliveries","handleCalendarShift","handleTodayClick","format","initState","isLoading","routes_dates","routes_times","date","newRoutes","route_drivers","forEach","Header","alignSelf","maxHeight","tab","changeTab","handleTabChange","handleBurger","handleDayView","handleWeekView","RouteTimes","dates","dateSlot","setDateSlot","handleDateChange","setTimeSlot","handleTimeChange","FilterDropdown","setDataType","filterItems","setFilterItems","document","getElementById","handleFilter","justifyContent","flexGrow","onSubmit","preventDefault","DashboardPage","headerTab","setHeaderTab","allSettled","totalOptions","tempRoutes","deliveryInfo","route_delivery_info","coordinates","location_data","route_option","route_business_id","route_driver_num","route_distance","shipment_date","shift","tempDrivers","driver_data","driver_rating","driver_vehicle_types","driver_unit","driver_latitude","driver_longitude","driver_insurance_carrier","driver_insurance_exp","driver_hourly_rate","driver_delivery_fee","tempBusinesses","business_data","tempCustomers","customer_data","customer_phone_num","SMS_freq_preference","customer_address","customer_unit","customer_city","customer_state","customer_zip","customer_email","customer_created_at","email_verified","password_hashed","customer_updated_at","user_social_media","user_access_token","user_refresh_token","tempVehicles","vehicle_id","vehicle_uid","vehicle_data","vehicle_ins_carrier","vehicle_ins_policy_num","vehicle_ins_exp_date","vehicle_registration","vehicle_registration_exp","tempPurchases","purchase_uid","purchase_data","pur_customer_uid","pur_business_uid","delivery_phone_num","delivery_address","delivery_latitude","delivery_longitude","tempPayments","payment_id","payment_uid","payment_data","pay_purchase_uid","pay_coupon_id","cc_num","cc_exp_date","cc_cvv","cc_zip","tempCoupons","coupon_uid","coupon_data","tempRefunds","refund_id","refund_uid","refund_data","onItemSelect","element","onView","setOnView","handleView","handleHeaderTab","basename","exact","path","component","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","unregister","error","message"],"mappings":"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","file":"static/js/main.fce5e7eb.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDUlEQVRYhb2XTWsTURSGn4Y0GcamhlLiR6FkJ1KKSFdVtC7StVDIDyjZuXDhQvwXbqVQBd1IA90IbhJBqBJKSUV3XQix1U0IKTZlvJmMExe5N95Mk8mknfbA5X5N5n3uOWcmc8ba7TYAy8vLUSACxGQfJVxzABewAbdQKDgAY+12W4nHAEO2mASIhCTuSgAbELLZhULBGctkMkrcBCZlb3A+HhCABRzJ3lanNKR4qmhmSyEL91jGyi/KoQs4uuvNopktzaTTGKZJ3DBCFW4KgbAsipVsKWPl55Fh0BPPAM5FHPDeU+VZJEon1qoNFN/f3++Zz87OngWiq6my3DfbhRAkk0ka6ys01ldIJpMIIUYG8FhEkfiaEIJqtcq9G9M8e/sNgPkrUbb2qqRSKYwzhssXQAiBbds8mLvKuyd3evYePi+x+/MPwJkgfAHUyeeuT/Diw/fuerP1l5vXLtFqtdjaq54qHwIBALx/et93P5HbPLU4BHzV2o7bFdLHYVhY7/rzBYhFIzTWV06Mw7CR/3D6ud/7ktJtWIIGBkjkNrsnD+qBILly6hzIre2QW9vpO370qhz4PoEBvKfe2D5gY/ug7/jNpx+BAU790aEDDRoHscAe8MbzwkPgtQsPgde1Fx6C87ITHmg0GgA0m81QBGq1GgDxeNwXwFULiUSC7MI0APV6ncevd3t+sLqUPrE2yFaX0kxNTXXn+XJN33YVgKM1Dg8PefmxEZoHoAp0POA4jlrsakb5Xy4JgEi7TWx8nEQiERJAx5pC4LZaaiqkphvVxK2MlV8sVvoXJjPpNJc1d/rZ73qdX5VK3z1ZmFhodYErJ0fygnl6S7MIQLGS/QwMhVDiGSt/Vy6p/PKWZgJwgxSn3W/4opkt+3lCE1+gN7cGF6dDynPV6+Xbl34Qmvht3cUegP7luZ9JMAOYkM0smtmvOoQmfkuKH8smlNAgGwowAGJCeQLQT37MCOKBAfpATEqIMqBifkwnuQKLjwTggTBli8ktm47rrVHERwbQIFRSqkdVPWL2KOIA/wBrqaBPsq9TWgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADV0lEQVRYhb2XTWgTURDHf4m1XRc1tdQVKa0RihdRkSC1VIvIVnoUIehNRFAo9NyLl4oIPYogKnjqRQnUnqSQUKFQ61dQQS9VMFTFRmJNY1k3a9x46Htxk+6mWU0cGN5mNm9//zdv9mMCxWIRgIGBgSYgCDSLsYn6WgGwAQuw4/F4ASBQLBYlvBlQhDcLAcE6wW0hwAJM4VY8Hi8EdF2XcBXYKkaFxmTABAwgJ0ZLrlIRcC2hRufqDC4z3Yj1ikMbKDhTrybU6FxHOIyiqrQoSl3BedPENAwSqeicbsT2IbbBWXgK0BA4UHlNWWdBWe3SGwJ3EVFiyiqvV7X7saBU4styuRzZbPaviJqmrYn5FpDNZhk+0c3V0/t9zRscm2F2/sua+F+l3i8cYGqk3zVeNQOLi4tYluUb5sc8BeTzeSzLYvrScQ7tbi3F2y7cr6sAzy1Ip9NEdrcR2RXi9PU5joxOA/DzV7GuAlwzYBgGAFMjR7n35AMPXn6uK9RprhnIZDKcjHQQDAS4PPEGVVUbJsCzBsaHeriReMfHpR8Ng1cVADCkdzOkdzdUwH97BA+OzbjG130SXpua51LsdVms/eIk+YLtW4SmaaxkMrULOHblIcrGDXy/c4rP335w7vYztm9pYXyopypoy/kJ+va0MzXST3rZ5OzNpzx6+xXF5U1bdQuS77+VHqE7t23i1vkIk8lPVeEAJyMdpXk7Qgp3hw8jP34rzTMDe0efr4mF1I3A6gr9WKva7HnOVUBXV1fpeHBsprSaM9cfEwgE6OzsrApcWFgom+dVgJ4CpGmaxuz8l7IVu73T/2WeFOBa0oqilGWjVqtxng2rRVhwOHnT9A2s1RzXLjGD/GmXTADTMBoiQn6WCzMF025ywA3diPUmUu6NSUc4TKitrSbY8tISn1Ip13OiMTFw9AW2+JETf9hHeWsWBEikorPAuiIkXDdifSIk66uyNTMBu5bmtPQNn1CjyWqZcMAjlNeWd3O6TnsuR2f79sJNhAN+0JniCgHu7Xk1E8IUYLNwNaFGXzlFOOAHBHxFuClBXrauAA8Rm2UmAOfKV/ABr1mAi4itQkQSkHu+wmpx1Qz3JaBChCpcvmUsVlNv+IH7FuAQIYtS3qryFrP8wAF+AzQdg7iYatxtAAAAAElFTkSuQmCC\"","import { \r\n  faComment, faEnvelope, faPhone, faCaretDown, faCaretUp, \r\n  faBars, faChevronLeft, faChevronRight, faEye, faEyeSlash, \r\n  faCheck, faTimes, faPlus, faSort, faSortUp, faSortDown, faTrash \r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { Icon } from \"leaflet\";\r\nimport AppIcon from \"./app_icon.png\";\r\nimport HeadquartersIcon from \"./headquarters.png\";\r\nimport TruckIcon from \"./truck.png\";\r\n\r\nconst DefaultIcon = (color, {width=25, height=41, mult=1} = {}) => {\r\n  let w = width * mult;\r\n  let h = height * mult;\r\n  return new Icon({\r\n    // These google charts icons are a bit ugly, but are super customizable (color-wise), see if they have better looking ones?\r\n    iconUrl: `https://chart.apis.google.com/chart?chst=d_map_pin_icon&chld=home|${color.substring(1)}&chf=a,s,ee00FFFF`,\r\n    shadowUrl: `https://chart.apis.google.com/chart?chst=d_map_pin_shadow&chf=a,s,52B55233`,\r\n    iconSize: [w, h],\r\n    iconAnchor: [w / 2, h],\r\n    popupAnchor: [1, h * -1.4],\r\n    shadowSize: [h, h],\r\n  });\r\n};\r\n\r\nconst CustomIcon = (icon, {width=32, height=41} = {}) => {\r\n  let w = width;\r\n  let h = height;\r\n\r\n  return new Icon({\r\n    iconUrl: icon,\r\n    shadowUrl: `https://chart.apis.google.com/chart?chst=d_map_pin_shadow&chf=a,s,52B55233`,\r\n    iconSize: [w, h],\r\n    iconAnchor: [w / 2, h],\r\n    popupAnchor: [1, h * -1.4],\r\n    shadowSize: [h, h],\r\n  });\r\n};\r\n\r\nconst App = CustomIcon(AppIcon);\r\nconst Truck = CustomIcon(TruckIcon);\r\nconst Headquarters = CustomIcon(HeadquartersIcon);\r\n\r\nexport default { \r\n  DefaultIcon, App, Truck, Headquarters, \r\n  faComment, faEnvelope, faPhone, faCaretDown, faCaretUp, \r\n  faBars, faChevronLeft, faChevronRight, faEye, faEyeSlash, \r\n  faCheck, faTimes, faPlus, faSort, faSortUp, faSortDown, faTrash \r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport {\r\n  Map,\r\n  TileLayer,\r\n  Marker,\r\n  // Popup,\r\n  // MapLayer,\r\n  Polyline,\r\n} from \"react-leaflet\";\r\n// import { geolocated } from \"react-geolocated\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport L from \"leaflet\";\r\n// use San Jose, CA as the default center\r\nconst DEFAULT_LATLNG = [37.338208, -121.886329];\r\n\r\nfunction validateLatlng(latlng) {\r\n  if (!Array.isArray(latlng)) return false;\r\n  if (latlng.length !== 2) return false;\r\n  if (isNaN(latlng[0]) || (latlng[0] <=  -90 || latlng[0] >=  90) || \r\n      isNaN(latlng[1]) || (latlng[1] <= -180 || latlng[1] >= 180)) return false;\r\n  return true;\r\n};\r\n\r\nfunction calculateLatlng(routes_array) {\r\n  const latlngLocal = (() => {\r\n    try { return JSON.parse(window.localStorage.getItem(\"mapLatlng\")); }\r\n    catch (e) { return null; }\r\n  })();\r\n\r\n  try { \r\n    const isLatlng = validateLatlng(latlngLocal);\r\n    return [\r\n      isLatlng ? latlngLocal[0] : routes_array[0][1].route_data[0].to[0], \r\n      isLatlng ? latlngLocal[1] : routes_array[0][1].route_data[0].to[1]\r\n    ];\r\n  } \r\n  catch (e) { return DEFAULT_LATLNG; } \r\n};\r\n\r\nfunction calculateZoom() {\r\n  const zoomLocal = Number(window.localStorage.getItem(\"mapZoom\"));\r\n  return zoomLocal && zoomLocal >= 2 && zoomLocal <= 18 ? zoomLocal : 11;\r\n};\r\n\r\n// NOTE: This section of code feels really messy to me, think about cleaning it up and making it\r\n//       more readable, if possible.\r\nfunction LeafletMap({ header, routes, drivers, businesses, customers, ...props }) {\r\n  console.log(\"rendering map..\");\r\n\r\n  const mapRef = useRef();\r\n  const [leafletMap, setLeafletMap] = useState();\r\n  const [mapData, setMapData] = useState({ routes, drivers, businesses, customers });\r\n  const [mapMarkers, setMapMarkers] = useState([]);\r\n  \r\n  /* rendering leafletMap */\r\n  useEffect(() => {\r\n    const { current={} } = mapRef;\r\n    const { leafletElement: map } = current;\r\n    // console.log(map);\r\n    setLeafletMap(map);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (leafletMap) setTimeout(() => handleMapLoad(), 0); // waiting for RouteMarkers to finish rendering\r\n  }, [leafletMap]);\r\n\r\n  /* rendering/updating data when user filters data */\r\n  // FIXME: A business' visibility value should be set to false IF:\r\n  //        user is on the deliveries tab\r\n  //        -- AND --\r\n  //        all routes associated with the business have visibility values = false;\r\n  // FIXME: Upon page reload, markers that should be invisible flicker once on page. Not big deal but looks glitchy and weird\r\n  useEffect(() => {\r\n    if (leafletMap) handleFilterUpdate(props.filter ? props.filter.type : undefined);\r\n  }, [header, props.filter]);\r\n\r\n  const handleFilterUpdate = (type) => {\r\n    let dataType = type;\r\n    let newData;\r\n    setMapData(prevMapData => {\r\n      if (dataType) {\r\n        newData = { ...prevMapData[dataType] };\r\n        const dataKeys = Object.keys(prevMapData[dataType]);\r\n        const filtered = Object.entries(prevMapData[dataType]).filter(entry => {\r\n          return entry[1][props.filter.option] != props.filter.value;\r\n        });\r\n        const dataToHide = Array.from(filtered, entry => entry[0]);\r\n        for (let key of dataKeys) {\r\n          if(dataToHide.includes(key)) newData[key].visible = false;\r\n          else newData[key].visible = true;\r\n        }\r\n      }\r\n      else {\r\n        newData = header === 0 ? { ...routes } :\r\n                  header === 1 ? { ...drivers } :\r\n                  header === 2 ? { ...businesses } :\r\n                /*header === 3 ?*/ { ...customers };\r\n        const dataKeys = Object.keys(newData);\r\n        for (let key of dataKeys) newData[key].visible = true;\r\n        dataType = header === 0 ? 'routes' :\r\n                   header === 1 ? 'drivers' :\r\n                   header === 2 ? 'businesses' :\r\n                 /*header === 3 ?*/ 'customers';\r\n      }\r\n      console.log(newData);\r\n      console.log(\"YO\", {\r\n        ...prevMapData,\r\n        [dataType]: newData,\r\n      });\r\n      return {\r\n        ...prevMapData,\r\n        [dataType]: newData,\r\n      };\r\n    });\r\n  };\r\n\r\n  /* updating routes/drivers/businesses/customers upon user interaction (Ex: toggle visibility) */\r\n  useEffect(() => {\r\n    handleDataUpdate(\"routes\");\r\n  }, [routes]);\r\n\r\n  useEffect(() => {\r\n    handleDataUpdate(\"drivers\");\r\n  }, [drivers]);\r\n\r\n  useEffect(() => {\r\n    handleDataUpdate(\"businesses\");\r\n  }, [businesses]);\r\n\r\n  useEffect(() => {\r\n    handleDataUpdate(\"customers\");\r\n  }, [customers]);\r\n\r\n  const handleDataUpdate = (type) => {\r\n    if (leafletMap) setMapData(prevMapData => {\r\n      const changedData = type === 'routes' ? routes : \r\n                          type === 'drivers' ? drivers :\r\n                          type === 'businesses' ? businesses :\r\n                        /*type === 'customers' ?*/ customers;\r\n      const dataKeys = Object.keys(changedData);\r\n      const filteredKeys = Object.keys(prevMapData[type]);\r\n      let newData = { ...prevMapData[type] };\r\n      for (let key of dataKeys) {\r\n        if (filteredKeys.includes(key)) {\r\n          newData[key].visible = changedData[key].visible;\r\n          // other values that may be modified by an admin user?\r\n        }\r\n      }\r\n      return {\r\n        ...prevMapData,\r\n        [type]: newData,\r\n      };\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (leafletMap) manageMarkers();\r\n  }, [mapData, header]);\r\n\r\n  /* updating selected marker' size */\r\n  useEffect(() => {\r\n    const selected = { ...props.selectedLocation };\r\n    const driver = selected.driver;\r\n    const location = selected.location;\r\n    // console.log(mapRoutes);\r\n    // console.log(leafletMap);\r\n    if (leafletMap && driver && location) {\r\n      // console.log(\"SUCCESS\");\r\n      const zoom = leafletMap.getZoom() >= 11 ? leafletMap.getZoom() : 11;\r\n      const route = routes_array[driver - 1][1].route_data;\r\n      // console.log(\"HERE2:\", route);\r\n      const latlng = route[location - 1][\"to\"];\r\n      // console.log(zoom);\r\n      // console.log(route);\r\n      // console.log(latlng);\r\n\r\n      leafletMap.setView(latlng, zoom);\r\n    }\r\n  }, [props.selectedLocation]);\r\n  \r\n  // console.log(businessLocations);\r\n  // console.log(mapRoutes);\r\n  const routes_array = Object.entries(mapData.routes);\r\n  const drivers_array = Object.entries(mapData.drivers);\r\n  const businesses_array = Object.entries(mapData.businesses);\r\n  const customers_array = Object.entries(mapData.customers);\r\n  // console.log(businesses_array);\r\n\r\n  const mapLatlng = calculateLatlng(routes_array);\r\n  const mapZoom = calculateZoom();\r\n\r\n  const handleMapLoad = () => {\r\n    const map = leafletMap;\r\n    // console.log(map);\r\n    let markers = [];\r\n    map.eachLayer((layer) => {\r\n      // console.log(\"Scanning\", layer);\r\n      if (layer instanceof L.Marker) {\r\n        // console.log(layer);\r\n        markers.push(layer);\r\n        // check if Marker should be visible initially\r\n        // console.log(mapRoutes[layer.options.route]);\r\n        const routeVisible = checkVisibility(layer);\r\n        const isVisible = routeVisible && map.getBounds().contains(layer.getLatLng());\r\n        if (!isVisible) map.removeLayer(layer);\r\n      }\r\n    });\r\n    // console.log(markers);\r\n    setMapMarkers(markers);\r\n    console.log(\"loading map..\");\r\n  }\r\n\r\n  const handleMapUpdate = () => {\r\n    manageMarkers(); // updating Markers' visibility as user drags map around\r\n    window.localStorage.setItem(\"mapLatlng\", JSON.stringify([leafletMap.getCenter().lat, leafletMap.getCenter().lng]));\r\n    // is this if-statement even necessary?\r\n    if (window.localStorage.getItem(\"mapZoom\") != leafletMap.getZoom()) window.localStorage.setItem(\"mapZoom\", leafletMap.getZoom());\r\n    // console.log(mapMarkers);\r\n    console.log(\"updating map..\");\r\n  };\r\n\r\n  const manageMarkers = (map=leafletMap) => {\r\n    // console.log(mapMarkers);\r\n    for (let marker of mapMarkers) {\r\n      // const marker = mapMarkers[i];\r\n      // console.log(\"Marker:\", marker);\r\n      // console.log(mapRoutes[marker.options.route]);\r\n      const routeVisible = checkVisibility(marker);\r\n      const mapBounds = map.getBounds();\r\n      const isVisible = routeVisible && mapBounds.contains(marker.getLatLng());\r\n      // console.log(isVisible, marker);\r\n      if (marker._icon && !isVisible) map.removeLayer(marker);\r\n      else if (!marker._icon && isVisible) map.addLayer(marker);\r\n    }\r\n  };\r\n\r\n  const checkVisibility = (marker) => {\r\n    switch (header) {\r\n      case 0:\r\n        // console.log(businessLocations[marker.options.business]);\r\n        return (\r\n          mapData.routes[marker.options.route] ? mapData.routes[marker.options.route].visible : (\r\n          marker.options.customer ? false : (\r\n          mapData.businesses[marker.options.business] ? mapData.businesses[marker.options.business].visible : false\r\n          ))\r\n        );\r\n      case 1:\r\n        return (\r\n          mapData.routes[marker.options.route] ? mapData.routes[marker.options.route].visible : (\r\n          mapData.drivers[marker.options.driver] ? mapData.drivers[marker.options.driver].visible : false\r\n          )\r\n        );\r\n      case 2:\r\n        return (\r\n          mapData.businesses[marker.options.business] ? mapData.businesses[marker.options.business].visible : false\r\n        );\r\n      case 3:\r\n        return (\r\n          marker.options.business ? false : (\r\n          mapData.customers[marker.options.customer] ? mapData.customers[marker.options.customer].visible : false\r\n          )\r\n        );\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Map\r\n      ref={mapRef}\r\n      center={mapLatlng}\r\n      zoom={mapZoom}\r\n      minZoom={2}\r\n      maxBounds={[\r\n        [-83.75, -180], // preventing users from seeing map edge\r\n        [83.75, 180],\r\n      ]}\r\n      maxBoundsViscosity={0.9375}\r\n      // preferCanvas={true}\r\n      // onMove={handleMapUpdate}\r\n      onMoveEnd={handleMapUpdate}\r\n    >\r\n      <TileLayer\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        updateWhenZooming={false}\r\n        // updateWhenIdle={true}\r\n        // onload={}\r\n      />\r\n      {drivers_array.map((driver, index) => (\r\n        <DriverMarkers \r\n          key={index}\r\n          index={index}\r\n          id={driver[0]}\r\n          driver={driver[1]}\r\n          header={header}\r\n        />\r\n      ))}\r\n      {businesses_array.map((business, index) => (\r\n        <BusinessMarkers \r\n          key={index}\r\n          index={index}\r\n          id={business[0]}\r\n          business={business[1]}\r\n          header={header}\r\n        />\r\n      ))}\r\n      {customers_array.map((customer, index) => (\r\n        <CustomerMarkers \r\n          key={index}\r\n          index={index}\r\n          id={customer[0]}\r\n          customer={customer[1]}\r\n          header={header}\r\n        />\r\n      ))}\r\n      {routes_array.map((route, index) => (\r\n        <RouteMarkers\r\n          key={index}\r\n          index={index}\r\n          id={route[0]}\r\n          route={route[1]}\r\n          selectedLocation={props.selectedLocation}\r\n          setSelectedLocation={props.setSelectedLocation}\r\n          // manageMarkers={manageMarkers}\r\n          header={header}\r\n          // visible={routes[route[0]].visible}\r\n        />\r\n      ))}\r\n    </Map>\r\n  );\r\n}\r\n\r\nconst RouteMarkers = ({ route, id, ...props }) => {\r\n  const [coords, setCoords] = useState([]);\r\n  const [driverLocation, setDriverLocation] = useState(route.route_data[0].from); // useState(CURRENT_DRIVER_LOCATION ? CURRENT_DRIVER_LOCATION : props.businessLocation)\r\n  const [destination, setDestination] = useState(1); // useState(CURRENT_DRIVER_DESTINATION ? CURRENT_DRIVER_DESTINATION : props.businessLocation)\r\n  // const selectedLocation = props.selectedLocation;\r\n\r\n  useEffect(() => {\r\n    createRouteCoords();\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   props.manageMarkers();\r\n  // }, [props.visible])\r\n\r\n  const createRouteCoords = () => {\r\n    let latlngs = [];\r\n    for (let location of route.route_data) {\r\n      // if (location === route.route_data[0]) continue;\r\n      latlngs.push([location.from, location.to, location.address]); // calling it coords/latlngs is a bit misleading now that it also contains the address string\r\n    }\r\n    createManyCoordinates(latlngs, 0); // test\r\n    createDriverCoords(latlngs);\r\n    // console.log(latlngs);\r\n    setCoords(latlngs);\r\n  };\r\n\r\n  const createDriverCoords = (routeCoords) => {\r\n    // console.log(routeCoords);\r\n    // checking if there are more drivers than delivery locations\r\n    if (routeCoords.length) {\r\n      // point from previous location to driver location\r\n      // console.log(\"yo\", routeCoords[destination-1]);\r\n      const temp = routeCoords[destination - 1][1];\r\n      routeCoords[destination - 1][1] = driverLocation;\r\n      // create route from driver location to next location\r\n      const fromDriverToNext = [driverLocation, temp];\r\n      // console.log(fromDriverToNext);\r\n      routeCoords.splice(destination, 0, fromDriverToNext);\r\n    }\r\n  };\r\n\r\n  const handleDriverLocation = () => {\r\n    setCoords((prevCoords) => {\r\n      let coords = [...prevCoords];\r\n      const randomCoords = getRandomCoordinates(route.route_data[0].to, 0.1); // testing\r\n      coords[destination - 1][1] = randomCoords; // = driverLocation\r\n      coords[destination][0] = randomCoords; // = driverLocation\r\n      return coords;\r\n    });\r\n  };\r\n\r\n  const handleDelivery = () => {\r\n    setDestination((prevDestination) => prevDestination + 1);\r\n\r\n    // if (destination === props.route.length) console.log(\"Final Destination\");\r\n  };\r\n\r\n  // for testing driver coordinates only\r\n  function getRandomCoordinates(location, range) {\r\n    const x = location[0];\r\n    const y = location[1];\r\n    const lat = (Math.random() * (2 * range) + (x - range)).toFixed(3) * 1;\r\n    const lng = (Math.random() * (2 * range) + (y - range)).toFixed(3) * 1;\r\n    return [lat, lng];\r\n  }\r\n\r\n  // for testing marker limits only\r\n  function createManyCoordinates(latlngs, val) {\r\n    // 2 Markers per 1 val\r\n    for (let i = 0; i < val; i++) {\r\n      const randomVal = () => {\r\n        return (Math.random() * 360 - 180).toFixed(3) * 1;\r\n      };\r\n\r\n      latlngs.push([\r\n        [randomVal(), randomVal()],\r\n        [randomVal(), randomVal()],\r\n      ]);\r\n    }\r\n  }\r\n  // console.log(props.route);\r\n  // console.log(coords);\r\n\r\n  // duplcate code, create function in DashboardPage.js and send function to children component\r\n  const handleSelect = (event, driverNumber, locationNumber) => {\r\n    // console.log(event);\r\n    // console.log(`{${driverNumber}, ${locationNumber}}`);\r\n    props.setSelectedLocation((prevSelectedLocation) => {\r\n      let selectedLocation = { ...prevSelectedLocation };\r\n      if (\r\n        driverNumber === selectedLocation.driver &&\r\n        locationNumber === selectedLocation.location\r\n      ) {\r\n        selectedLocation.driver = undefined;\r\n        selectedLocation.location = undefined;\r\n        return selectedLocation;\r\n      }\r\n\r\n      if (driverNumber !== selectedLocation.driver)\r\n        selectedLocation.driver = driverNumber;\r\n      if (locationNumber !== selectedLocation.location)\r\n        selectedLocation.location = locationNumber;\r\n      \r\n      // console.log(selectedLocation);\r\n      return selectedLocation;\r\n    });\r\n  };\r\n\r\n  const handleDriverSelect = (event, driverNumber) => {\r\n    console.log(`Hi this is Driver ${driverNumber}!`);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {coords.map((location, index) => {\r\n        // console.log(coords);\r\n        return <Marker\r\n          key={index}\r\n          route={id}\r\n          position={location[1]}\r\n          icon={\r\n            destination === index + 1\r\n              ? Icons.Truck\r\n              : Icons.DefaultIcon(\r\n                  destination > index ? \"#696969\" : route.route_color,\r\n                  props.selectedLocation.driver - 1 === props.index &&\r\n                    props.selectedLocation.location ===\r\n                      (destination > index ? index + 1 : index)\r\n                    ? { mult: 1.25 }\r\n                    : {}\r\n                )\r\n          }\r\n          onClick={(e) =>\r\n            destination !== index + 1\r\n              ? handleSelect(e, props.index + 1, destination > index ? index + 1 : index)\r\n              : handleDriverSelect(e, route.driver_id)\r\n          }\r\n          onDblClick={() => false} // disabling zoom on marker double click\r\n        >\r\n          {/* TODO: Learn how to set conditional popups, i.e. if Marker is already selected, do not show popup on click */}\r\n          {/* <Popup closeButton={false}>\r\n            <p>{destination !== index + 1 ? `Destination ${destination > index ? index + 1 : index}` : `Driver ${props.index + 1}`}</p>\r\n            {destination !== index + 1 ? (\r\n              <React.Fragment>\r\n                <p>{`Address: ${location[2]}`}</p>\r\n                <p>{`ETA: 00:00 am`}</p>\r\n                <p>{`Arrived: 00:00 pm`}</p>\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                <p>Driver Info</p>\r\n              </React.Fragment>\r\n            )}\r\n          </Popup> */}\r\n        </Marker>\r\n      })}\r\n      {(props.header < 2 && route.visible) && coords.map((location, index) => {\r\n        // console.log(index, location);\r\n        return (\r\n          <Polyline\r\n            key={index}\r\n            positions={[location[0], location[1]]}\r\n            // weight={2}\r\n            color={destination > index ? \"dimgrey\" : route.route_color}\r\n          />\r\n        );\r\n      })}\r\n      <button onClick={handleDriverLocation}>HI</button>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nfunction DriverMarkers({ driver, id, ...props }) {\r\n\r\n  return (\r\n    <Marker \r\n      driver={id}\r\n      position={[driver.latitude || Math.random(), driver.longitude || Math.random()]}\r\n      icon={Icons.DefaultIcon(\"#FFFFFF\")}\r\n      onClick={() => console.log(`Hi this is Driver ${id}`)}\r\n      onDblClick={() => false} // disabling zoom on marker double click\r\n    />\r\n  );\r\n};\r\n\r\nfunction BusinessMarkers({ business, id, ...props }) {\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Marker \r\n        business={id}\r\n        position={[business.latitude || Math.random(), business.longitude || Math.random()]} \r\n        icon={Icons.Headquarters} \r\n        onClick={() => console.log(`Hi this is Business ${id}`)} \r\n        onDblClick={() => false} // disabling zoom on marker double click\r\n      />\r\n      {business.customers && business.customers.map((customer, index) => (\r\n        <Marker \r\n          key={index}\r\n          customer={customer.customer_uid}\r\n          business={id}\r\n          position={[customer.customer_lat || Math.random(), customer.customer_long || Math.random()]}\r\n          icon={Icons.DefaultIcon(\"#696969\")}\r\n          onClick={() => console.log(`Hi this is Business ${id}: Customer ${customer.customer_uid}`)}\r\n          onDblClick={() => false} // disabling zoom on marker double click\r\n        />\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nfunction CustomerMarkers({ customer, id, ...props }) {\r\n\r\n  return (\r\n    <Marker \r\n      customer={id}\r\n      position={[customer.latitude || Math.random(), customer.longitude || Math.random()]}\r\n      icon={Icons.DefaultIcon(\"#000000\")}\r\n      onClick={() => console.log(`Hi this is Customer ${id}`)}\r\n      onDblClick={() => false} // disabling zoom on marker double click\r\n    />\r\n  );\r\n};\r\n\r\n// export default geolocated({\r\n//   positionOptions: {\r\n//     enableHighAccuracy: true,\r\n//   },\r\n//   watchPosition: true,\r\n//   userDecisionTimeout: 10000, // determines how much time (in miliseconds) we\r\n//   // give the user to make the decision whether to allow to share their location or not\r\n// })(LeafletMap);\r\n\r\nexport default LeafletMap;\r\n","import axios from \"axios\";\r\n\r\n// \"https://wrguk721j7.execute-api.us-west-1.amazonaws.com/dev/api/v1/\";\r\nconst NEW_NEW_BASE_URL = \"https://uqu7qejuee.execute-api.us-west-1.amazonaws.com/dev/api/v2/\";\r\nconst NEW_BASE_URL = \"https://tsx3rnuidi.execute-api.us-west-1.amazonaws.com/dev/api/v2/\";\r\nconst BASE_URL = \"https://lu636s0qy3.execute-api.us-west-1.amazonaws.com/dev/api/v2/\";\r\n\r\nconst rainbow = (numOfSteps, step) => {\r\n  // This function generates vibrant, \"evenly spaced\" colours (i.e. no clustering). This is ideal for creating easily distinguishable vibrant markers in Google Maps and other apps.\r\n  // Adam Cole, 2011-Sept-14\r\n  // HSV to RBG adapted from: http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\r\n  var r, g, b;\r\n  var h = step / numOfSteps;\r\n  var i = ~~(h * 6);\r\n  var f = h * 6 - i;\r\n  var q = 1 - f;\r\n  switch (i % 6) {\r\n    case 0: r = 1; g = f; b = 0; break;\r\n    case 1: r = q; g = 1; b = 0; break;\r\n    case 2: r = 0; g = 1; b = f; break;\r\n    case 3: r = 0; g = q; b = 1; break;\r\n    case 4: r = f; g = 0; b = 1; break;\r\n    case 5: r = 1; g = 0; b = q; break;\r\n    default: \r\n  }\r\n  var c = \"#\" +\r\n    (\"00\" + (~~(r * 255)).toString(16)).slice(-2) +\r\n    (\"00\" + (~~(g * 255)).toString(16)).slice(-2) +\r\n    (\"00\" + (~~(b * 255)).toString(16)).slice(-2);\r\n  return c;\r\n};\r\n\r\n/* route structure:\r\n *\r\n * Object > {\r\n *     route_id: {\r\n *         business_id,\r\n *         driver_id,\r\n *         // driver_first_name,\r\n *         // driver_last_name,\r\n *         visible,\r\n *         route_option\r\n *         route_color,\r\n *         route_data: [\r\n *             {\r\n *                 customer_id,\r\n *                 customer_first_name,\r\n *                 customer_last_name,\r\n *                 customer_email,\r\n *                 customer_phone,\r\n *                 from: [prevLatitude, prevLongitude],\r\n *                 to: [latitude, longitude],\r\n *                 address,\r\n *             }, ...\r\n *         ]\r\n *     }, ...\r\n * }\r\n */\r\nconst createRoutes = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"getRoutes\")\r\n  .then((response) => {\r\n    // console.log(\"temprouteS:\", response);\r\n    const result = response.data.result.result;\r\n    let totalOptions = 0;\r\n    let tempRoutes = {};\r\n    for (let location of result) {\r\n      // console.log(location, result.length);\r\n      const deliveryInfo = JSON.parse(location.route_delivery_info);\r\n      const route_id = location.route_id;\r\n      // const latlngs = JSON.parse(location.customer_coords);\r\n      const latlngs = [deliveryInfo[0].coordinates.latitude, deliveryInfo[0].coordinates.longitude];\r\n      // console.log(latlngs);\r\n      const location_data = {\r\n        // to: [latlngs.latitude, latlngs.longitude],\r\n        to: latlngs,\r\n        customer_id: deliveryInfo[0].customer_id,\r\n        // customer_first_name: \"Bill\",\r\n        // customer_last_name: \"Gates\",\r\n        address: deliveryInfo[0].delivery_street,\r\n\r\n        // customer_id: location.customer_id,\r\n        // customer_first_name: location.delivery_first_name,\r\n        // customer_last_name: location.delivery_last_name,\r\n        // customer_email: location.delivery_email,\r\n        // customer_phone: location.delivery_phone_num,\r\n        // address: `${location.delivery_address} ${location.delivery_city} ${location.delivery_state} ${location.delivery_zip}`,\r\n        // NOTE: This regex stuff is temporary, the endpoint gives messy coordinate values so I gotta clean it\r\n        // to: [location.delivery_latitude.replace( /^,/g, ''), location.delivery_longitude.replace( /^,/g, '')],\r\n        //* customer_id: location.customer_id,\r\n        //* customer_first_name: location.customer_first_name,\r\n        //* customer_last_name: location.customer_last_name,\r\n        //* customer_email: location.customer_email,\r\n        //* customer_phone: location.customer_phone_num,\r\n        //* address: `${location.customer_street} ${location.customer_city} ${location.customer_state} ${location.customer_zip}`,\r\n        //* to: [location.customer_latitude, location.customer_longitude],\r\n      };\r\n      // console.log(route_id);\r\n      if (route_id in tempRoutes) {\r\n        location_data.from = \r\n          tempRoutes[route_id].route_data[\r\n            tempRoutes[route_id].route_data.length - 1\r\n          ].to;\r\n        // console.log(location_data);\r\n        // console.log(\"route data:\", tempRoutes[route_id].route_data);\r\n        tempRoutes[route_id].route_data.push(location_data);\r\n      } \r\n      else {\r\n        // console.log(\"route's business\", businesses[location.business_id]);\r\n        // location_data.from = [0, 0];\r\n        if (totalOptions < location.route_option) totalOptions = location.route_option;\r\n        location_data.from = [latlngs.latitude, latlngs.longitude];\r\n        //* location_data.from = [+location.customer_latitude + (Math.random() * 0.22 - 0.1), +location.customer_longitude + (Math.random() * 0.22 - 0.1)];\r\n        tempRoutes[route_id] = {\r\n          route_option: location.route_option,\r\n          business_id: location.route_business_id,\r\n          driver_id: location.route_driver_id, //* location.driver_id,\r\n          driver_num: location.route_driver_num,\r\n          // driver_first_name: \"Bob\", //* location.driver_first_name,\r\n          // driver_last_name: \"Jones\", //* location.driver_last_name, \r\n          distance: location.route_distance,\r\n          date: location.shipment_date,\r\n          visible: true,\r\n          route_data: [location_data],\r\n        };\r\n      }\r\n    }\r\n    // let colors = [];\r\n    let i = 0;\r\n    // const routes_length = Object.keys(tempRoutes).length;\r\n    let route_option = 1;\r\n    for (let route_id in tempRoutes) {\r\n      tempRoutes[route_id].route_data.shift(); // delete first location, since that's the starting location\r\n      // eslint-disable-next-line\r\n      if (route_option != tempRoutes[route_id].route_option) {\r\n        // eslint-disable-next-line\r\n        if (tempRoutes[route_id].route_option == 1) { route_option = 1; i = 0; }\r\n        else { route_option++; i++; }\r\n      }\r\n      tempRoutes[route_id].route_color = rainbow(totalOptions, i);\r\n    }\r\n      // console.log(tempRoutes);\r\n    return tempRoutes;\r\n  });\r\n\r\n\r\n  // return axios.get(BASE_URL + \"getCustomerRoutes\")\r\n  // .then((response) => {\r\n  //   // console.log(\"temprouteS:\", response);\r\n  //   const result = response.data.result.result;\r\n  //   let tempRoutes = {};\r\n  //   for (let location of result) {\r\n  //     const route_id = location.route_id;\r\n  //     const location_data = {\r\n  //       customer_id: location.customer_id,\r\n  //       address: `${location.customer_street} ${location.customer_city} ${location.customer_state} ${location.customer_zip}`,\r\n  //       // from: tempRoutes[route_id].route_data[route_data.length - 1].to,\r\n  //       to: [location.customer_latitude, location.customer_longitude],\r\n  //     };\r\n  //     if (route_id in tempRoutes) {\r\n  //       location_data.from =\r\n  //         tempRoutes[route_id].route_data[\r\n  //           tempRoutes[route_id].route_data.length - 1\r\n  //         ].to;\r\n  //       console.log(location_data);\r\n  //       // console.log(\"route data:\", tempRoutes[route_id].route_data);\r\n  //       tempRoutes[route_id].route_data.push(location_data);\r\n  //     } else {\r\n  //       // console.log(\"route's business\", businesses[location.business_id]);\r\n  //       location_data.from = [\r\n  //         businesses[location.business_id].latitude,\r\n  //         businesses[location.business_id].longitude,\r\n  //       ];\r\n  //       tempRoutes[route_id] = {\r\n  //         business_id: location.business_id,\r\n  //         driver_id: location.driver_id,\r\n  //         visible: true,\r\n  //         route_data: [location_data],\r\n  //       };\r\n  //     }\r\n  //   }\r\n  //   // let colors = [];\r\n  //   let i = 0;\r\n  //   const routes_length = Object.keys(tempRoutes).length;\r\n  //   for (let route_id in tempRoutes)\r\n  //     tempRoutes[route_id].route_color = rainbow(routes_length, i++);\r\n  //   return tempRoutes;\r\n  // });\r\n};\r\n\r\nconst createDrivers = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"Drivers\")\r\n  .then((response) => {\r\n    // console.log(\"response_drivers:\", response);\r\n    const result = response.data.result.result;\r\n    let tempDrivers = {};\r\n    for (let driver of result) {\r\n      const driver_id = driver.driver_uid;\r\n      const driver_data = {\r\n        visible: true,\r\n        rating: driver.driver_rating,\r\n\r\n        first_name: driver.driver_first_name,\r\n        last_name: driver.driver_last_name,\r\n\r\n        weekly_workload: \"N/A\",\r\n\r\n        drivers_license: driver.driver_license,\r\n        drivers_license_exp: driver.driver_license_exp,\r\n        vehicle_types: driver.driver_vehicle_types,\r\n\r\n        emergency_contact_name: driver.emergency_contact_name,\r\n        emergency_contact_phone: driver.emergency_contact_phone,\r\n        emergency_contact_relationship: driver.emergency_contact_relationship,\r\n\r\n        preferred_routes: \"N/A\",\r\n\r\n        available_hours: driver.driver_available_hours,\r\n        scheduled_hours: driver.driver_scheduled_hours,\r\n\r\n        street: driver.driver_street,\r\n        unit: driver.driver_unit,\r\n        city: driver.driver_city,\r\n        state: driver.driver_state,\r\n        zip: driver.driver_zip,\r\n        latitude: Number(driver.driver_latitude),\r\n        longitude: Number(driver.driver_longitude),\r\n\r\n        insurance_carrier: driver.driver_insurance_carrier,\r\n        insurance_number: driver.driver_insurance_num,\r\n        insurance_expiration: driver.driver_insurance_exp,\r\n        \r\n        bank_routing_info: driver.bank_routing_info,\r\n        bank_account_info: driver.bank_account_info,\r\n\r\n        ssn: driver.driver_ssn,\r\n        password: driver.driver_password,\r\n\r\n        phone: driver.driver_phone_num,\r\n        phone2: driver.driver_phone_num2,\r\n        email: driver.driver_email,\r\n\r\n        business_id: driver.business_id,\r\n        hourly_rate: driver.driver_hourly_rate,\r\n        delivery_fee: driver.driver_delivery_fee,\r\n        // time_availability: {\r\n        //   Sunday: undefined,\r\n        //   Monday: 1,\r\n        //   Tuesday: undefined,\r\n        //   Wednesday: 1,\r\n        //   Thursday: 1,\r\n        //   Friday: undefined,\r\n        //   Saturday: undefined,\r\n        // },\r\n      };\r\n      tempDrivers[driver_id] = driver_data;\r\n    }\r\n    // setDrivers(tempDrivers);\r\n    return tempDrivers;\r\n  });\r\n};\r\n\r\nconst createBusinesses = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"Businesses\")\r\n  .then((response) => {\r\n    // console.log(\"tempbusines\", response);\r\n    const result = response.data.result.result;\r\n    let tempBusinesses = {};\r\n    for (let business of result) {\r\n      const business_id = business.business_uid;\r\n      const business_data = {\r\n        visible: true, //temp\r\n        zones: undefined,\r\n\r\n        name: business.business_name,\r\n        type: business.business_type,\r\n        description: business.business_desc,\r\n        registered: business.business_created_at,\r\n        image: business.business_image,\r\n\r\n        license: business.business_license,\r\n        password: business.business_password,\r\n        EIN: business.business_EIN,\r\n        USDOT: business.business_USDOT,\r\n        WAUBI: business.business_WAUBI,\r\n\r\n        hours: business.business_hours,\r\n        delivery_hours: business.business_delivery_hours,\r\n        accepting_hours: business.business_accepting_hours,\r\n        available_zones: business.available_zones,\r\n\r\n        street: business.business_address,\r\n        unit: business.business_unit,\r\n        city: business.business_city,\r\n        state: business.business_state,\r\n        zip: business.business_zip,\r\n        latitude: Number(business.business_latitude),\r\n        longitude: Number(business.business_longitude),\r\n\r\n        contact_first_name: business.business_contact_first_name,\r\n        contact_last_name: business.business_contact_last_name,\r\n        phone: business.business_phone_num,\r\n        phone2: business.business_phone_num2,\r\n        email: business.business_email,\r\n\r\n        delivery: business.delivery,\r\n        can_cancel: business.can_cancel,\r\n        reusable: business.reusable,\r\n\r\n        notification_approval: business.notification_approval,\r\n        notification_device_id: business.notification_device_id,\r\n      };\r\n      tempBusinesses[business_id] = business_data;\r\n    }\r\n    // setBusinesses(tempBusinesses);\r\n    return tempBusinesses;\r\n  });\r\n\r\n\r\n  // return axios.get(BASE_URL + \"getBusinesses\")\r\n  // .then((response) => {\r\n  //   // console.log(\"tempbusines\", response);\r\n  //   const result = response.data.result.result;\r\n  //   let tempBusinesses = {};\r\n  //   for (let business of result) {\r\n  //     const business_id = business.business_id;\r\n  //     const business_data = {\r\n  //       name: business.business_name,\r\n  //       description: business.business_desc,\r\n  //       type: business.business_type,\r\n  //       hours: business.business_hours,\r\n  //       street: business.business_street,\r\n  //       unit: business.business_unit,\r\n  //       city: business.business_city,\r\n  //       state: business.business_state,\r\n  //       zip: business.business_zip,\r\n  //       phone: business.business_phone_num,\r\n  //       email: business.business_email,\r\n  //       phone2: business.business_phone_num2,\r\n  //       latitude: business.business_latitude,\r\n  //       longitude: business.business_longitude,\r\n  //     };\r\n  //     tempBusinesses[business_id] = business_data;\r\n  //   }\r\n  //   // setBusinesses(tempBusinesses);\r\n  //   return tempBusinesses;\r\n  // });\r\n};\r\n\r\nconst createCustomers = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"Customers\")\r\n  .then((response) => {\r\n    // console.log(\"tempcust\", response);\r\n    const result = response.data.result.result;\r\n    let tempCustomers = {};\r\n    for (let customer of result) {\r\n      const customer_id = customer.customer_uid;\r\n      const customer_data = {\r\n        visible: true,\r\n\r\n        first_name: customer.customer_first_name || \" \",\r\n        last_name: customer.customer_last_name || \" \",\r\n        \r\n        phone: customer.customer_phone_num,\r\n        \r\n        SMS_frequency: customer.SMS_freq_preference,\r\n        SMS_last_notification: customer.SMS_last_notification,\r\n\r\n        street: customer.customer_address,\r\n        unit: customer.customer_unit,\r\n        city: customer.customer_city,\r\n        state: customer.customer_state,\r\n        zip: customer.customer_zip,\r\n        latitude: Number(customer.customer_lat),\r\n        longitude: Number(customer.customer_long),\r\n\r\n        email: customer.customer_email,\r\n        \r\n        notification_approval: customer.notification_approval,\r\n        notification_id: customer.notification_device_id,\r\n\r\n        created_at: customer.customer_created_at,\r\n        verified: Number(customer.email_verified),\r\n\r\n        password_salt: customer.password_salt,\r\n        password_hash: customer.password_hashed,\r\n        password_algorithm: customer.password_algorithm,\r\n\r\n        referral_source: customer.referral_source,\r\n        role: customer.role,\r\n        last_update: customer.customer_updated_at,\r\n        customer_rep: customer.customer_rep,\r\n\r\n        user_social_media: customer.user_social_media,\r\n        user_access_token: customer.user_access_token,\r\n        user_refresh_token: customer.user_refresh_token,\r\n\r\n        route_id: customer.route_id, // multiple??\r\n      };\r\n      tempCustomers[customer_id] = customer_data;\r\n    }\r\n    // setCustomers(tempCustomers);\r\n    return tempCustomers;\r\n  });\r\n};\r\n\r\nconst createVehicles = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"getVehicles\")\r\n  .then(response => {\r\n    console.log(\"vehicles resp:\", response);\r\n    const result = response.data.result.result;\r\n    let tempVehicles = {}\r\n    for (let vehicle of result) {\r\n      const vehicle_id = vehicle.vehicle_uid;\r\n      const vehicle_data = {\r\n        vehicle_make: vehicle.vehicle_make,\r\n        vehicle_model: vehicle.vehicle_model,\r\n        vehicle_year: vehicle.vehicle_year,\r\n        insurance_carrier: vehicle.vehicle_ins_carrier,\r\n        insurance_number: vehicle.vehicle_ins_policy_num,\r\n        insurance_expiration: vehicle.vehicle_ins_exp_date,\r\n        registration: vehicle.vehicle_registration,\r\n        registration_expiration: vehicle.vehicle_registration_exp,\r\n        drivers: vehicle.drivers,\r\n      };\r\n      tempVehicles[vehicle_id] = vehicle_data;\r\n    };\r\n    return tempVehicles;\r\n  });\r\n  // .catch(err => {\r\n  //   console.log(err);\r\n  // });\r\n};\r\n\r\nconst createPurchases = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"Purchases\")\r\n  .then((response) => {\r\n    // console.log(\"temppurchases\", response);\r\n    const result = response.data.result.result;\r\n    let tempPurchases = {};\r\n    for (let purchase of result) {\r\n      const purchase_id = purchase.purchase_uid;\r\n      const purchase_data = {\r\n        customer_id: purchase.pur_customer_uid,\r\n        business_id: purchase.pur_business_uid,\r\n\r\n        delivery_first_name: purchase.delivery_first_name,\r\n        delivery_last_name: purchase.delivery_last_name,\r\n        delivery_phone: purchase.delivery_phone_num,\r\n        delivery_email: purchase.delivery_email,\r\n\r\n        delivery_street: purchase.delivery_address,\r\n        delivery_unit: purchase.delivery_unit,\r\n        delivery_city: purchase.delivery_city,\r\n        delivery_state: purchase.delivery_state,\r\n        delivery_zip: purchase.delivery_zip,\r\n        delivery_latitude: Number(purchase.delivery_latitude),\r\n        delivery_longitude: Number(purchase.delivery_longitude),\r\n\r\n        items: purchase.items,\r\n        // cost: purchase.amount,\r\n        purchase_date: purchase.purchase_date,\r\n        order_instructions: purchase.order_instructions,\r\n        purchase_notes: purchase.purchase_notes,\r\n        delivery_instructions: purchase.delivery_instructions,\r\n        order_type: purchase.order_type,\r\n        purchase_status: purchase.purchase_status,\r\n      };\r\n      tempPurchases[purchase_id] = purchase_data;\r\n    }\r\n    return tempPurchases;\r\n  });\r\n};\r\n\r\nconst createPayments = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"Payments\")\r\n  .then(response => {\r\n    console.log(\"payment resp:\", response);\r\n    const result = response.data.result.result;\r\n    let tempPayments = {};\r\n    for (let payment of result) {\r\n      const payment_id = payment.payment_uid;\r\n      const payment_data = {\r\n        // TODO: payment key/values\r\n        purchase_id: payment.pay_purchase_uid,\r\n        payment_time_stamp: payment.payment_time_stamp,\r\n        start_delivery_date: payment.start_delivery_date,\r\n        coupon_id: payment.pay_coupon_id,\r\n        amount_due: payment.amount_due,\r\n        amount_discount: payment.amount_discount,\r\n        amount_paid: payment.amount_paid,\r\n        info_is_Addon: payment.info_is_Addon,\r\n        credit_card_num: payment.cc_num,\r\n        credit_card_expiration: payment.cc_exp_date,\r\n        credit_card_cvv: payment.cc_cvv,\r\n        credit_card_zip: payment.cc_zip,\r\n        charge_id: payment.charge_id,\r\n        payment_type: payment.payment_type,\r\n      };\r\n      tempPayments[payment_id] = payment_data;\r\n    }\r\n    return tempPayments;\r\n  });\r\n  // .catch(err => {\r\n  //   console.log(err);\r\n  // })\r\n}\r\n\r\nconst createCoupons = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"getCoupons\")\r\n  .then(response => {\r\n    // console.log(\"coupons:\", response);\r\n    const result = response.data.result.result;\r\n    let tempCoupons = {};\r\n    for (let coupon of result) {\r\n      const coupon_id = coupon.coupon_uid;\r\n      const coupon_data = {\r\n        code: coupon.coupon_id,\r\n        valid: coupon.valid,\r\n        discount_percent: coupon.discount_percent,\r\n        discount_amount: coupon.discount_amount,\r\n        discount_shipping: coupon.discount_shipping,\r\n        expire_date: coupon.expire_date,\r\n        limits: coupon.limits,\r\n        notes: coupon.notes,\r\n        num_used: coupon.num_used,\r\n        recurring: coupon.recurring,\r\n        email: coupon.email_id,\r\n        business_id: coupon.cup_business_uid,\r\n      };\r\n      tempCoupons[coupon_id] = coupon_data;\r\n    }\r\n    return tempCoupons;\r\n  });\r\n};\r\n\r\nconst createRefunds = () => {\r\n  return axios.get(NEW_NEW_BASE_URL + \"getRefunds\")\r\n  .then(response => {\r\n    console.log(\"refunds resp:\", response)\r\n    const result = response.data.result.result;\r\n    let tempRefunds = {};\r\n    for (let refund of result) {\r\n      const refund_id = refund.refund_uid;\r\n      const refund_data = {\r\n        created_at: refund.created_at,\r\n        email: refund.email_id,\r\n        phone: refund.phone_num,\r\n        image: refund.image_url,\r\n        customer_note: refund.customer_note,\r\n        admin_note: refund.admin_note,\r\n        refund_amount: refund.refund_amount,\r\n        coupon_id: refund.ref_coupon_id,\r\n      };\r\n      tempRefunds[refund_id] = refund_data;\r\n    }\r\n    return tempRefunds;\r\n  })\r\n};\r\n\r\nconst createConstraints = (businesses) => {\r\n  return new Promise((resolve, reject) => {\r\n    let constraints = {};\r\n    const businessKeys = Object.keys(businesses);\r\n    // console.log(Object.keys(businesses).length);\r\n    for (let business_id of businessKeys) {\r\n      axios.get(NEW_NEW_BASE_URL + \"getBusinessConstraints/\" + business_id)\r\n      .then(response => {\r\n        // console.log(response);\r\n        const result = response.data.result.result.length ? response.data.result.result[0] : undefined;\r\n        if (result) constraints[result.constraint_uid] = {\r\n          business_id: result.business_uid,\r\n          business_name: businesses[business_id].name,\r\n          business_street: businesses[business_id].street,\r\n          business_unit: businesses[business_id].unit,\r\n          business_city: businesses[business_id].city,\r\n          business_state: businesses[business_id].state,\r\n          business_zip: businesses[business_id].zip,\r\n          business_phone: businesses[business_id].phone,\r\n          num_drivers: result.num_drivers,\r\n          max_distance: result.max_distance,\r\n          max_time: result.max_time,\r\n          min_time: result.min_time,\r\n          max_deliveries: result.max_deliveries,\r\n          min_deliveries: result.min_deliveries,\r\n        };\r\n        if (business_id === businessKeys[businessKeys.length - 1]) resolve(constraints);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        reject(err);\r\n      });\r\n      // console.log(\"endloop\");\r\n    }\r\n    // console.log(\"HELLO\");\r\n    // setTimeout(() => resolve(constraints), 1000);\r\n  });\r\n};\r\n\r\n\r\nconst setBusinessesCustomers = (businesses) => {\r\n  return new Promise((resolve, reject) => {\r\n    const businessKeys = Object.keys(businesses);\r\n    // console.log(Object.keys(businesses).length);\r\n    for (let business_id of businessKeys) {\r\n      axios.get(NEW_NEW_BASE_URL + \"getCustomersByBusiness/\" + business_id)\r\n      .then(response => {\r\n        // console.log(response);\r\n        const result = response.data.result.result;\r\n        businesses[business_id].customers = result; // array of customer objects: [{ ... }, { ... }, ...]\r\n        if (business_id === businessKeys[businessKeys.length - 1]) resolve('success');\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        reject(err);\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\n\r\n\r\n// NOTE: Other functions, not sure how to organize these functions.\r\n//       Should they have their own files? Should we keep all these\r\n//       functions in a single file?\r\nconst validToUpdate = (type, data) => {\r\n  // console.log(data);\r\n  if (!data[`${type}_uid`]) {\r\n    // console.log(\"INSERT\");\r\n    const dataEntries = Object.entries(data);\r\n    if (!dataEntries.length) return false;\r\n    for (let entry of dataEntries) {\r\n      // console.log(entry[1]);\r\n      if (/*required.includes(entry[0]) && */entry[1] === \"\") return false;\r\n    }\r\n  }\r\n  else if (!Object.values(data.new_data).length) return false;\r\n  return true;\r\n};\r\n\r\nexport {\r\n  NEW_NEW_BASE_URL as BASE_URL,\r\n  createRoutes,\r\n  createDrivers,\r\n  createBusinesses,\r\n  createCustomers,\r\n  createVehicles,\r\n  createPurchases,\r\n  createPayments,\r\n  createCoupons,\r\n  createRefunds,\r\n  createConstraints,\r\n\r\n  setBusinessesCustomers,\r\n\r\n  validToUpdate,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"utils/Functions/DataFunctions\";\r\n\r\nfunction DeliveryList({ routes, drivers, ...props }) {\r\n  console.log(\"rendering deliveries..\");\r\n  const [routeData, setRouteData] = useState(Object.entries(routes));\r\n  const [driversList, setDriversList] = useState(Array.from(\r\n    Object.entries(drivers), \r\n    entry => ([\r\n      entry[0], \r\n      `${entry[1].first_name} ${entry[1].last_name}`\r\n    ])\r\n  ));\r\n  const [driversToRoutes, setDriversToRoutes] = useState({}); // { route_id: [driver_id, driver_name], ... }\r\n  console.log(driversToRoutes);\r\n  // console.log(Object.values(driversToRoutes).length, Object.values(routes).length);\r\n\r\n  useEffect(() => {\r\n    const routeData = Object.entries(routes);\r\n    if (props.filter) {\r\n      setRouteData(() => {\r\n        let filteredRouteData = routeData.filter(route => {\r\n          // console.log(route[1][props.filter.option], props.filter.value);\r\n          // eslint-disable-next-line\r\n          return route[1][props.filter.option] == props.filter.value\r\n        });\r\n        return filteredRouteData;\r\n      });\r\n    }\r\n    else setRouteData(routeData);\r\n  }, [routes, props.filter]);\r\n  \r\n  const saveRoutesDrivers = async () => {\r\n    console.log(\"SAVING DRIVERS TO THEIR ROUTES\");\r\n    await (() => {\r\n      const routeDriverEntries = Object.entries(driversToRoutes);\r\n      return new Promise((resolve, reject) => {\r\n        for (let routeDriver of routeDriverEntries) {\r\n          if(routes[routeDriver[0]].driver_id !== routeDriver[1].id) {\r\n            axios.get(BASE_URL + `updateDriverID/${routeDriver[1].id}/${routeDriver[0]}`)\r\n            .then(response => {\r\n              console.log(response);\r\n              if (routeDriver[1] === driversToRoutes[routeDriverEntries.length - 1]) resolve('success');\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n              reject(err);\r\n            });\r\n          }\r\n        }\r\n      });\r\n    })();\r\n    // props.dispatch({ type: 'update-route-drivers', payload: { route_drivers: driversToRoutes } })\r\n\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* NOTE: User only able to save once drivers are chosen for ALL routes, is this what we want? */}\r\n      <button\r\n        className=\"button is-small mx-1 is-success is-outlined is-rounded\" \r\n        style={{ marginBottom: \"1rem\" }}\r\n        // disabled={Object.values(driversToRoutes).length !== Object.values(routes).length}\r\n        onClick={saveRoutesDrivers}\r\n      >\r\n        <FontAwesomeIcon icon={Icons.faCheck} className=\"mr-2\" />\r\n        Save Changes\r\n      </button>\r\n      {routeData.map((route, index) => (\r\n        <RouteItem\r\n          key={index}\r\n          index={index}\r\n          route={route[1]}\r\n          id={route[0]}\r\n          selectedLocation={props.selectedLocation}\r\n          setSelectedLocation={props.setSelectedLocation}\r\n          drivers={drivers}\r\n          driversList={driversList}\r\n          setDriversList={setDriversList}\r\n          driversToRoutes={driversToRoutes}\r\n          setDriversToRoutes={setDriversToRoutes}\r\n          dispatch={props.dispatch}\r\n        />\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction RouteItem({ route, id, ...props }) {\r\n  const [hidden, setHidden] = useState(true);\r\n  const [driver, setDriver] = useState(() => {\r\n    let driver = props.driversList.find(entry => entry[0] === route.driver_id);\r\n    if (driver) return driver;\r\n    const driver_route_id = Object.keys(props.driversToRoutes).find(route_id => route_id === id);\r\n    // console.log(\"ID\", driver_route_id);\r\n    return (driver_route_id ? \r\n      [props.driversToRoutes[driver_route_id].id, props.driversToRoutes[driver_route_id].name] : \r\n      undefined\r\n    );\r\n  });\r\n  const route_values = Object.values(route.route_data);\r\n  // console.log(route_values);\r\n  const route_id = Number(id.substring(id.indexOf(\"-\") + 1, id.length));\r\n\r\n  useEffect(() => {\r\n    // console.log(props.selectedLocation);\r\n    if (props.selectedLocation.driver === props.index + 1) {\r\n      if (hidden) setHidden(false);\r\n    }\r\n  }, [props.selectedLocation]);\r\n\r\n  const handleSelect = (driverNumber, locationNumber) => {\r\n    // console.log(`{${driverNumber}, ${locationNumber}}`);\r\n    props.setSelectedLocation((prevSelectedLocation) => {\r\n      let selectedLocation = { ...prevSelectedLocation };\r\n      if (\r\n        driverNumber === selectedLocation.driver &&\r\n        locationNumber === selectedLocation.location\r\n      ) {\r\n        selectedLocation.driver = undefined;\r\n        selectedLocation.location = undefined;\r\n        return selectedLocation;\r\n      }\r\n\r\n      if (driverNumber !== selectedLocation.driver)\r\n        selectedLocation.driver = driverNumber;\r\n      if (locationNumber !== selectedLocation.location)\r\n        selectedLocation.location = locationNumber;\r\n      return selectedLocation;\r\n    });\r\n  };\r\n\r\n  const handleVisibilitySelect = () => {\r\n    props.setSelectedLocation({\r\n      driver: undefined,\r\n      location: undefined,\r\n    });\r\n    props.dispatch({ type: \"toggle-visibility\", payload: { id, type: \"routes\" } });\r\n  }\r\n\r\n  const sendDriverText = (driverNumber) => {\r\n    console.log(`Sending Driver ${driverNumber} a text..`);\r\n  };\r\n\r\n  const skipLocation = (locationNumber) => {\r\n    console.log(`Skipping Location ${locationNumber}..`);\r\n  };\r\n\r\n  const changeLocation = (locationNumber) => {\r\n    console.log(`Editing Location ${locationNumber}..`);\r\n  };\r\n\r\n  const sendConfirmationText = (locationNumber) => {\r\n    console.log(`Sending Location ${locationNumber} a text..`);\r\n  };\r\n\r\n  const sendConfirmationEmail = (locationNumber) => {\r\n    console.log(`Sending Location ${locationNumber} an email..`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"box list-item\">\r\n      <table\r\n        className=\"table is-hoverable is-fullwidth is-size-7\"\r\n        style={{ backgroundColor: \"#f8f7fa\" }}\r\n      >\r\n        <thead>\r\n          <tr className=\"list-item-head\">\r\n            <th style={{ width: \"17.5%\" }}>\r\n              <div style={{ width: \"200%\", maxWidth: \"225px\" }}>\r\n                <button \r\n                  className=\"button is-super-small is-rounded mr-3\" \r\n                  onClick={handleVisibilitySelect}\r\n                >\r\n                  <FontAwesomeIcon icon={route.visible ? Icons.faEyeSlash : Icons.faEye} />\r\n                </button>\r\n                <div\r\n                  className=\"route\"\r\n                  style={{ \r\n                    backgroundColor: `${route.visible ? route.route_color : \"lightgrey\"}`,\r\n                    borderBottom: `3px solid ${route.visible ? route.route_color : \"lightgrey\"}`, \r\n                    // Adding conditional margin since icon sizes vary, accounting for text shift\r\n                    ...(!route.visible ? { marginLeft: \"1.32px\" } : {}) \r\n                  }}\r\n                >\r\n                  <span>Route {route_id}</span></div>\r\n              </div>\r\n            </th>\r\n            <th style={{ width: \"29%\" }} />\r\n            <th style={{ width: \"11%\" }}>\r\n              <div style={{ width: \"300%\", maxWidth: \"225px\" }}>\r\n                <DriversDropdown \r\n                  route_id={id}\r\n                  driver_num={route.driver_num}\r\n                  driver={driver} \r\n                  setDriver={setDriver}\r\n                  list={props.driversList} \r\n                  setList={props.setDriversList} \r\n                  setDriversToRoutes={props.setDriversToRoutes}\r\n                />\r\n                <button\r\n                  className=\"button is-rounded is-super-small is-pulled-right ml-1\"\r\n                  onClick={() => console.log(\"Not sure what this does atm\")}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faPhone} />\r\n                </button>\r\n                <button\r\n                  className=\"button is-rounded is-super-small is-pulled-right\"\r\n                  onClick={() => sendDriverText(route.driver_id)}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faComment} />\r\n                </button>\r\n              </div>\r\n            </th>\r\n            <th style={{ width: \"12.5%\" }} />\r\n            <th style={{ width: \"12.5%\" }}>\r\n            </th>\r\n            <th style={{ width: \"17.5%\" }}>\r\n              <button\r\n                className=\"button is-super-small is-pulled-right\"\r\n                onClick={() => setHidden((prevHidden) => !prevHidden)}\r\n              >\r\n                <FontAwesomeIcon icon={hidden ? Icons.faCaretDown : Icons.faCaretUp} />\r\n              </button>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody hidden={hidden}>\r\n          <tr>\r\n            <th style={{borderBottomWidth: \"2px\"}}>\r\n            </th>\r\n            <th style={{borderBottomWidth: \"2px\"}}>Destination</th>\r\n            <th style={{borderBottomWidth: \"2px\"}}>Customer</th>\r\n            <th style={{borderBottomWidth: \"2px\"}}>ETA</th>\r\n            <th style={{borderBottomWidth: \"2px\"}}>Arrival</th>\r\n            <th style={{borderBottomWidth: \"2px\"}}><span className=\"ml-2\">Confirm</span></th>\r\n          </tr>\r\n          {route_values.map((location, index) => (\r\n            <tr\r\n              key={index}\r\n              className={\r\n                props.selectedLocation.driver === props.index + 1 &&\r\n                props.selectedLocation.location === index + 1\r\n                  ? \"is-selected\"\r\n                  : \"\"\r\n              }\r\n            >\r\n              <td>\r\n                <button\r\n                  className={\"button is-rounded is-small mx-1\"}\r\n                  disabled={!route.visible}\r\n                  onClick={() => handleSelect(props.index + 1, index + 1)}\r\n                  style={{ padding: \"0.69rem\" }}\r\n                >\r\n                  {index + 1}\r\n                </button>\r\n                <button\r\n                  className=\"button is-rounded is-small mx-1\"\r\n                  onClick={() => skipLocation(index + 1)}\r\n                >\r\n                  Skip\r\n                </button>\r\n              </td>\r\n              <td>{location.address}</td>\r\n              <td>{`${location.customer_first_name} ${location.customer_last_name[0]}.`}</td>\r\n              <td>N/A</td>\r\n              <td>N/A</td>\r\n              <td>\r\n                {/* <button className=\"tooltip button is-rounded is-small mx-1\"> */}\r\n                <button\r\n                  className=\"button is-rounded is-small mx-1\"\r\n                  onClick={() => sendConfirmationText(index + 1)}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faComment} />\r\n                  {/* <span className=\"tooltiptext\">Message Customer</span> */}\r\n                </button>\r\n                {/* <button className=\"tooltip button is-rounded is-small mx-1\"> */}\r\n                <button\r\n                  className=\"button is-rounded is-small mx-1\"\r\n                  onClick={() => sendConfirmationEmail(index + 1)}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faEnvelope} />\r\n                  {/* <span className=\"tooltiptext\">Email Customer</span> */}\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DriversDropdown({ driver, setDriver, list, setList, ...props }) {\r\n  const [open, setOpen] = useState(false);\r\n  // console.log(driver);\r\n  const route_driver_id = driver ? \r\n    Number(driver[0].substring(driver[0].indexOf(\"-\") + 1, driver[0].length)) : \r\n    undefined;\r\n\r\n  useEffect(() => {\r\n    // if route already has a driver selected, remove the driver as an option from the dropdown\r\n    if (driver) {\r\n      setList(prevList => {\r\n        return [...prevList].filter(entry => entry[0] !== driver[0]);\r\n      });\r\n      props.setDriversToRoutes(prevDriversToRoutes => {\r\n        return ({\r\n          ...prevDriversToRoutes,\r\n          [props.route_id]: { id: driver[0], name: driver[1] },\r\n        });\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleDriverSelect = (driver_id, driver_name) => {\r\n    setList(prevList => {\r\n      let newList = [...prevList].filter(entry => entry[0] !== driver_id);\r\n      if (driver) newList.push(driver);\r\n      return newList;\r\n    });\r\n    props.setDriversToRoutes(prevDriversToRoutes => {\r\n      let newDriversToRoutes = { ...prevDriversToRoutes };\r\n      // checking if user selected or deselected a driver\r\n      if (driver_id) newDriversToRoutes[props.route_id] = { id: driver_id, name: driver_name };\r\n      else delete newDriversToRoutes[props.route_id];\r\n      return newDriversToRoutes;\r\n    });\r\n    setDriver(driver_id ? list.find(entry => entry[0] === driver_id) : undefined);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <span className=\"mr-1\">\r\n        {/* {driver ? (`Driver ${route_driver_id}:`) : (`Driver:`)} */}\r\n        {`Driver ${props.driver_num}:`}\r\n      </span>\r\n      <div className={\"dropdown\" + (open ? \" is-active\" : \"\")}>\r\n        <div className=\"dropdown-trigger\">\r\n          <button \r\n            className=\"button is-super-small\"\r\n            style={{ width: \"100px\", ...(!driver && { borderColor: \"red\", color: \"red\" }) }} \r\n            onClick={() => setOpen(prevOpen => !prevOpen)} \r\n            aria-haspopup=\"true\" \r\n            aria-controls=\"dropdown-menu\"\r\n            {...driver && { title: `Driver ID: ${route_driver_id}` }}\r\n          >\r\n            {driver ? driver[1] : 'Choose Driver'}\r\n            <FontAwesomeIcon icon={Icons.faCaretDown} className= \"ml-2\" />\r\n          </button>\r\n        </div>\r\n        <div className=\"dropdown-menu\" style={{ paddingTop: 0 }} id=\"dropdown-menu\" role=\"menu\">\r\n          <div className=\"dropdown-content\">\r\n            <button \r\n              className=\"button is-small is-white dropdown-item\" \r\n              disabled={!driver} \r\n              onClick={() => handleDriverSelect()}\r\n            >\r\n              Deselect\r\n            </button>\r\n            <hr className=\"dropdown-divider\" />\r\n            {list.map((item, index) => (\r\n              <button \r\n                key={index} \r\n                className=\"button is-small is-white dropdown-item\" \r\n                onClick={() => handleDriverSelect(item[0], item[1])}\r\n                title={`Driver ID: ${Number(item[0].substring(item[0].indexOf(\"-\") + 1, item[0].length))}`}\r\n              >\r\n                {item[1]}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default DeliveryList;\r\n","import React from \"react\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\n\r\nfunction FillerRow({ numColumns, showMore, setShowMore }) {\r\n  return (\r\n    <tr className=\"filler-row\">\r\n      {/* loop numColumns - 1 times */}\r\n      {[...Array(numColumns - 1)].map((empty, index) => (\r\n        <td key={index} />\r\n      ))}\r\n      <td style={{ textAlign: \"right\" }}>\r\n        {setShowMore ? (\r\n          <React.Fragment>\r\n            <span className=\"has-text-grey mb-1\">Show {showMore ? \"Less\" : \"More\"}</span>\r\n            <button \r\n              className=\"button is-super-small is-light mx-1\"\r\n              onClick={() => setShowMore((prevShowMore) => !prevShowMore)}\r\n            >\r\n              <FontAwesomeIcon icon={(showMore ? Icons.faCaretUp : Icons.faCaretDown)} color=\"grey\" />\r\n            </button>\r\n          </React.Fragment>\r\n        ) : (\r\n          <div style={{ marginBottom: \"20px\" }} />\r\n        )}\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default FillerRow;\r\n","import React from \"react\";\r\n\r\nfunction EditItemField({ className, style, value, placeholder, handleChange, type, ...props }) {\r\n  const handleTextareaSize = (e, focus) => {\r\n    focus ? \r\n      e.target.style.height = `${e.target.scrollHeight + (e.target.scrollHeight !== 58 ? 8 : 0)}px` :\r\n      e.target.style.height = \"5em\";\r\n  };\r\n\r\n  if (!props.textarea) return (\r\n    <input \r\n      className={(!props.checkbox ? \"input is-super-small\" : \"\") + \r\n                 (className ? \" \" + className : \"\")}\r\n      style={(!props.checkbox ? style : { verticalAlign: \"middle\", ...style })}\r\n      {...(!props.checkbox ? \r\n        { value: value } : \r\n        { type: \"checkbox\", checked: value }\r\n      )}\r\n      placeholder={placeholder}\r\n      onChange={(e) => handleChange(e, type)}\r\n    />\r\n  );\r\n  else return (\r\n    <textarea \r\n      className={\"textarea is-small\" + (className ? \" \" + className : \"\")}\r\n      style={{ minHeight: \"5em\", ...style }}\r\n      value={value}\r\n      placeholder={placeholder}\r\n      onFocus={(e) => handleTextareaSize(e, true)}\r\n      onBlur={(e) => handleTextareaSize(e, false)}\r\n      onChange={(e) => handleChange(e, type)}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EditItemField;\r\n","import React, { useState } from \"react\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport moment from \"moment\";\r\n\r\nconst weekdays = moment.weekdays();\r\n\r\nconst DayHoursDropdown = ({ type, ...props }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [days, setDays] = useState(type ? JSON.parse(type) : []);\r\n  const [selectedDay, setSelectedDay] = useState(weekdays[0]);\r\n//   console.log(days[selectedDay]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={\"dropdown has-text-left mr-1\" + (open ? \" is-active\" : \"\")}>\r\n        <div className=\"dropdown-trigger\">\r\n          <button className=\"button is-super-small\" /*style={{ width: \"2.75rem\" }}*/ onClick={() => setOpen(prevOpen => !prevOpen)} aria-haspopup=\"true\" aria-controls=\"dropdown-menu\">\r\n            {/* <span>{selectedDay.substring(0, 3)}</span> */}\r\n            <span>{selectedDay}</span>\r\n            <FontAwesomeIcon icon={Icons.faCaretDown} className=\"ml-1\" />\r\n          </button>\r\n        </div>\r\n        <div className=\"dropdown-menu\" style={{ paddingTop: 0, minWidth: \"8rem\" }} id=\"dropdown-menu\" role=\"menu\">\r\n          <div className=\"dropdown-content\">\r\n            {weekdays.map((day, index) => (\r\n              <button \r\n                key={index} \r\n                className=\"button is-small is-white dropdown-item\" \r\n                disabled={day === selectedDay} \r\n                onClick={() => { setSelectedDay(day); setOpen(false); }}\r\n              >\r\n                {day}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {days[selectedDay] && (\r\n        <TimeRange days={days} selectedDay={selectedDay} />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst convertTo12Hr = (time) => {\r\n//   const time24 = time.substring(0, days[selectedDay][0].length - 3);\r\n  const hour24 = Number(time.substring(0, 2));\r\n  const isPM = Math.floor(hour24 / 12)\r\n  if (isPM) {\r\n    const timePM = hour24 % 12;\r\n\r\n    return (\r\n      (Math.floor(timePM / 10) ? \"\" : \"0\") + timePM + \r\n      time.substring(2, time.length - 3) + \"pm\"\r\n    );\r\n  }\r\n  return (\r\n    time.substring(0, time.length - 3) + \"am\"\r\n  );\r\n};\r\n\r\nfunction TimeRange({ days, selectedDay, ...props }) {\r\n  const beginTime = convertTo12Hr(days[selectedDay][0]); // days[selectedDay][0].substring(0, days[selectedDay][0].length - 3);\r\n  const closeTime = convertTo12Hr(days[selectedDay][1]); // days[selectedDay][1].substring(0, days[selectedDay][0].length - 3);\r\n  return (\r\n    <p>\r\n      {beginTime} - {closeTime}\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default DayHoursDropdown;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport FillerRow from \"utils/Components/FillerRow\";\r\nimport EditItemField from \"utils/Components/EditItemField\";\r\nimport DayHoursDropdown from \"utils/Components/DayHoursDropdown\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport axios from \"axios\";\r\nimport { BASE_URL, validToUpdate } from \"utils/Functions/DataFunctions\";\r\n\r\nconst emptyDriver = {\r\n  available_hours: \"\",\r\n  bank_account_info: \"\",\r\n  bank_routing_info: \"\", \r\n  business_id: \"\",\r\n  city: \"\",\r\n  delivery_fee: \"\", \r\n  drivers_license: \"\", \r\n  drivers_license_exp: \"\", \r\n  email: \"\",\r\n  emergency_contact_name: \"\", \r\n  emergency_contact_phone: \"\", \r\n  emergency_contact_relationship: \"\", \r\n  first_name: \"\",\r\n  hourly_rate: \"\", \r\n  insurance_carrier: \"\", \r\n  insurance_expiration: \"\", \r\n  insurance_number: \"\", \r\n  last_name: \"\",\r\n  latitude: 0, \r\n  longitude: 0, \r\n  password: \"\", \r\n  phone: \"\", \r\n  phone2: \"\", \r\n  preferred_routes: \"\",\r\n  rating: \"\", \r\n  scheduled_hours: \"\",\r\n  ssn: \"\", \r\n  state: \"\",\r\n  street: \"\",\r\n  unit: \"\", \r\n  vehicle_types: \"\", \r\n  weekly_workload: \"\",\r\n  zip: \"\",\r\n};\r\n\r\nfunction DriverList({ drivers, routes, ...props }) {\r\n  console.log(\"rendering drivers..\");\r\n  const [driverData, setDriverData] = useState(Object.entries(drivers));\r\n  const [dataEdit, setDataEdit] = useState(); // undefined, 'add', or `${driver_id}`\r\n\r\n  // console.log(driverData);\r\n\r\n  useEffect(() => {\r\n    const driverData = Object.entries(drivers);\r\n    if (props.filter) {\r\n      setDriverData(() => {\r\n        return driverData.filter(driver => {\r\n          // console.log(driver[1][props.filter.option], props.filter.value);\r\n          // eslint-disable-next-line\r\n          return driver[1][props.filter.option] == props.filter.value\r\n        });\r\n      });\r\n    }\r\n    else setDriverData(driverData);\r\n  }, [drivers, props.filter]);\r\n\r\n  const editDriver = (action, id, data, originalData) => {\r\n    // console.log(\"editing driver.........\");\r\n    if (action === 'edit') setDataEdit(id);\r\n    else if (action === 'add') setDataEdit('add');\r\n    else {\r\n      if (action === 'save') { \r\n        console.log(\"SAVED:\", data);\r\n        // business table currently does not have all the needed data, \r\n        // sending this temporary object for now\r\n        const dataForNow = {\r\n          ...(!id || data.first_name !== originalData.first_name) && { driver_first_name: data.first_name }, \r\n          ...(!id || data.last_name !== originalData.last_name) && { driver_last_name: data.last_name }, \r\n          ...(!id || data.business_id !== originalData.business_id) && { business_id: data.business_id }, \r\n          ...(!id || data.available_hours !== originalData.available_hours) && { driver_available_hours: data.available_hours }, \r\n          ...(!id || data.scheduled_hours !== originalData.scheduled_hours) && { driver_scheduled_hours: data.scheduled_hours }, \r\n          ...(!id || data.street !== originalData.street) && { driver_street: data.street }, \r\n          ...(!id || data.city !== originalData.city) && { driver_city: data.city }, \r\n          ...(!id || data.state !== originalData.state) && { driver_state: data.state }, \r\n          ...(!id || data.zip !== originalData.zip) && { driver_zip: data.zip }, \r\n          ...(!id || data.phone !== originalData.phone) && { driver_phone_num: data.phone }, \r\n          ...(!id || data.email !== originalData.email) && { driver_email: data.email }, \r\n          ...(!id || data.phone2 !== originalData.phone2) && { driver_phone_num2: data.phone2 }, \r\n          ...(!id || data.ssn !== originalData.ssn) && { driver_ssn: data.ssn }, \r\n          ...(!id || data.drivers_license !== originalData.drivers_license) && { driver_license: data.drivers_license }, \r\n          ...(!id || data.drivers_license_exp !== originalData.drivers_license_exp) && { driver_license_exp: data.drivers_license_exp }, \r\n          ...(!id || data.insurance_number !== originalData.insurance_number) && { driver_insurance_num: data.insurance_number }, \r\n          ...(!id || data.password !== originalData.password) && { driver_password: data.password }, \r\n          ...(!id || data.emergency_contact_name !== originalData.emergency_contact_name) && { emergency_contact_name: data.emergency_contact_name }, \r\n          ...(!id || data.emergency_contact_phone !== originalData.emergency_contact_phone) && { emergency_contact_phone: data.emergency_contact_phone }, \r\n          ...(!id || data.emergency_contact_relationship !== originalData.emergency_contact_relationship) && { emergency_contact_relationship: data.emergency_contact_relationship }, \r\n          ...(!id || data.bank_routing_info !== originalData.bank_routing_info) && { bank_routing_info: data.bank_routing_info }, \r\n          ...(!id || data.bank_account_info !== originalData.bank_account_info) && { bank_account_info: data.bank_account_info }, \r\n        }; \r\n        console.log(dataForNow);\r\n\r\n        const ENDPOINT_URL = BASE_URL + (id ? \"Drivers\" : \"insertNewDriver\");\r\n        const postData = id ? { driver_uid: id, new_data: dataForNow } : dataForNow;\r\n        console.log(ENDPOINT_URL, postData/*, JSON.stringify(postData)*/);\r\n        console.log(validToUpdate('driver', postData));\r\n        \r\n        if (validToUpdate('driver', postData)) {\r\n          axios.post(ENDPOINT_URL, postData)\r\n          .then(response => {\r\n            console.log(response);\r\n            // const dataResponse = response.data.result.result;\r\n            // props.dispatch({ type: 'update-list', payload: { dataType: 'drivers', value: dataResponse } });\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n        }\r\n      }\r\n      setDataEdit();\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <React.Fragment>\r\n      {dataEdit !== 'add' && (\r\n        <button\r\n          className=\"button is-small mx-1 is-success is-outlined is-rounded\" \r\n          style={{ marginBottom: \"1rem\" }}\r\n          onClick={() => editDriver('add')}\r\n        >\r\n          <FontAwesomeIcon icon={Icons.faPlus} className=\"mr-2\" />\r\n          Add Driver\r\n        </button>\r\n      )}\r\n      {dataEdit === 'add' && (\r\n        <DriverEdit driver={emptyDriver} id={dataEdit} handleEdit={editDriver} />\r\n      )}\r\n      {driverData.map((driver, index) => (\r\n        <React.Fragment key={index}>\r\n          {dataEdit !== driver[0] ? (\r\n            <DriverItem\r\n              key={index}\r\n              index={index}\r\n              driver={driver[1]}\r\n              id={driver[0]}\r\n              routes={routes}\r\n              handleEdit={editDriver}\r\n              dispatch={props.dispatch}\r\n            />\r\n          ) : (\r\n            <DriverEdit \r\n              driver={driver[1]} \r\n              id={driver[0]} \r\n              handleEdit={editDriver} \r\n              dispatch={props.dispatch}\r\n            />\r\n          )}\r\n        </React.Fragment>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction DriverItem({ driver, id, ...props }) {\r\n  const [hidden, setHidden] = useState(true);\r\n  const [showMore, setShowMore] = useState(false);\r\n\r\n  const address = `${driver.street}${(driver.unit ? ` ${driver.unit}` : \"\")} \r\n                   ${driver.city} ${driver.state} ${driver.zip}`;\r\n  const driver_id = Number(id.substring(id.indexOf(\"-\") + 1, id.length));\r\n\r\n//   const sendDriverText = (driverNumber) => {\r\n//     console.log(`Sending Driver ${driverNumber} a text..`);\r\n//   };\r\n\r\n//   const skipLocation = (locationNumber) => {\r\n//     console.log(`Skipping Location ${locationNumber}..`);\r\n//   };\r\n\r\n//   const changeLocation = (locationNumber) => {\r\n//     console.log(`Editing Location ${locationNumber}..`);\r\n//   };\r\n\r\n//   const sendConfirmationText = (locationNumber) => {\r\n//     console.log(`Sending Location ${locationNumber} a text..`);\r\n//   };\r\n\r\n//   const sendConfirmationEmail = (locationNumber) => {\r\n//     console.log(`Sending Location ${locationNumber} an email..`);\r\n//   };\r\n\r\n  return (\r\n    <div className=\"box list-item\">\r\n      <table\r\n        className=\"table is-hoverable is-fullwidth is-size-7\"\r\n        style={{ backgroundColor: \"#f8f7fa\" }}\r\n      >\r\n        <thead>\r\n          <tr className=\"list-item-head\">\r\n            <th style={{ width: \"40%\" }}>\r\n              <div style={{ width: \"240px\" }}>\r\n                <span>Driver {driver_id}: {`${driver.first_name} ${driver.last_name ? driver.last_name[0] : ''}.`}</span>\r\n                <button\r\n                  className=\"button is-rounded is-pulled-right is-super-small ml-1\"\r\n                  // onClick={() => sendEmail(index + 1)}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faEnvelope} />\r\n                </button>\r\n                {/* <button className=\"tooltip mx-1\" onClick={() => setHidden(prevHidden => !prevHidden)}> */}\r\n                <button\r\n                  className=\"button is-rounded is-pulled-right is-super-small\"\r\n                  // onClick={() => sendText(index + 1)}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faComment} />\r\n                </button>\r\n              </div>\r\n            </th>\r\n            <th style={{ width: \"20%\" }} />\r\n            <th style={{ width: \"20%\" }}>\r\n              <div style={{ width: \"150%\", maxWidth: \"225px\" }}>\r\n                <Rating value={driver.rating} size=\"small\" precision={0.2} readOnly />\r\n                <span className=\"ml-4\">Rating</span>\r\n              </div>\r\n            </th>\r\n            <th style={{ width: \"20%\" }}>\r\n              <button\r\n                className=\"button is-super-small is-pulled-right\"\r\n                onClick={() => setHidden((prevHidden) => !prevHidden)}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={hidden ? Icons.faCaretDown : Icons.faCaretUp}\r\n                />\r\n              </button>\r\n              {!hidden && (\r\n                <button\r\n                  className=\"button is-super-small is-pulled-right mr-1\"\r\n                  onClick={() => props.handleEdit('edit', id)}\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={Icons.faPlus}\r\n                  />\r\n                  {/* <span className=\"tooltiptext\">{hidden ? \"Expand\" : \"Collapse\"}</span> */}\r\n                </button>\r\n              )}\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"is-bordered has-text-centered\" hidden={hidden}>\r\n          <tr>\r\n            <td>\r\n              <div className=\"level\">\r\n                <div className=\"level-item\">\r\n                  <span style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                    First &amp; Middle Name:\r\n                    <hr style={{ margin: 0, backgroundColor: \"#ededed\" }} />\r\n                    Last Name:\r\n                  </span>\r\n                </div>\r\n                <div className=\"level-item\">\r\n                  <span style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                    {driver.first_name}\r\n                    <hr style={{ margin: 0, backgroundColor: \"#ededed\" }} />\r\n                    {driver.last_name}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            {/* <td className=\"pl-0 has-text-left\" style={{ borderLeftWidth: 0 }}>\r\n              <p className=\"ml-3\">{driver.first_name}</p>\r\n              <hr style={{margin: 0, backgroundColor: \"#ededed\"}}/>\r\n              <p className=\"ml-3\">{driver.last_name}</p>\r\n            </td> */}\r\n            <td>\r\n              # of hours/week<br />{driver.weekly_workload}\r\n            </td>\r\n            <td>\r\n              <div style={{ width: \"215%\" }}>\r\n                <div className=\"level\">\r\n                  <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                    Driver's License #<br />{driver.drivers_license}\r\n                  </div>\r\n                  <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                    License Expiration<br />{driver.drivers_license_exp}\r\n                  </div>\r\n                  <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                    Vehicle Types<br />{driver.vehicle_types}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td style={{ borderLeft: \"hidden\" }} />\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div className=\"level\">\r\n                <div className=\"level-item\">\r\n                  <span style={{ width: \"100%\" }}>\r\n                    Emergency Contact:\r\n                    <br />\r\n                    {driver.emergency_contact_phone}\r\n                  </span>\r\n                </div>\r\n                <div className=\"level-item\">\r\n                  <span style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                    {driver.emergency_contact_name}\r\n                    <br />\r\n                    {driver.emergency_contact_relationship}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              Preferred Routes<br />{driver.preferred_routes}\r\n              {/* {driver.preferred_routes.map((route, index) => (\r\n                <p>Route {route.id}: <span>ROUTE COLOR</span></p>\r\n              ))} */}\r\n            </td>\r\n            <td>\r\n              Available Times<br />\r\n              <DayHoursDropdown type={driver.available_hours} />\r\n            </td>\r\n            <td>\r\n              Scheduled Times<br />\r\n              <DayHoursDropdown type={driver.scheduled_hours} />\r\n            </td>\r\n          </tr>\r\n          <FillerRow numColumns={4} showMore={showMore} setShowMore={setShowMore} />\r\n          {showMore && ( \r\n            <React.Fragment>\r\n              <tr>\r\n                <td style={{ textAlign: \"left\" }}>\r\n                  Address:<br />\r\n                  {address}\r\n                </td>\r\n                <td>\r\n                  Insurance Carrier<br />{driver.insurance_carrier}\r\n                </td>\r\n                <td>\r\n                  Insurance Number<br />{driver.insurance_number}\r\n                </td>\r\n                <td>\r\n                  Insurance Expiration<br />{driver.insurance_expiration}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <div className=\"level\">\r\n                    <div className=\"level-item\">\r\n                      Phone #1<br />{driver.phone}\r\n                    </div>\r\n                    <div className=\"level-item\">\r\n                      Phone #2<br />{driver.phone2}\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  Email<br />{driver.email}\r\n                </td>\r\n                <td>\r\n                  Account Password<br />{driver.password}\r\n                </td>\r\n                <td>\r\n                  Business ID<br /> {driver.business_id}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <div className=\"level\">\r\n                    <div className=\"level-item\">\r\n                      <span>\r\n                        Bank Account #\r\n                        <br />\r\n                        {driver.bank_account_info}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"level-item\">\r\n                      <span>\r\n                        Bank Routing #\r\n                        <br />\r\n                        {driver.bank_routing_info}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                SSN<br />{driver.ssn}\r\n                </td>\r\n                <td>\r\n                  Hourly Rate<br />{driver.hourly_rate}\r\n                </td>\r\n                <td>\r\n                  Delivery Fee<br />{driver.delivery_fee}\r\n                </td>\r\n              </tr>\r\n            </React.Fragment>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DriverEdit({ driver, id, ...props }) {\r\n  const [driverData, setDriverData] = useState(driver);\r\n  const exists = driver !== emptyDriver;\r\n  const driver_id = Number(id.substring(id.indexOf(\"-\") + 1, id.length));\r\n\r\n  const handleChange = (e, type) => {\r\n    e.persist();\r\n    setDriverData(prevDriverData => ({\r\n      ...prevDriverData,\r\n      [type]: e.target.value,\r\n    }));\r\n    // console.log(driverData);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!exists && (\r\n        <React.Fragment>\r\n          <button\r\n            className=\"button is-small mx-1 is-danger is-outlined is-rounded\" \r\n            style={{ marginBottom: \"1rem\" }}\r\n            onClick={() => props.handleEdit('cancel')}\r\n          >\r\n            <FontAwesomeIcon icon={Icons.faTimes} className=\"mr-2\" />\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"button is-small mx-1 is-success is-outlined is-rounded\" \r\n            onClick={() => props.handleEdit('save', undefined, driverData, driver)}\r\n          >\r\n            <FontAwesomeIcon icon={Icons.faCheck} className=\"mr-2\" />\r\n            Save\r\n          </button>\r\n        </React.Fragment>\r\n      )}\r\n      <div className=\"box list-item\">\r\n        <table\r\n          className=\"table is-hoverable is-fullwidth is-size-7\"\r\n          style={{ backgroundColor: \"#f8f7fa\" }}\r\n        >\r\n          <thead>\r\n            <tr className=\"list-item-head\">\r\n              <th style={{ width: \"40%\" }}>\r\n                <div style={{ width: \"240px\" }}>\r\n                  <span>\r\n                    {exists ? \r\n                      `Driver ${driver_id}: ${`${driver.first_name} ${driver.last_name[0]}.`}` : \r\n                      'New Driver: '\r\n                    }\r\n                  </span>\r\n                </div>\r\n              </th>\r\n              <th style={{ width: \"20%\" }} />\r\n              <th style={{ width: \"20%\" }} />\r\n              <th style={{ width: \"20%\" }}>\r\n                {exists && (\r\n                  <React.Fragment>\r\n                    <button\r\n                      className=\"button is-super-small is-pulled-right\"\r\n                      onClick={() => props.handleEdit('save', id, driverData, driver)}\r\n                    >\r\n                      <FontAwesomeIcon\r\n                        icon={Icons.faCheck}\r\n                      />\r\n                    </button>\r\n                    <button\r\n                      className=\"button is-super-small is-pulled-right mr-1\"\r\n                      onClick={() => props.handleEdit('cancel')}\r\n                    >\r\n                      <FontAwesomeIcon\r\n                        icon={Icons.faTimes}\r\n                      />\r\n                    </button>\r\n                  </React.Fragment>\r\n                )}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"is-bordered has-text-centered\">\r\n            <tr>\r\n              <td>\r\n                <div className=\"level\">\r\n                  <div className=\"level-item\">\r\n                    <span style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                      First &amp; Middle Name:\r\n                      <hr style={{ margin: 0, backgroundColor: \"#ededed\" }} />\r\n                      Last Name:\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"level-item\">\r\n                    <div style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                      <EditItemField \r\n                        type={'first_name'} value={driverData.first_name} \r\n                        handleChange={handleChange} \r\n                      />\r\n                      <hr style={{ margin: 0, backgroundColor: \"#ededed\" }} />\r\n                      <EditItemField \r\n                        type={'last_name'} value={driverData.last_name} \r\n                        handleChange={handleChange} \r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td>\r\n                # of hours/week<br />\r\n                <EditItemField \r\n                  type={'weekly_workload'} value={driverData.weekly_workload} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                <div style={{ width: \"215%\" }}>\r\n                  <div className=\"level\" style={{ marginBottom: 0 }}>\r\n                    <div className=\"level-item\">\r\n                      Driver's License #\r\n                    </div>\r\n                    <div className=\"level-item\">\r\n                      License Expiration\r\n                    </div>\r\n                    <div className=\"level-item\">\r\n                      Vehicle Types\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"level\">\r\n                    <EditItemField \r\n                      type={'drivers_license'} value={driverData.drivers_license} \r\n                      className=\"level-item\" style={{ width: \"33%\" }}\r\n                      handleChange={handleChange} \r\n                    />\r\n                    <EditItemField \r\n                      type={'drivers_license_exp'} value={driverData.drivers_license_exp} \r\n                      className=\"level-item mx-1\" style={{ width: \"33%\" }}\r\n                      handleChange={handleChange} \r\n                    />\r\n                    <EditItemField \r\n                      type={'vehicle_types'} value={driverData.vehicle_types} \r\n                      className=\"level-item\" style={{ width: \"33%\" }}\r\n                      handleChange={handleChange} \r\n                    />\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td style={{ borderLeft: \"hidden\" }} />\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div className=\"level\">\r\n                  <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                    <span className=\"mr-1\" style={{ width: \"100%\" }}>\r\n                      Emergency Contact:\r\n                      <br />\r\n                      <EditItemField \r\n                        style={{ marginTop: \"0.35rem\" }} \r\n                        type={'emergency_contact_phone'} value={driverData.emergency_contact_phone} \r\n                        placeholder={'Phone'} \r\n                        handleChange={handleChange} \r\n                      />\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                    <span style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                      <EditItemField \r\n                        className=\"mb-1\" \r\n                        type={'emergency_contact_name'} value={driverData.emergency_contact_name} \r\n                        placeholder={'Name'} \r\n                        handleChange={handleChange} \r\n                      />\r\n                      <br />\r\n                      <EditItemField \r\n                        type={'emergency_contact_relationship'} value={driverData.emergency_contact_relationship} \r\n                        placeholder={'Relationship'} \r\n                        handleChange={handleChange} \r\n                      />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td>\r\n                Preferred Routes<br />\r\n                <EditItemField \r\n                  type={'preferred_routes'} value={driverData.preferred_routes} \r\n                  handleChange={handleChange} \r\n                />\r\n                {/* {driver.preferred_routes.map((route, index) => (\r\n                  <p>Route {route.id}: <span>ROUTE COLOR</span></p>\r\n                ))} */}\r\n              </td>\r\n              <td>\r\n                Available Times<br />\r\n                <EditItemField \r\n                  type={'available_hours'} value={driverData.available_hours} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                Scheduled Times<br />\r\n                <EditItemField \r\n                  type={'scheduled_hours'} value={driverData.scheduled_hours} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n            </tr>\r\n            <FillerRow numColumns={4} />\r\n            {/* {showMore && (  */}\r\n              {/* <React.Fragment> */}\r\n                <tr>\r\n                  <td style={{ textAlign: \"left\" }}>\r\n                    Address:<br />\r\n                    <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n                      <EditItemField \r\n                        className=\"mr-1 mb-1\" style={{ width: \"65%\" }} \r\n                        type={'street'} value={driverData.street} \r\n                        placeholder='Street'\r\n                        handleChange={handleChange} \r\n                      />\r\n                      <EditItemField \r\n                        className=\"mr-1 mb-1\" style={{ width: \"30%\" }} \r\n                        type={'unit'} value={driverData.unit} \r\n                        placeholder='Unit (optional)'\r\n                        handleChange={handleChange} \r\n                      />\r\n                      <EditItemField \r\n                        className=\"mr-1 mb-1\" style={{ width: \"44%\" }} \r\n                        type={'city'} value={driverData.city} \r\n                        placeholder='City'\r\n                        handleChange={handleChange} \r\n                      />\r\n                      <EditItemField \r\n                        className=\"mr-1 mb-1\" style={{ width: \"20%\" }} \r\n                        type={'state'} value={driverData.state}\r\n                        placeholder='State' \r\n                        handleChange={handleChange} \r\n                      />\r\n                      <EditItemField \r\n                        style={{ width: \"30%\" }} \r\n                        type={'zip'} value={driverData.zip} \r\n                        placeholder='ZIP Code'\r\n                        handleChange={handleChange} \r\n                      />\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    Insurance Carrier<br />\r\n                    <EditItemField \r\n                      type={'insurance_carrier'} value={driverData.insurance_carrier} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    Insurance Number<br />\r\n                    <EditItemField \r\n                      type={'insurance_number'} value={driverData.insurance_number} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    Insurance Expiration<br />\r\n                    <EditItemField \r\n                      type={'insurance_expiration'} value={driverData.insurance_expiration} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    <div className=\"level\">\r\n                      <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                        <span className=\"mr-1\">\r\n                          Phone #1<br />\r\n                          <EditItemField \r\n                            type={'phone'} value={driverData.phone} \r\n                            handleChange={handleChange} \r\n                          />\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                        <span>\r\n                          Phone #2<br />\r\n                          <EditItemField \r\n                            type={'phone2'} value={driverData.phone2} \r\n                            handleChange={handleChange} \r\n                          />\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    Email<br />\r\n                    <EditItemField \r\n                      type={'email'} value={driverData.email} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    Account Password<br />\r\n                    <EditItemField \r\n                      type={'password'} value={driverData.password} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    Business ID<br />\r\n                    <EditItemField \r\n                      type={'business_id'} value={driverData.business_id} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    <div className=\"level\">\r\n                      <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                        <span className=\"mr-1\">\r\n                          Bank Account #\r\n                          <br />\r\n                          <EditItemField \r\n                            type={'bank_account_info'} value={driverData.bank_account_info} \r\n                            handleChange={handleChange} \r\n                          />\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"level-item\" style={{ flexShrink: 1 }}>\r\n                        <span>\r\n                          Bank Routing #\r\n                          <br />\r\n                          <EditItemField \r\n                            type={'bank_routing_info'} value={driverData.bank_routing_info} \r\n                            handleChange={handleChange} \r\n                          />\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    SSN<br />\r\n                    <EditItemField \r\n                      type={'ssn'} value={driverData.ssn} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    Hourly Rate<br />\r\n                    <EditItemField \r\n                      type={'hourly_rate'} value={driverData.hourly_rate} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    Delivery Fee<br />\r\n                    <EditItemField \r\n                      type={'delivery_fee'} value={driverData.delivery_fee} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                </tr>\r\n              {/* </React.Fragment> */}\r\n            {/* )} */}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default DriverList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport FillerRow from \"utils/Components/FillerRow\";\r\nimport EditItemField from \"utils/Components/EditItemField\";\r\nimport DayHoursDropdown from \"utils/Components/DayHoursDropdown\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL, validToUpdate } from \"utils/Functions/DataFunctions\";\r\n\r\nconst emptyBusiness = {\r\n  EIN: \"\",\r\n  USDOT: \"\",\r\n  WAUBI: \"\",\r\n  accepting_hours: \"\",\r\n  available_zones: \"\",\r\n  can_cancel: 0,\r\n  city: \"\",\r\n  contact_first_name: \"\",\r\n  contact_last_name: \"\",\r\n  delivery: 0,\r\n  delivery_hours: \"\",\r\n  description: \"\",\r\n  email: \"\",\r\n  hours: \"\",\r\n  image: \"\",\r\n  latitude: 0, // temporary\r\n  license: \"\",\r\n  longitude: 0, // temporary\r\n  name: \"\",\r\n  notification_approval: \"\",\r\n  notification_device_id: \"\",\r\n  password: \"\",\r\n  phone: \"\",\r\n  phone2: \"\",\r\n  registered: \"\",\r\n  reusable: 0,\r\n  state: \"\",\r\n  street: \"\",\r\n  type: \"\",\r\n  unit: \"\",\r\n  visible: true,\r\n  zip: \"\",\r\n  zones: \"\",\r\n};\r\n\r\nfunction BusinessList({ businesses, ...props }) {\r\n  console.log(\"rendering businesses..\");\r\n  const [businessData, setBusinessData] = useState(Object.entries(businesses));\r\n  const [dataEdit, setDataEdit] = useState(); // undefined, 'add', or `${business_id}`\r\n  // console.log(businessData);\r\n\r\n  useEffect(() => {\r\n    const businessData = Object.entries(businesses);\r\n    if (props.filter) {\r\n      setBusinessData(() => {\r\n        return businessData.filter(business => {\r\n          // console.log(business[1][props.filter.option], props.filter.value);\r\n          // eslint-disable-next-line\r\n          return business[1][props.filter.option] == props.filter.value\r\n        });\r\n      });\r\n    }\r\n    else setBusinessData(businessData);\r\n  }, [businesses, props.filter]);\r\n  \r\n  const editBusiness = (action, id, data, originalData) => {\r\n    console.log(\"adding business.........\");\r\n    if (action === 'edit') setDataEdit(id);\r\n    else if (action === 'add') setDataEdit('add');\r\n    else {\r\n      if (action === 'save') { \r\n        // console.log(\"SAVED:\", data);\r\n        // business table currently does not have all the needed data, \r\n        // sending this temporary object for now\r\n        // console.log(data.registered, originalData.registered, data.registered === originalData.registered);\r\n        const dataForNow = {\r\n          ...(!id || data.registered !== originalData.registered) && { business_created_at: data.registered },\r\n          ...(!id || data.name !== originalData.name) && { business_name: data.name },\r\n          ...(!id || data.type !== originalData.type) && { business_type: data.type },\r\n          ...(!id || data.description !== originalData.description) && { business_desc: data.description },\r\n          ...(!id || data.contact_first_name !== originalData.contact_first_name) && { business_contact_first_name: data.contact_first_name },\r\n          ...(!id || data.contact_last_name !== originalData.contact_last_name) && { business_contact_last_name: data.contact_last_name },\r\n          ...(!id || data.phone !== originalData.phone) && { business_phone_num: data.phone },\r\n          ...(!id || data.phone2 !== originalData.phone2) && { business_phone_num2: data.phone2 },\r\n          ...(!id || data.email !== originalData.email) && { business_email: data.email },\r\n          ...(!id || data.hours !== originalData.hours) && { business_hours: data.hours },\r\n          ...(!id || data.accepting_hours !== originalData.accepting_hours) && { business_accepting_hours: data.accepting_hours },\r\n          ...(!id || data.delivery_hours !== originalData.delivery_hours) && { business_delivery_hours: data.delivery_hours },\r\n          ...(!id || data.street !== originalData.street) && { business_address: data.street },\r\n          ...(!id || data.unit !== originalData.unit) && { business_unit: data.unit },\r\n          ...(!id || data.city !== originalData.city) && { business_city: data.city },\r\n          ...(!id || data.state !== originalData.state) && { business_state: data.state },\r\n          ...(!id || data.zip !== originalData.zip) && { business_zip: data.zip },\r\n          ...(!id || data.latitude !== originalData.latitude) && { business_latitude: `${data.latitude}` },\r\n          ...(!id || data.longitude !== originalData.longitude) && { business_longitude: `${data.longitude}` },\r\n          ...(!id || data.EIN !== originalData.EIN) && { business_EIN: data.EIN },\r\n          ...(!id || data.WAUBI !== originalData.WAUBI) && { business_WAUBI: data.WAUBI },\r\n          ...(!id || data.license !== originalData.license) && { business_license: data.license },\r\n          ...(!id || data.USDOT !== originalData.USDOT) && { business_USDOT: data.USDOT },\r\n          ...(!id || data.notification_approval !== originalData.notification_approval) && { notification_approval: data.notification_approval },\r\n          ...(!id || data.notification_device_id !== originalData.notification_device_id) && { notification_device_id: data.notification_device_id },\r\n          ...(!id || data.can_cancel !== originalData.can_cancel) && { can_cancel: `${data.can_cancel}` },\r\n          ...(!id || data.delivery !== originalData.delivery) && { delivery: `${data.delivery}` },\r\n          ...(!id || data.reusable !== originalData.reusable) && { reusable: `${data.reusable}` },\r\n          ...(!id || data.image !== originalData.image) && { business_image: data.image },\r\n          ...(!id || data.password !== originalData.password) && { business_password: data.password },\r\n        }; \r\n        // console.log(dataForNow);\r\n\r\n        const ENDPOINT_URL = BASE_URL + (id ? \"Businesses\" : \"insertNewBusiness\");\r\n        const postData = id ? { business_uid: id, new_data: dataForNow } : dataForNow;\r\n        console.log(ENDPOINT_URL, postData/*, JSON.stringify(postData)*/);\r\n        // console.log(validToUpdate('business', postData));\r\n        \r\n        if (validToUpdate('business', postData)) {\r\n          axios.post(ENDPOINT_URL, postData)\r\n          .then(response => {\r\n            console.log(response);\r\n            // const dataResponse = response.data.result.result;\r\n            // props.dispatch({ type: 'update-list', payload: { dataType: 'businesses', value: dataResponse } });\r\n          })\r\n          .catch(err => {\r\n            console.log(err.response ? err.response : err);\r\n          });\r\n        }\r\n      }\r\n      setDataEdit();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {dataEdit !== 'add' && (\r\n        <button\r\n          className=\"button is-small mx-1 is-success is-outlined is-rounded\" \r\n          style={{ marginBottom: \"1rem\" }}\r\n          onClick={() => editBusiness('add')}\r\n        >\r\n          <FontAwesomeIcon icon={Icons.faPlus} className=\"mr-2\" />\r\n          Add Business\r\n        </button>\r\n      )}\r\n      {dataEdit === 'add' && (\r\n        <BusinessEdit business={emptyBusiness} id={dataEdit} handleEdit={editBusiness} />\r\n      )}\r\n      {businessData.map((business, index) => (\r\n        <React.Fragment key={index}>\r\n          {dataEdit !== business[0] ? (\r\n            <BusinessItem\r\n              index={index}\r\n              business={business[1]}\r\n              id={business[0]}\r\n              dispatch={props.dispatch}\r\n              handleEdit={editBusiness}\r\n            />\r\n          ) : (\r\n            <BusinessEdit \r\n              business={business[1]} \r\n              id={business[0]} \r\n              handleEdit={editBusiness} \r\n            />\r\n          )}\r\n        </React.Fragment>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n// const handleDateTime = (input) => {\r\n//   if (input) {\r\n//     const split = input.split(/-|T/);\r\n//     const date_time = `${split[0]} ${moment.monthsShort(Number(split[1]))} ${split[2]}, ${split[3]}`;\r\n//     // for (let section of split) date_time += `${section} `;\r\n//     return date_time;\r\n//   }\r\n// };\r\n\r\nfunction BusinessItem({ business, id, ...props }) {\r\n  const [hidden, setHidden] = useState(true);\r\n  const [showMore, setShowMore] = useState(false);\r\n  // const [businessDay, setBusinessDay] = useState(0);\r\n  // const [deliveryDay, setDeliveryDay] = useState(0);\r\n  // const [acceptingDay, setAcceptingDay] = useState(0);\r\n  const address = `${business.street}${(business.unit ? ` ${business.unit}` : \"\")} \r\n                   ${business.city} ${business.state} ${business.zip}`;\r\n  const business_id = Number(id.substring(id.indexOf(\"-\") + 1, id.length));\r\n\r\n  const sendBusinessText = (businessNumber) => {\r\n    console.log(`Sending Business ${businessNumber} a text..`);\r\n  };\r\n\r\n  const handleVisibilitySelect = () => {\r\n    props.dispatch({ type: \"toggle-visibility\", payload: { id, type: \"businesses\" } });\r\n  };\r\n\r\n  return (\r\n    <div className=\"box list-item\">\r\n      <table\r\n        className=\"table is-hoverable is-fullwidth is-size-7\"\r\n        style={{ backgroundColor: \"#f8f7fa\" }}\r\n      >\r\n        <thead>\r\n          <tr className=\"list-item-head\">\r\n            <th style={{ width: \"20%\" }}>\r\n              {/* <button className=\"tooltip mx-1\" onClick={() => setHidden(prevHidden => !prevHidden)}> */}\r\n              <div style={{ width: \"300%\", maxWidth: \"325px\" }}>\r\n                {/* Displaying only the second section of a business id. Ex: 200-000011 => 11 */}\r\n                <button \r\n                  className=\"button is-super-small is-rounded mr-3\" \r\n                  onClick={handleVisibilitySelect}\r\n                >\r\n                  <FontAwesomeIcon icon={business.visible ? Icons.faEyeSlash : Icons.faEye} />\r\n                </button>\r\n                <span style={{ ...(!business.visible ? { marginLeft: \"1.32px\" } : {}) }}>\r\n                  Business {business_id}: {business.name}\r\n                </span>\r\n                <button\r\n                  className=\"button is-rounded is-super-small is-pulled-right ml-1\"\r\n                  onClick={() => console.log(\"Not sure what this does atm\")}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faPhone} />\r\n                </button>\r\n                <button\r\n                  className=\"button is-rounded is-super-small is-pulled-right\"\r\n                  onClick={() => sendBusinessText(business_id)}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faComment} />\r\n                </button>\r\n              </div>\r\n            </th>\r\n            <th style={{ width: \"20%\" }} />\r\n            <th style={{ width: \"20%\" }} />\r\n            <th style={{ width: \"20%\" }} />\r\n            <th style={{ width: \"20%\" }}>\r\n              <button\r\n                className=\"button is-super-small is-pulled-right\"\r\n                onClick={() => setHidden((prevHidden) => !prevHidden)}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={hidden ? Icons.faCaretDown : Icons.faCaretUp}\r\n                />\r\n                {/* <span className=\"tooltiptext\">{hidden ? \"Expand\" : \"Collapse\"}</span> */}\r\n              </button>\r\n              {!hidden && (\r\n                <button\r\n                  className=\"button is-super-small is-pulled-right mr-1\"\r\n                  onClick={() => props.handleEdit('edit', id)}\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={Icons.faPlus}\r\n                  />\r\n                  {/* <span className=\"tooltiptext\">{hidden ? \"Expand\" : \"Collapse\"}</span> */}\r\n                </button>\r\n              )}\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"is-bordered has-text-centered\" hidden={hidden}>\r\n          <tr>\r\n            <td>\r\n              Business Image<br /><img src={business.image} alt={`${business.name}`} width=\"48\" height=\"48\" />\r\n            </td>\r\n            <td>\r\n              Registered At<br />{business.registered}\r\n            </td>\r\n            <td>\r\n              Type<br />{business.type}\r\n            </td>\r\n            <td>\r\n              <div style={{ width: \"215%\" }}>\r\n                Description<br />{business.description}\r\n              </div>\r\n            </td>\r\n            <td style={{ borderLeft: \"hidden\" }} />\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div style={{ width: \"215%\" }}>\r\n                Address<br />{address}\r\n              </div>\r\n            </td>\r\n            <td style={{ borderLeft: \"hidden\" }} />\r\n            <td>\r\n              Business Hours<br />\r\n              <DayHoursDropdown type={business.hours} />\r\n            </td>\r\n            <td>\r\n              Delivery Hours<br />\r\n              <DayHoursDropdown type={business.delivery_hours} />\r\n            </td>\r\n            <td>\r\n              Accepting Hours<br />\r\n              <DayHoursDropdown type={business.accepting_hours} />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              Contact Person<br />{`${business.contact_first_name} ${business.contact_last_name}`}\r\n            </td>\r\n            <td>\r\n              Phone #1: {business.phone}\r\n              <br />\r\n              Phone #2: {business.phone2}\r\n            </td>\r\n            <td>\r\n              Email<br />{business.email}\r\n            </td>\r\n            <td>\r\n              Notification Approval<br />{business.notification_approval}\r\n            </td>\r\n            <td>\r\n              Notification Device<br />{business.notification_device_id}\r\n            </td>\r\n          </tr>\r\n          <FillerRow numColumns={5} showMore={showMore} setShowMore={setShowMore} />\r\n          {showMore && (\r\n            <React.Fragment>\r\n              <tr>\r\n                <td>\r\n                  Business License #<br />{business.license}\r\n                </td>\r\n                <td>\r\n                  Business License Expiration<br />\r\n                </td>\r\n                <td>\r\n                  Business Password<br />\r\n                  {business.password}\r\n                </td>\r\n                <td></td>\r\n                <td>\r\n                  Available Zones<br />{business.available_zones}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  EIN #<br />{business.EIN}\r\n                </td>\r\n                <td>\r\n                  US DOT #<br />{business.USDOT}\r\n                </td>\r\n                <td>\r\n                  WA UBI #<br />{business.WAUBI}\r\n                </td>\r\n                <td></td>\r\n                <td>\r\n                  Can Deliver:\r\n                  <FontAwesomeIcon \r\n                    icon={business.delivery ? Icons.faCheck : Icons.faTimes}\r\n                    color={business.delivery ? \"green\" : \"red\"} \r\n                    className=\"ml-2\" \r\n                    style={{ position: \"relative\", top: \"0.05rem\" }} \r\n                  />\r\n                  <br />\r\n                  Can Cancel:\r\n                  <FontAwesomeIcon \r\n                    icon={business.can_cancel ? Icons.faCheck : Icons.faTimes}\r\n                    color={business.can_cancel ? \"green\" : \"red\"}\r\n                    className=\"ml-2\" \r\n                    style={{ position: \"relative\", top: \"0.05rem\" }} \r\n                  />\r\n                  <br />\r\n                  Is Reusable:\r\n                  <FontAwesomeIcon \r\n                    icon={business.reusable ? Icons.faCheck : Icons.faTimes}\r\n                    color={business.reusable ? \"green\" : \"red\"}\r\n                    className=\"ml-2\" \r\n                    style={{ position: \"relative\", top: \"0.05rem\" }} \r\n                  />\r\n                </td>\r\n              </tr>\r\n            </React.Fragment>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction BusinessEdit({ business, id, ...props }) {\r\n  const [businessData, setBusinessData] = useState(business);\r\n  const exists = business !== emptyBusiness;\r\n\r\n  const handleChange = (e, type) => {\r\n    e.persist();\r\n    console.log(e.target, e.target.checked, e.target.value);\r\n    \r\n    setBusinessData(prevBusinessData => ({\r\n      ...prevBusinessData,\r\n      [type]: e.target.type !== \"checkbox\" ? e.target.value : Number(e.target.checked),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!exists && (\r\n        <React.Fragment>\r\n          <button\r\n            className=\"button is-small mx-1 is-danger is-outlined is-rounded\" \r\n            style={{ marginBottom: \"1rem\" }}\r\n            onClick={() => props.handleEdit('cancel')}\r\n          >\r\n            <FontAwesomeIcon icon={Icons.faTimes} className=\"mr-2\" />\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"button is-small mx-1 is-success is-outlined is-rounded\" \r\n            onClick={() => props.handleEdit('save', undefined, businessData, business)}\r\n          >\r\n            <FontAwesomeIcon icon={Icons.faCheck} className=\"mr-2\" />\r\n            Save\r\n          </button>\r\n        </React.Fragment>\r\n      )}\r\n      <div className=\"box list-item\">\r\n        <table\r\n          className=\"table is-hoverable is-fullwidth is-size-7\"\r\n          style={{ backgroundColor: \"#f8f7fa\" }}\r\n        >\r\n          <thead>\r\n            <tr className=\"list-item-head\">\r\n              <th style={{ width: \"20%\" }}>\r\n                <div style={{ width: \"300%\", maxWidth: \"325px\" }}>\r\n                  <span>\r\n                    {exists ? \r\n                      `Business ${Number(id.substring(id.indexOf(\"-\") + 1, id.length))}: ` : \r\n                      'New Business: '\r\n                    }\r\n                  </span>\r\n                  <EditItemField \r\n                    type={'name'} value={businessData.name}\r\n                    className=\"ml-1\" style={{ width: \"50%\" }}\r\n                    handleChange={handleChange}\r\n                  />\r\n                </div>\r\n              </th>\r\n              <th style={{ width: \"20%\" }} />\r\n              <th style={{ width: \"20%\" }} />\r\n              <th style={{ width: \"20%\" }} />\r\n              <th style={{ width: \"20%\" }}>\r\n                {exists && (\r\n                  <React.Fragment>\r\n                    <button\r\n                      className=\"button is-super-small is-pulled-right\"\r\n                      onClick={() => props.handleEdit('save', id, businessData, business)}\r\n                    >\r\n                      <FontAwesomeIcon\r\n                        icon={Icons.faCheck}\r\n                      />\r\n                    </button>\r\n                    <button\r\n                      className=\"button is-super-small is-pulled-right mr-1\"\r\n                      onClick={() => props.handleEdit('cancel')}\r\n                    >\r\n                      <FontAwesomeIcon\r\n                        icon={Icons.faTimes}\r\n                      />\r\n                    </button>\r\n                  </React.Fragment>\r\n                )}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"is-bordered has-text-centered\">\r\n            <tr>\r\n              <td>\r\n                Business Image<br />\r\n                <EditItemField \r\n                  type={'image'} value={businessData.image} \r\n                  placeholder='Image URL'\r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                Registered At<br />\r\n                <EditItemField \r\n                  type={'registered'} value={businessData.registered} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                Type<br />\r\n                <EditItemField \r\n                  type={'type'} value={businessData.type} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                <div style={{ width: \"215%\" }}>\r\n                  Description<br />\r\n                  <EditItemField \r\n                    type={'description'} value={businessData.description} \r\n                    handleChange={handleChange} \r\n                    textarea\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td style={{ borderLeft: \"hidden\" }} />\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div style={{ width: \"215%\" }}>\r\n                  Address<br />\r\n                  <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n                    <EditItemField \r\n                      type={'street'} value={businessData.street}\r\n                      className=\"mr-1 mb-1\" style={{ width: \"65%\" }} \r\n                      placeholder='Street'\r\n                      handleChange={handleChange} \r\n                    />\r\n                    <EditItemField \r\n                      type={'unit'} value={businessData.unit} \r\n                      className=\"mr-1 mb-1\" style={{ width: \"30%\" }} \r\n                      placeholder='Unit (optional)'\r\n                      handleChange={handleChange} \r\n                    />\r\n                    <EditItemField \r\n                      type={'city'} value={businessData.city} \r\n                      className=\"mr-1 mb-1\" style={{ width: \"43.5%\" }} \r\n                      placeholder='City'\r\n                      handleChange={handleChange} \r\n                    />\r\n                    <EditItemField \r\n                      type={'state'} value={businessData.state} \r\n                      className=\"mr-1 mb-1\" style={{ width: \"20%\" }} \r\n                      placeholder='State'\r\n                      handleChange={handleChange} \r\n                    />\r\n                    <EditItemField \r\n                      type={'zip'} value={businessData.zip} \r\n                      style={{ width: \"30.25%\" }} \r\n                      placeholder='ZIP Code'\r\n                      handleChange={handleChange} \r\n                    />\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td style={{ borderLeft: \"hidden\" }} />\r\n              <td>\r\n                Business Hours<br />\r\n                <EditItemField \r\n                  type={'hours'} value={businessData.hours} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                Delivery Hours<br />\r\n                <EditItemField \r\n                  type={'delivery_hours'} value={businessData.delivery_hours} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                Accepting Hours<br />\r\n                <EditItemField \r\n                  type={'accepting_hours'} value={businessData.accepting_hours} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                Contact Person<br />\r\n                <div className=\"level\">\r\n                  <EditItemField \r\n                    type={'contact_first_name'} value={businessData.contact_first_name} \r\n                    className=\"level-item mr-1\" style={{ maxWidth: \"65%\" }}\r\n                    placeholder='First &amp; Middle'\r\n                    handleChange={handleChange} \r\n                  />\r\n                  <EditItemField \r\n                    type={'contact_last_name'} value={businessData.contact_last_name} \r\n                    className=\"level-item\" style={{ maxWidth: \"30%\" }}\r\n                    placeholder='Last'\r\n                    handleChange={handleChange} \r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                Phone #1:\r\n                <EditItemField \r\n                  type={'phone'} value={businessData.phone} \r\n                  className=\"ml-1 mb-1\" style={{ maxWidth: \"60%\" }}\r\n                  handleChange={handleChange} \r\n                />\r\n                <br />\r\n                Phone #2: \r\n                <EditItemField \r\n                  type={'phone2'} value={businessData.phone2} \r\n                  className=\"ml-1\" style={{ maxWidth: \"60%\" }}\r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                Email<br />\r\n                <EditItemField \r\n                  type={'email'} value={businessData.email} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                Notification Approval<br />\r\n                <EditItemField \r\n                  type={'notification_approval'} value={businessData.notification_approval} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n              <td>\r\n                Notification Device<br />\r\n                <EditItemField \r\n                  type={'notification_device_id'} value={businessData.notification_device_id} \r\n                  handleChange={handleChange} \r\n                />\r\n              </td>\r\n            </tr>\r\n            <FillerRow numColumns={5} />\r\n            {/* {showMore && (\r\n              <React.Fragment> */}\r\n                <tr>\r\n                  <td>\r\n                    Business License #<br />{business.license}\r\n                    <EditItemField \r\n                      type={'license'} value={businessData.license} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    Business License Expiration<br />\r\n                  </td>\r\n                  <td>\r\n                    Business Password<br />\r\n                    <EditItemField \r\n                      type={'password'} value={businessData.password} \r\n                      handleChange={handleChange} \r\n                      textarea\r\n                    />\r\n                  </td>\r\n                  <td></td>\r\n                  <td>\r\n                    Available Zones<br />\r\n                    <EditItemField \r\n                      type={'available_zones'} value={businessData.available_zones} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    EIN #<br />\r\n                    <EditItemField \r\n                      type={'EIN'} value={businessData.EIN} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    US DOT #<br />\r\n                    <EditItemField \r\n                      type={'USDOT'} value={businessData.USDOT} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    WA UBI #<br />\r\n                    <EditItemField \r\n                      type={'WAUBI'} value={businessData.WAUBI} \r\n                      handleChange={handleChange} \r\n                    />\r\n                  </td>\r\n                  <td></td>\r\n                  <td>\r\n                    Can Deliver:\r\n                    <EditItemField \r\n                      type={'delivery'} value={Boolean(businessData.delivery)} \r\n                      className=\"ml-1\"\r\n                      handleChange={handleChange} \r\n                      checkbox\r\n                    />\r\n                    <br />\r\n                    Can Cancel:\r\n                    <EditItemField \r\n                      type={'can_cancel'} value={Boolean(businessData.can_cancel)} \r\n                      className=\"ml-1\"\r\n                      handleChange={handleChange} \r\n                      checkbox\r\n                    />\r\n                    <br />\r\n                    Is Reusable:\r\n                    <EditItemField \r\n                      type={'reusable'} value={Boolean(businessData.reusable)} \r\n                      className=\"ml-1\"\r\n                      handleChange={handleChange} \r\n                      checkbox\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              {/* </React.Fragment>\r\n            )} */}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default BusinessList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport FillerRow from \"utils/Components/FillerRow\"\r\n// import axios from \"axios\";\r\n\r\nfunction CustomerList({ customers, ...props }) {\r\n  console.log(\"rendering customers..\");\r\n  const [customerData, setCustomerData] = useState(Object.entries(customers));\r\n\r\n  useEffect(() => {\r\n    const customerData = Object.entries(customers);\r\n    if (props.filter) {\r\n      setCustomerData(() => {\r\n        return customerData.filter(customer => {\r\n          // console.log(customer[1][props.filter.option], props.filter.value);\r\n          // eslint-disable-next-line\r\n          return customer[1][props.filter.option] == props.filter.value\r\n        });\r\n      });\r\n    }\r\n    else setCustomerData(customerData);\r\n  }, [customers, props.filter]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {customerData.map((customer, index) => (\r\n        <CustomerItem\r\n          key={index}\r\n          index={index}\r\n          customer={customer[1]}\r\n          id={customer[0]}\r\n        />\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction CustomerItem({ customer, id, ...props }) {\r\n  const [hidden, setHidden] = useState(true);\r\n  const [showMore, setShowMore] = useState(false);\r\n  const address = `${customer.street}${customer.unit ? ` ${customer.unit}` : \"\"} ${customer.city} ${customer.state} ${customer.zip}`;\r\n  const customer_id = Number(id.substring(id.indexOf(\"-\") + 1, id.length));\r\n\r\n  return (\r\n    <div className=\"box list-item\">\r\n      <table\r\n        className=\"table is-hoverable is-fullwidth is-size-7\"\r\n        style={{ backgroundColor: \"#f8f7fa\" }}\r\n      >\r\n        <thead>\r\n          <tr className=\"list-item-head\">\r\n            <th style={{ width: \"20%\" }}>\r\n              {/* <button className=\"tooltip mx-1\" onClick={() => setHidden(prevHidden => !prevHidden)}> */}\r\n              <div style={{ width: \"200%\", maxWidth: \"240px\" }}>\r\n                <span>Customer {customer_id}: {`${customer.first_name} ${customer.last_name[0]}.`}</span>\r\n                <button\r\n                  className=\"button is-rounded is-pulled-right is-super-small ml-1\"\r\n                  // onClick={() => sendEmail(index + 1)}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faEnvelope} />\r\n                </button>\r\n                {/* <button className=\"tooltip mx-1\" onClick={() => setHidden(prevHidden => !prevHidden)}> */}\r\n                <button\r\n                  className=\"button is-rounded is-pulled-right is-super-small\"\r\n                  // onClick={() => sendText(index + 1)}\r\n                >\r\n                  <FontAwesomeIcon icon={Icons.faComment} />\r\n                </button>\r\n              </div>\r\n            </th>\r\n            <th style={{ width: \"20%\" }} />\r\n            <th style={{ width: \"20%\" }} />\r\n            <th style={{ width: \"20%\" }} />\r\n            <th style={{ width: \"20%\" }} >\r\n              <button\r\n                className=\"button is-super-small is-pulled-right\"\r\n                onClick={() => setHidden((prevHidden) => !prevHidden)}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={hidden ? Icons.faCaretDown : Icons.faCaretUp}\r\n                />\r\n                {/* <span className=\"tooltiptext\">{hidden ? \"Expand\" : \"Collapse\"}</span> */}\r\n              </button>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"is-bordered has-text-centered\" hidden={hidden}>\r\n          <tr>\r\n            <td>\r\n              <div className=\"level\" style={{ width: \"215%\" }}>\r\n                <div className=\"level-item\">\r\n                  <span style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                    First &amp; Middle Name:\r\n                    <hr style={{ margin: 0, backgroundColor: \"#ededed\" }} />\r\n                    Last Name:\r\n                  </span>\r\n                </div>\r\n                <div className=\"level-item\">\r\n                  <span style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                    {customer.first_name}\r\n                    <hr style={{ margin: 0, backgroundColor: \"#ededed\" }} />\r\n                    {customer.last_name}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td style={{ borderLeft: \"hidden\" }} />\r\n            <td>\r\n              Phone #<br />{customer.phone}\r\n            </td>\r\n            <td>\r\n              SMS Frequency<br />{customer.SMS_frequency}\r\n            </td>\r\n            <td>\r\n              SMS Last Notification<br />{customer.SMS_last_notification}\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div style={{ width: \"215%\" }}>\r\n                Address<br />{address}\r\n              </div>\r\n            </td>\r\n            <td style={{ borderLeft: \"hidden\" }} />\r\n            <td>\r\n              Email: {customer.email}\r\n            </td>\r\n            <td>\r\n              Notification Approval<br />{customer.notification_approval}\r\n            </td>\r\n            <td>\r\n              Notification ID<br />{customer.notification_id}\r\n            </td>\r\n          </tr>\r\n          <FillerRow numColumns={5} showMore={showMore} setShowMore={setShowMore} />\r\n          {showMore && (\r\n            <React.Fragment>\r\n              <tr>\r\n                <td>\r\n                  Account Verified<br />\r\n                  <FontAwesomeIcon \r\n                    icon={customer.verified ? Icons.faCheck : Icons.faTimes}\r\n                    color={customer.verified ? \"green\" : \"red\"}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <div style={{ width: \"415%\" }}>\r\n                    <div className=\"level\">\r\n                      <div className=\"level-item\">\r\n                        Password Salt<br />{customer.password_salt}\r\n                      </div>\r\n                      <div className=\"level-item\" style={{ display: \"inline-block\", width: \"33%\" }}>\r\n                        Password Hash<br />{customer.password_hash}\r\n                      </div>\r\n                      <div className=\"level-item\">\r\n                        Password Algorithm<br />{customer.password_algorithm}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td style={{ borderLeft: \"hidden\" }} />\r\n                <td style={{ borderLeft: \"hidden\" }} />\r\n                <td style={{ borderLeft: \"hidden\" }} />\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  Referral Source<br />{customer.referral_source}\r\n                </td>\r\n                <td>\r\n                  Role<br />{customer.role}\r\n                </td>\r\n                <td>\r\n                  Last Update<br />{customer.last_update}\r\n                </td>\r\n                <td>\r\n                  Customer Representative<br />{customer.customer_rep}\r\n                </td>\r\n                <td>\r\n                  Routes<br />{customer.route_id}\r\n                </td>\r\n              </tr>\r\n            </React.Fragment>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CustomerList;\r\n","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\n// import axios from \"axios\";\r\n\r\nfunction VehicleList({ vehicles, ...props }) {\r\n  console.log(\"rendering vehicles..\");\r\n  const [vehicleList, setVehicleList] = useState(Object.entries(vehicles));\r\n  \r\n  return (\r\n    <table className=\"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items\">\r\n      <thead>\r\n        <tr>\r\n          <th>Vehicle ID</th>\r\n          <th>Business Name</th>\r\n          <th>Vehicle Make<br /><span style={{ fontSize: \"0.65rem\" }}>Model, Year</span></th>\r\n          <th>Vehicle Registration</th>\r\n          <th>Vehicle Registration Expiration</th>\r\n          <th>Insurance Carrier</th>\r\n          <th>Insurance Policy</th>\r\n          <th>Insurance Policy Expiration</th>\r\n          <th>Drivers</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {/*\r\n          vehicles is an object containing lists of each businesses' vehicles \r\n        \r\n          Object > {\r\n              business_id : {\r\n                  business_name,\r\n                  vehicles_data: [\r\n                      {\r\n                          // vehicle data\r\n                          drivers: []\r\n                      }, ...\r\n                  ]\r\n              }, ...\r\n          }\r\n        */}\r\n        {vehicleList.map((vehicle, index) => (\r\n          <VehicleItem\r\n            key={index}\r\n            index={index}\r\n            vehicle={vehicle[1]}\r\n            id={vehicle[0]}\r\n            // business_id={business_vehicles[0]}\r\n          />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nfunction VehicleItem({ vehicle, id, ...props }) {\r\n  // const [hidden, setHidden] = useState(true);\r\n  // console.log(vehicles);\r\n\r\n  // vehicle_make: vehicle.vehicle_make,\r\n  // vehicle_model: vehicle.vehicle_model,\r\n  // vehicle_year: vehicle.vehicle_year,\r\n  // insurance_carrier: vehicle.vehicle_ins_carrier,\r\n  // insurance_number: vehicle.vehicle_ins_policy_num,\r\n  // insurance_expiration: vehicle.vehicle_ins_exp_date,\r\n  // registration: vehicle.vehicle_registration,\r\n  // registration_expiration: vehicle.vehicle_registration_exp,\r\n  // drivers: vehicle.drivers,\r\n\r\n  return (\r\n    <tr>\r\n      <td>{id}</td>\r\n      <td>N/A</td>\r\n      <td>\r\n        {vehicle.vehicle_make}<br />\r\n        {vehicle.vehicle_model}, {vehicle.vehicle_year}\r\n      </td>\r\n      <td>{vehicle.registration}</td>\r\n      <td>{vehicle.registration_expiration}</td>\r\n      <td>{vehicle.insurance_carrier}</td>\r\n      <td>{vehicle.insurance_number}</td>\r\n      <td>{vehicle.insurance_expiration}</td>\r\n      <td>\r\n        {vehicle.drivers && (true /* List out drivers */)}\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n  \r\n  export default VehicleList;\r\n  ","import React from \"react\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\n// NOTE: Try doing the sorting in this component? Rather than creating \r\n//       a reducer for every single list. Probably possible?\r\n//       My thoughts: each list component has a useState hook (Ex: [routeData, setRouteData]),\r\n//                    then <SortingIcon type=\"id\" data={routeData} update={setRouteData} />.\r\n//                    What would happen is: update([...data].sort((a, b) => (condition ? a[1][type] - b[1][type] : b[1][type] - a[1][type]))),\r\n//                                          condition = should sort be ascending or descending?\r\nfunction SortingIcon({ type, data, update, typeOf, ...props }) {\r\n  const handleClick = () => {\r\n    console.log(\"testy\");\r\n    update(prevState => {\r\n      const newValue = prevState.sortBy === type ? -prevState.value: -1;\r\n\r\n      // switch (typeOf) {\r\n      //   case 'number':\r\n      return {\r\n        sortBy: type,\r\n        value: newValue,\r\n        list: [...prevState.list].sort((a, b) => {\r\n          switch (typeOf) {\r\n            case 'number':\r\n              return newValue === 1 ? a[1][type] - b[1][type] : b[1][type] - a[1][type];\r\n            case 'string':\r\n              // sorting by primary key\r\n              if (type === 'id') return newValue === 1 ? a[0].localeCompare(b[0]) : b[0].localeCompare(a[0]);\r\n              // sorting by full name\r\n              if (type.includes('name')) {\r\n                // name data can come as 'xxxxx_first_name' or 'first_name'\r\n                const userType = type.substring(0, type.indexOf('-')) ? `${type.substring(0, type.indexOf('-'))}_` : ''; // Ex: userType = 'customer_'\r\n                const name_a = `${a[1][`${userType}first_name`]} ${a[1][`${userType}last_name`]}`;\r\n                const name_b = `${b[1][`${userType}first_name`]} ${b[1][`${userType}last_name`]}`;\r\n                return newValue === 1 ? name_a.localeCompare(name_b) : name_b.localeCompare(name_a);\r\n              }\r\n              // sorting by full address\r\n              if (type.includes('address')) {\r\n                const addressType = type.substring(0, type.indexOf('-'));\r\n                // const address_a = a[1][];\r\n                // const address_b = ;\r\n                // NOTE: Finish this\r\n              }\r\n              return newValue === 1 ? a[1].localeCompare(b[1]) : b[1].localeCompare(a[1]);\r\n            \r\n            default: return prevState;\r\n          }\r\n        }),\r\n      };\r\n        \r\n      //   default: \r\n      //     return prevState;\r\n      // }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <span className=\"fa-layers no-select ml-1\" style={{ cursor: \"pointer\" }} onClick={handleClick}>\r\n      {data.sortBy === type ? (\r\n        <React.Fragment>\r\n          <FontAwesomeIcon \r\n            icon={Icons.faSortUp} \r\n            // size=\"lg\" \r\n            color={data.value === 1 ? \"black\" : \"lightgrey\"}\r\n            // style={{ marginBottom: \"0px\" }} \r\n          />\r\n          <FontAwesomeIcon \r\n            icon={Icons.faSortDown} \r\n            // size=\"lg\" \r\n            color={data.value === -1 ? \"black\" : \"lightgrey\"}\r\n            // style={{ marginTop: \"0px\" }} \r\n          />\r\n        </React.Fragment>\r\n      ) : (\r\n        <FontAwesomeIcon icon={Icons.faSort} color=\"lightgrey\" />\r\n      )}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default SortingIcon;\r\n\r\n{/* <FontAwesomeIcon \r\n    icon={\r\n    data.sortBy !== type \r\n        ? Icons.faSort \r\n        : Icons[data.value === 1 ? 'faSortUp' : 'faSortDown']\r\n    }\r\n    color=\"lightgrey\"\r\n    className=\"ml-1\" \r\n    style={{ cursor: \"pointer\" }}\r\n    onClick={() => dispatch({ type: type })}\r\n/>   */}","import React, { useState, useReducer } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport SortingIcon from \"utils/Components/SortingIcon\";\r\n// import axios from \"axios\";\r\n\r\nfunction PurchaseList({ purchases, ...props }) {\r\n  console.log(\"rendering purchases..\");\r\n  const [purchaseData, setPurchaseData] = useState({\r\n    sortBy: \"\", // sortBy 'id', 'name', etc\r\n    value: 0, // value 1=ascending, -1=descending\r\n    list: Object.entries(purchases),\r\n  });\r\n\r\n  return (\r\n    <table className=\"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items\">\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            Purchase ID\r\n            <SortingIcon type='id' typeOf='string' data={purchaseData} update={setPurchaseData} />\r\n          </th>\r\n          <th>Purchase Date</th>\r\n          <th>Customer ID</th>\r\n          <th>\r\n            Delivery Name\r\n            <SortingIcon type='delivery-name' typeOf='string' data={purchaseData} update={setPurchaseData} /> \r\n          </th>\r\n          <th>Delivery Info</th>\r\n          <th>\r\n            Amount\r\n            <SortingIcon type='cost' typeOf='number' data={purchaseData} update={setPurchaseData} /> \r\n          </th>\r\n          <th>Items</th>\r\n          <th>Paid</th>\r\n          <th>Order Type</th>\r\n          <th>\r\n            Business ID\r\n            <SortingIcon type='business_id' typeOf='string' data={purchaseData} update={setPurchaseData} /> \r\n          </th>\r\n          <th>Purchase Status</th>\r\n          <th>Delivery #</th>\r\n          <th>Route</th>\r\n          <th>Driver</th>\r\n          <th>Delivery Date</th>\r\n          <th>Delivery ETA</th>\r\n          <th>Delivered</th>\r\n          <th>Purchase Notes</th>\r\n          <th>Additional Instructions</th>\r\n          <th>Contact Customer</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {purchaseData.list.map((purchase, index) => (\r\n          <PurchaseItem\r\n            key={index}\r\n            index={index}\r\n            purchase={purchase[1]}\r\n            id={purchase[0]}\r\n          />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nfunction PurchaseItem({ purchase, id, ...props }) {\r\n  // const [hidden, setHidden] = useState(true);\r\n  const address = `${purchase.delivery_street}${(purchase.delivery_unit ? ` ${purchase.delivery_unit}` : \"\")} \r\n                   ${purchase.delivery_city} ${purchase.delivery_state} ${purchase.delivery_zip}`;\r\n  const items = JSON.parse(purchase.items);\r\n\r\n  // const handleItems = () => {\r\n  //   let total = 0;\r\n\r\n  //   return (\r\n  //     <React.Fragment>\r\n  //       {Object.entries(items).map((item, index) => {\r\n  //         total += item[1];\r\n  //         return (<p key={index}>{`${item[0]}: ${item[1]}`}</p>);\r\n  //       })}\r\n  //       <br /><p>total: {total}</p>\r\n  //     </React.Fragment>\r\n  //   );\r\n  // }\r\n  \r\n  return (\r\n    <tr>\r\n      <td>{id}</td>\r\n      <td>{purchase.purchase_date}</td>\r\n      <td>{purchase.customer_id}</td>\r\n      <td>{`${purchase.delivery_first_name} ${purchase.delivery_last_name}`}</td>\r\n      <td>\r\n        Address: <br />{address}<br /><br />\r\n        Phone #: <br />{purchase.delivery_phone}<br />\r\n        Email: <br />{purchase.delivery_email}\r\n      </td>\r\n      <td>${purchase.cost}</td>\r\n      <td>\r\n        {/* {handleItems()} */}\r\n        {purchase.items}\r\n      </td>\r\n      <td>\r\n        <FontAwesomeIcon {...(purchase.hasPaid ? { icon: Icons.faCheck, color: \"green\" } : { icon: Icons.faTimes, color: \"red\" })} />\r\n      </td>\r\n      <td>{purchase.order_type}</td>\r\n      <td>{purchase.business_id}</td>\r\n      <td>{purchase.purchase_status}</td>\r\n      <td>N/A</td>\r\n      <td>N/A</td>\r\n      <td>N/A</td>\r\n      <td>N/A</td>\r\n      <td>N/A</td>\r\n      <td>N/A</td>\r\n      <td>{purchase.purchase_notes}</td>\r\n      <td>\r\n        <p>Order Instructions: {purchase.order_instructions}</p><br />\r\n        <p>Delivery Instructions: {purchase.delivery_instructions}</p>\r\n      </td>\r\n      <td className=\"has-text-centered\">\r\n        <button className=\"button is-rounded is-super-small my-1\">\r\n          <FontAwesomeIcon icon={Icons.faPhone} />\r\n        </button>\r\n        <br />\r\n        <button className=\"button is-rounded is-super-small my-1\">\r\n          <FontAwesomeIcon icon={Icons.faComment} />\r\n        </button>\r\n        <br />\r\n        <button className=\"button is-rounded is-super-small my-1\">\r\n          <FontAwesomeIcon icon={Icons.faEnvelope} />\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n  \r\n  export default PurchaseList;\r\n  ","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\n// import axios from \"axios\";\r\n\r\nfunction PaymentList({ payments, ...props }) {\r\n  console.log(\"rendering payments..\");\r\n  const [paymentList, setPaymentList] = useState(Object.entries(payments));\r\n  \r\n  return (\r\n    <table className=\"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items\">\r\n      <thead>\r\n        <tr>\r\n          <th>Payment ID</th>\r\n          <th>Purchase ID</th>\r\n          <th>Payment Date</th>\r\n          <th>Payment Time Stamp</th>\r\n          <th>Delivery Start Date</th>\r\n          <th>Coupon ID</th>\r\n          <th>Amount Due</th>\r\n          <th>Discount</th>\r\n          <th>Amount Paid</th>\r\n          <th>Charge ID</th>\r\n          <th>Payment Type</th>\r\n          <th>Info</th>\r\n          <th>Credit Card #</th>\r\n          <th>Credit Card CVV</th>\r\n          <th>Credit Card Expiration</th>\r\n          <th>Credit Card Zip</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {paymentList.map((payment, index) => (\r\n          <PaymentItem\r\n            key={index}\r\n            index={index}\r\n            payment={payment[1]}\r\n            id={payment[0]}\r\n          />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nfunction PaymentItem({ payment, id, ...props }) {\r\n  // const [hidden, setHidden] = useState(true);\r\n\r\n  return (\r\n    <tr>\r\n      <td>{id}</td>\r\n      <td>{payment.purchase_id}</td>\r\n      <td>N/A</td>\r\n      <td>{payment.payment_time_stamp}</td>\r\n      <td>{payment.start_delivery_date}</td>\r\n      <td>{payment.coupon_id}</td>\r\n      <td>{payment.amount_due}</td>\r\n      <td>{payment.amount_discount}</td>\r\n      <td>{payment.amount_paid}</td>\r\n      <td>{payment.charge_id}</td>\r\n      <td>{payment.payment_type}</td>\r\n      <td>{payment.info_is_Addon}</td>\r\n      <td>{payment.credit_card_num}</td>\r\n      <td>{payment.credit_card_cvv}</td>\r\n      <td>{payment.credit_card_expiration}</td>\r\n      <td>{payment.credit_card_zip}</td>\r\n    </tr>\r\n  );\r\n}\r\n  \r\nexport default PaymentList;\r\n  ","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport EditItemField from \"utils/Components/EditItemField\";\r\nimport { BASE_URL } from \"utils/Functions/DataFunctions\";\r\nimport axios from \"axios\";\r\n\r\nfunction CouponList({ coupons, refunds, ...props }) {\r\n  console.log(\"rendering coupons..\");\r\n  const [couponList, setCouponList] = useState(Object.entries(coupons));\r\n  const [refundList, setRefundList] = useState(Object.entries(refunds));\r\n  const [form, setForm] = useState();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h2 className=\"has-text-weight-bold ml-2 mb-1\">Coupons</h2>\r\n      {form !== \"coupon\" ? (\r\n        <button\r\n          className=\"button is-small mx-1 is-success is-outlined is-rounded\" \r\n          style={{ marginBottom: \"1rem\" }}\r\n          onClick={() => setForm(\"coupon\")}\r\n        >\r\n          <FontAwesomeIcon icon={Icons.faPlus} className=\"mr-2\" />\r\n          Add Coupon\r\n        </button>\r\n      ) : (\r\n        <InsertForm dataType=\"coupon\" setForm={setForm} />\r\n      )}\r\n      <table className=\"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items my-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>Coupon ID</th>\r\n            <th>Coupon Code</th>\r\n            <th>Active</th>\r\n            <th>Discount Amount</th>\r\n            <th>Discount Percentage</th>\r\n            <th>Discount Shipping</th>\r\n            <th>Delivery Start Date</th>\r\n            <th>Expiration Date</th>\r\n            <th>Limits</th>\r\n            <th>Notes</th>\r\n            <th>Times Used</th>\r\n            <th>Recurring</th>\r\n            <th>Email ID</th>\r\n            <th>Business ID</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {couponList.map((coupon, index) => (\r\n            <CouponItem\r\n              key={index}\r\n              index={index}\r\n              coupon={coupon[1]}\r\n              id={coupon[0]}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <h2 className=\"has-text-weight-bold ml-2 mt-6\">Refunds</h2>\r\n      {form !== \"refund\" ? (\r\n        <button\r\n          className=\"button is-small mx-1 is-success is-outlined is-rounded\" \r\n          style={{ marginBottom: \"1rem\" }}\r\n          onClick={() => setForm(\"refund\")}\r\n        >\r\n          <FontAwesomeIcon icon={Icons.faPlus} className=\"mr-2\" />\r\n          Add Refund\r\n        </button>\r\n      ) : (\r\n        <InsertForm dataType=\"refund\" setForm={setForm} />\r\n      )}\r\n      <table className=\"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items my-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>Refund ID</th>\r\n            <th>Created At</th>\r\n            <th>Email ID</th>\r\n            <th>Phone #</th>\r\n            <th>Image</th>\r\n            <th>Customer Notes</th>\r\n            <th>Refund Amount</th>\r\n            <th>Coupon ID</th>\r\n            <th>Admin Notes</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {refundList.map((refund, index) => ( // NOTE: create refindList array\r\n            <RefundItem\r\n              key={index}\r\n              index={index}\r\n              refund={refund[1]}\r\n              id={refund[0]}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction CouponItem({ coupon, id, ...props }) {\r\n  // const [hidden, setHidden] = useState(true);\r\n\r\n  const handleDisableCoupon = (type, id) => {\r\n    console.log(type, id);\r\n    axios.post(BASE_URL + `disable${type.charAt(0).toUpperCase() + type.slice(1)}`, { [`${type}_uid`]: id })\r\n    .then(response => {\r\n      console.log(response);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <FontAwesomeIcon \r\n          icon={Icons.faTrash} color={coupon.valid === \"TRUE\" ? \"red\" : \"lightgrey\"}\r\n          className=\"mr-1\" style={{ cursor: (coupon.valid === \"TRUE\" ? \"pointer\" : \"not-allowed\") }}\r\n          title={coupon.valid === \"TRUE\" ? \"Disable Coupon\" : \"Coupon Disabled\"}\r\n          onClick={() => (coupon.valid === \"TRUE\" && handleDisableCoupon(\"coupon\", id))}\r\n        />\r\n        {id}\r\n      </td>\r\n      <td>{coupon.code}</td>\r\n      <td>\r\n        <FontAwesomeIcon \r\n          icon={coupon.valid === \"TRUE\" ? Icons.faCheck : Icons.faTimes}\r\n          color={coupon.valid === \"TRUE\" ? \"green\" : \"red\"}\r\n        />\r\n      </td>\r\n      <td>${coupon.discount_amount}</td>\r\n      <td>{coupon.discount_percent}%</td>\r\n      <td>{coupon.discount_shipping}</td>\r\n      <td>N/A</td>\r\n      <td>{coupon.expire_date}</td>\r\n      <td>{coupon.limits}</td>\r\n      <td>{coupon.notes}</td>\r\n      <td>{coupon.num_used}</td>\r\n      <td>\r\n        <FontAwesomeIcon \r\n          icon={coupon.recurring === \"T\" ? Icons.faCheck : Icons.faTimes}\r\n          color={coupon.recurring === \"T\" ? \"green\" : \"red\"}\r\n        />\r\n      </td>\r\n      <td>{coupon.email}</td>\r\n      <td>{coupon.business_id}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nfunction RefundItem({ refund, id, ...props }) {\r\n  // const [hidden, setHidden] = useState(true);\r\n\r\n  return (\r\n    <tr>\r\n      <td>{id}</td>\r\n      <td>{refund.created_at}</td>\r\n      <td>{refund.email}</td>\r\n      <td>{refund.phone}</td>\r\n      <td>\r\n        <img src={refund.image} alt=\"refund\" width=\"48\" height=\"48\" />\r\n      </td>\r\n      <td>{refund.customer_note}</td>\r\n      <td>{refund.refund_amount}</td>\r\n      <td>{refund.coupon_id}</td>\r\n      <td>{refund.admin_note}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nfunction InsertForm({ dataType, ...props }) {\r\n  const [data, setData] = useState({});\r\n\r\n  const handleChange = (e, type) => {\r\n    e.persist();\r\n    console.log(e.target, e.target.checked, e.target.value);\r\n    \r\n    setData(prevData => ({\r\n      ...prevData,\r\n      [type]: e.target.type !== \"checkbox\" ? e.target.value : Number(e.target.checked),\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    // console.log(data);\r\n    let newData = { ...data };\r\n    if (dataType === \"coupon\") {\r\n      newData.valid = data.valid ? \"TRUE\" : \"FALSE\";\r\n      newData.recurring = data.recurring ? \"T\" : \"F\";\r\n      // newData.valid = `${data.valid}`;\r\n      // newData.recurring = `${data.recurring}`;\r\n    }\r\n    console.log(newData);\r\n\r\n    axios.post(BASE_URL + `insertNew${dataType.charAt(0).toUpperCase() + dataType.slice(1)}`, newData)\r\n    .then(response => {\r\n      console.log(response);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n    props.setForm();\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <button\r\n        className=\"button is-small mx-1 is-danger is-outlined is-rounded\" \r\n        style={{ marginBottom: \"1rem\" }}\r\n        onClick={() => props.setForm()}\r\n      >\r\n        <FontAwesomeIcon icon={Icons.faTimes} className=\"mr-2\" />\r\n        Cancel\r\n      </button>\r\n      <button\r\n        className=\"button is-small mx-1 is-success is-outlined is-rounded\" \r\n        onClick={() => handleSubmit()}\r\n      >\r\n        <FontAwesomeIcon icon={Icons.faCheck} className=\"mr-2\" />\r\n        Save\r\n      </button>\r\n      <div className=\"box form-item\" style={{ width: \"480px\" }}>\r\n        {dataType === \"coupon\" ? (\r\n          <React.Fragment>\r\n            <EditItemField \r\n              type={'coupon_id'} value={data.coupon_id || \"\"}\r\n              placeholder=\"Coupon Code\"\r\n              handleChange={handleChange}\r\n            />\r\n            <div className=\"mb-5\">\r\n              <EditItemField \r\n                type={'valid'} value={data.valid || 0}\r\n                handleChange={handleChange}\r\n                checkbox\r\n              />\r\n              <span className=\"is-size-7 ml-1 mr-5\">Valid</span>\r\n              <EditItemField \r\n                type={'recurring'} value={data.recurring || 0}\r\n                handleChange={handleChange}\r\n                checkbox\r\n              />\r\n              <span className=\"is-size-7 mx-1\">Recurring</span>\r\n            </div>\r\n            <EditItemField \r\n              type={'discount_percent'} value={data.discount_percent || \"\"}\r\n              placeholder=\"Discount Percentage\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'discount_amount'} value={data.discount_amount || \"\"}\r\n              placeholder=\"Discount Amount\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'discount_shipping'} value={data.discount_shipping || \"\"}\r\n              className=\"mb-5\"\r\n              placeholder=\"Discount Shipping\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'expire_date'} value={data.expire_date || \"\"}\r\n              placeholder=\"Expiration Date\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'limits'} value={data.limits || \"\"}\r\n              placeholder=\"Limits\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'notes'} value={data.notes || \"\"}\r\n              className=\"mb-5\"\r\n              placeholder=\"Notes\"\r\n              handleChange={handleChange}\r\n              textarea\r\n            />\r\n            <EditItemField \r\n              type={'num_used'} value={data.num_used || \"\"}\r\n              className=\"mb-5\"\r\n              placeholder=\"Times Used\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'email_id'} value={data.email_id || \"\"}\r\n              placeholder=\"Email\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'cup_business_uid'} value={data.cup_business_uid || \"\"}\r\n              placeholder=\"Business ID\"\r\n              handleChange={handleChange}\r\n            />\r\n          </React.Fragment>\r\n        ) : (\r\n          <React.Fragment>\r\n            <EditItemField \r\n              type={'created_at'} value={data.created_at || \"\"}\r\n              className=\"mb-5\"\r\n              placeholder=\"Created At\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'email_id'} value={data.email_id || \"\"}\r\n              placeholder=\"Email\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'phone_num'} value={data.phone_num || \"\"}\r\n              className=\"mb-5\"\r\n              placeholder=\"Phone Number\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'image_url'} value={data.image_url || \"\"}\r\n              className=\"mb-5\"\r\n              placeholder=\"Image URL\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'customer_note'} value={data.customer_note || \"\"}\r\n              placeholder=\"Customer Notes\"\r\n              handleChange={handleChange}\r\n              textarea\r\n            />\r\n            <EditItemField \r\n              type={'admin_note'} value={data.admin_note || \"\"}\r\n              className=\"mt-1 mb-5\"\r\n              placeholder=\"Admin Notes\"\r\n              handleChange={handleChange}\r\n              textarea\r\n            />\r\n            <EditItemField \r\n              type={'refund_amount'} value={data.refund_amount || \"\"}\r\n              placeholder=\"Refund Amount\"\r\n              handleChange={handleChange}\r\n            />\r\n            <EditItemField \r\n              type={'ref_coupon_id'} value={data.ref_coupon_id || \"\"}\r\n              placeholder=\"Coupon ID\"\r\n              handleChange={handleChange}\r\n            />\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n  \r\nexport default CouponList;\r\n  ","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\n// import axios from \"axios\";\r\n\r\nfunction ConstraintList({ constraints, ...props }) {\r\n  console.log(\"rendering constraints..\");\r\n  const [constraintList, setConstraintList] = useState(Object.entries(constraints));\r\n  \r\n  const toggleSort = (type) => {\r\n    switch (type) {\r\n      case 'id': console.log(constraintList); break;\r\n      default: console.log(\"Sorting... invalid type\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <table className=\"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items\">\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            Constraint ID\r\n            <FontAwesomeIcon icon={Icons.faSort} className=\"ml-1\" onClick={() => toggleSort(\"id\")} />\r\n          </th>\r\n          <th>Business Name</th>\r\n          <th>Business Address</th>\r\n          <th>Business Phone Number</th>\r\n          <th>Number of Drivers</th>\r\n          <th>\r\n            <p style={{borderBottom: \"1px solid lightgrey\"}}>Distance per Driver</p>\r\n            <MinMax />\r\n          </th>\r\n          <th>\r\n            <p style={{borderBottom: \"1px solid lightgrey\"}}>Time per Driver</p>\r\n            <MinMax />\r\n          </th>\r\n          <th>\r\n            <p style={{borderBottom: \"1px solid lightgrey\"}}>Number of Deliveries</p>\r\n            <MinMax />\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {constraintList.map((constraint, index) => (\r\n          <VehicleItem\r\n            key={index}\r\n            index={index}\r\n            constraint={constraint[1]}\r\n            business_id={constraint[0]}\r\n          />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nfunction MinMax() {\r\n  return (\r\n    <div className=\"level has-text-light-weight has-text-weight-light\">\r\n      <div\r\n        className=\"level-left is-split\">\r\n        <div className=\"level-item\">Min</div>\r\n      </div>\r\n      <div className=\"level-right is-split\">\r\n        <div className=\"level-item\">Max</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction VehicleItem({ constraint, business_id, ...props }) {\r\n  // const [hidden, setHidden] = useState(true);\r\n  const address = `${constraint.business_street}${(constraint.business_unit ? ` ${constraint.business_unit}` : \"\")} \r\n                   ${constraint.business_city} ${constraint.business_state} ${constraint.business_zip}`;;\r\n  // console.log(constraint);\r\n  \r\n  return (\r\n    <tr>\r\n      <td>{business_id}</td>\r\n      <td>{constraint.business_name}</td>\r\n      <td>{address}</td>\r\n      <td>{constraint.business_phone}</td>\r\n      <td>{constraint.num_drivers}</td>\r\n      <td>\r\n        <div className=\"level\">\r\n          <span className=\"level-item is-split left\">{constraint.min_distance || \"N/A\"}</span>\r\n          <span className=\"level-item is-split\">{constraint.max_distance || \"N/A\"}</span>  \r\n        </div>  \r\n      </td>\r\n      <td>\r\n        <div className=\"level\">\r\n          <span className=\"level-item is-split left\">{constraint.min_time || \"N/A\"}</span>\r\n          <span className=\"level-item is-split\">{constraint.max_time || \"N/A\"}</span>  \r\n        </div>  \r\n      </td>\r\n      <td>\r\n        <div className=\"level\">\r\n          <span className=\"level-item is-split left\">{constraint.min_deliveries || \"N/A\"}</span>\r\n          <span className=\"level-item is-split\">{constraint.max_deliveries || \"N/A\"}</span>  \r\n        </div>  \r\n      </td>\r\n      {/* <td><InputValue /></td>\r\n      <td><InputValue value={constraint.driver_count} hasRange /></td>\r\n      <td><InputValue value={constraint.time_per_driver} hasRange /></td>\r\n      <td><InputValue value={constraint.delivery_count} hasRange /></td> */}\r\n    </tr>\r\n  );\r\n}\r\n\r\n// function InputValue(props) {\r\n//   return (\r\n//     <React.Fragment>\r\n//       {props.hasRange ? (\r\n//         <InputRange min={props.value} max={props.value} />\r\n//       ) : (\r\n//         <input className=\"input is-small has-text-centered\" style={{ width: \"50px\" }} value={props.value} onChange={(e) => console.log(e)} />\r\n//       )}\r\n//     </React.Fragment>\r\n//   );\r\n// }\r\n\r\n// function InputRange(props) {\r\n//   // console.log(\"rendering ranges..\");\r\n//   return (\r\n//     <div className={\"level has-text-light-weight\" + (props.isHeader ? \" has-text-weight-light\" : \"\")}>\r\n//       <div\r\n//         className=\"level-left is-split\">\r\n//         <div className=\"level-item\">\r\n//           <input className=\"input is-small has-text-centered\" style={{ width: \"50px\" }} value={props.min} onChange={(e) => console.log(e)} />\r\n//         </div>\r\n//       </div>\r\n//       <div className=\"level-right is-split\">\r\n//         <div className=\"level-item\">\r\n//           <input className=\"input is-small has-text-centered\" style={{ width: \"50px\" }} value={props.max} onChange={(e) => console.log(e)} />\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\nexport default ConstraintList;\r\n  ","import React, { useState, useReducer, useEffect } from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport moment from 'moment';\r\nimport 'moment-timezone';\r\n\r\nconst weekdays = moment.weekdays();\r\n\r\nfunction reducer(state, action) {\r\n  switch(action.type) {\r\n    case 'today':\r\n      return {\r\n        ...state,\r\n        ...(state.day !== action.payload.today) && { day: action.payload.today },\r\n        ...(state.week !== action.payload.toweek) && { week: action.payload.toweek },\r\n        ...(state.index === -1) && { index: action.payload.slot }\r\n      };\r\n    case 'day-shift':\r\n      const dayDate = state.day.clone().add(action.payload.direction, \"d\");\r\n      const currentWeek = state.day.week();\r\n      const nextWeek = dayDate.week();\r\n      return {\r\n        ...state,\r\n        day: dayDate,\r\n        ...(state.weeknextWeek !== currentWeek) && { week: nextWeek },\r\n        ...(action.payload.today.isSame(dayDate, \"d\") ? { index: action.payload.slot } : { index: -1 })\r\n      };\r\n    case 'week-shift':\r\n      const weekDate = state.day.clone().add(action.payload.direction * 7, \"d\");\r\n      return {\r\n        ...state,\r\n        day: weekDate,\r\n        week: weekDate.week(),\r\n        ...(action.payload.today.isSame(weekDate, \"d\") ? { index: action.payload.slot } : { index: -1 })\r\n      };\r\n    case 'time-change':\r\n      return {\r\n        ...state,\r\n        index: action.payload,\r\n      }\r\n    default: \r\n      return state;\r\n  }\r\n};\r\n\r\nfunction DeliveryView(props) {\r\n  console.log(\"rendering view..\");\r\n\r\n  const times = props.times && Object.keys(props.times).map((index) => [props.times[index]]);\r\n  const columns = props.type === \"day\" ? times : weekdays;\r\n\r\n  // reason I call this inside of the component instead of outside is because\r\n  // any time the component rerenders, the date will be updated as well.\r\n  // basically, my budget way of keeping the date updated\r\n  const today = moment();\r\n  const toweek = today.week();\r\n\r\n  const [dateData, dateDispatch] = useReducer(reducer, {\r\n    day: today,\r\n    week: toweek,\r\n    index: props.type === \"day\" ? props.timeSlot : today.weekday(),\r\n  });\r\n  const weekday = dateData.day.weekday();\r\n\r\n  useEffect(() => {\r\n    // first condition prevents dispatch from running on component initialization\r\n    // since index is already defined and therefore running dispatch would be redundant\r\n    if (dateData.index !== props.timeSlot && props.type === \"day\" && dateData.day.isSame(today, \"d\")) dateDispatch({ type: \"time-change\", payload: props.timeSlot });\r\n  }, [props.timeSlot]);\r\n\r\n  // try updating day value instantly when day changes - \r\n  // this works BUT can be delayed if computer goes to sleep (apparently):\r\n  //\r\n  // setTimeout(\r\n  //   dayChange,\r\n  //   moment(\"24:00:00\", \"hh:mm:ss\").diff(moment(), 'seconds')\r\n  // );\r\n  // function dayChange() {\r\n  //   /* do something */\r\n  // }\r\n\r\n  // Temp table values\r\n  let drivers = [];\r\n  let distance = [];\r\n  // max min\r\n  let amtDeliveries = [];\r\n  let timeDelivery = [];\r\n  let timeDestination = [];\r\n  let totalTimeDeliveries =[];\r\n  for (let i = 0; i < columns.length; i++) drivers.push('N/A');\r\n  for (let i = 0; i < columns.length; i++) distance.push('N/A');\r\n  // max min\r\n  for (let i = 0; i < columns.length; i++) amtDeliveries.push('N/A');\r\n  for (let i = 0; i < columns.length; i++) timeDelivery.push('N/A');\r\n  for (let i = 0; i < columns.length; i++) timeDestination.push('N/A');\r\n  for (let i = 0; i < columns.length; i++) totalTimeDeliveries.push('N/A');\r\n\r\n  const handleTodayClick = (type) => {\r\n    const data = { type, today, toweek, slot: type === \"day\" ? props.timeSlot : weekday };\r\n    dateDispatch({ type: \"today\", payload: data });\r\n  };\r\n  \r\n  const handleCalendarShift = (type, direction=1) => {\r\n    const data = { today, slot: type === \"day\" ? props.timeSlot : weekday, direction };\r\n    dateDispatch({ type: `${type}-shift`, payload: data });\r\n  };\r\n\r\n  return (\r\n    <div className={\"modal\" + (props.visible ? \" is-active\" : \"\")}>\r\n      <div className=\"modal-background\" onClick={props.onClick} />\r\n      <div className=\"modal-card\" style={{ width: \"80vw\" }}>\r\n        <header className=\"modal-card-head\">\r\n          <div className=\"buttons has-addons\" style={{minWidth: \"220px\"}}>\r\n            <button className=\"button mr-4\" onClick={() => handleTodayClick(props.type)}>Today</button>\r\n            <button className=\"button\" onClick={() => handleCalendarShift(props.type, -1)}>\r\n              <FontAwesomeIcon icon={Icons.faChevronLeft} />\r\n            </button>\r\n            <button className=\"button\" onClick={() => handleCalendarShift(props.type)}>\r\n              <FontAwesomeIcon icon={Icons.faChevronRight} />\r\n            </button>\r\n            <button className=\"button is-small is-static ml-4\" style={{width: \"150px\"}}>\r\n              {props.type === \"day\" ? `${weekdays[weekday]}: ${dateData.day.format(\"MM-DD-YYYY\")}` : `Week ${dateData.week} - ${dateData.day.clone().weekday(6).format(\"YYYY\")}`}\r\n            </button>\r\n            {/* <button onClick={() => setIndex(index + 1)}></button> */}\r\n          </div>\r\n        </header>\r\n        <section className=\"modal-card-body\" style={{padding: \"0\"}}>\r\n          <table className=\"table is-fullwidth is-bordered is-view\" style={{minWidth: \"880px\"}}>\r\n            <thead>\r\n              <tr>\r\n                <th>{props.type === \"day\" ? \"Time Window\" : \"Day\"}</th>\r\n                {columns.map((value, index) => (\r\n                  <th className={\"has-text-centered\" + (dateData.index === index ? \" is-today\" : \"\")} key={index}>\r\n                    <p style={{borderBottom: \"1px solid lightgrey\"}}>\r\n                      {value + (props.type === \"week\" ? ` [${dateData.day.clone().add(index - weekday, \"d\").format(\"MM/DD\")}]` : \"\")}                                     \r\n                    </p>\r\n                    <ValueRange min=\"Min\" max=\"Max\" isHeader />\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <th title=\"Current number of drivers\"># Drivers</th>\r\n                <RowItems items={drivers} index={dateData.index} />\r\n              </tr>\r\n              <tr>\r\n                <th title=\"Total distance driven\">Dist. Driven</th>\r\n                <RowItems items={distance} index={dateData.index} />\r\n              </tr>\r\n              <tr>\r\n                <th title=\"Number of deliveries made\"># Deliveries</th>\r\n                <RowItems items={amtDeliveries} index={dateData.index} hasRange />\r\n              </tr>\r\n              <tr>\r\n                <th title=\"Time spent to deliver each product\">Time/Delivery</th>\r\n                <RowItems items={timeDelivery} index={dateData.index} hasRange />\r\n              </tr>\r\n              <tr>\r\n                <th title=\"Time spent at each product destination\">Time/Location</th>\r\n                <RowItems items={timeDestination} index={dateData.index} hasRange />\r\n              </tr>\r\n              <tr>\r\n                <th title=\"Total time spent\">Total Time</th>\r\n                <RowItems items={totalTimeDeliveries} index={dateData.index} hasRange isLast />\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </section>\r\n        <footer className=\"modal-card-foot\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RowItems(props) {\r\n  // console.log(\"rendering items..\");\r\n  return (\r\n    <React.Fragment>\r\n      {props.items.map((value, index) => (\r\n        <td key={index} className={props.index === index ? \" is-today\" + (props.isLast ? \"-end\" : \"\") : \"\"}>\r\n          {props.hasRange ? (\r\n            <ValueRange min={value} max={value} />\r\n          ) : (\r\n            <div className=\"has-text-centered\">{value}</div>\r\n          )}\r\n        </td>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction ValueRange(props) {\r\n  // console.log(\"rendering ranges..\");\r\n  return (\r\n    <div className={\"level has-text-light-weight\" + (props.isHeader ? \" has-text-weight-light\" : \"\")}>\r\n      <div\r\n        className=\"level-left is-split\">\r\n        <div className=\"level-item\">{props.min}</div>\r\n      </div>\r\n      <div className=\"level-right is-split\">\r\n        <div className=\"level-item\">{props.max}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DeliveryView;\r\n","import React, { useState, useReducer, useEffect } from \"react\";\r\n\r\nimport \"./style.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Icons from \"utils/Icons/Icons\";\r\nimport LeafletMap from \"./LeafletMap\";\r\nimport DeliveryList from \"./Lists/DeliveryList\";\r\nimport DriverList from \"./Lists/DriverList\";\r\nimport BusinessList from \"./Lists/BusinessList\";\r\nimport CustomerList from \"./Lists/CustomerList\";\r\nimport VehicleList from \"./Lists/VehicleList\";\r\nimport PurchaseList from \"./Lists/PurchaseList\";\r\nimport PaymentList from \"./Lists/PaymentList\";\r\nimport CouponList from \"./Lists/CouponList\";\r\nimport ConstraintList from \"./Lists/ConstraintList\";\r\nimport DeliveryView from \"./DeliveryView\";\r\nimport AppIcon from \"utils/Icons/app_icon.png\";\r\n// created another file for functions that load data from server, since this file was getting too large for my liking,\r\n// should I stick to this or revert this change?\r\nimport { \r\n  createRoutes, createDrivers, createBusinesses, createCustomers, \r\n  createVehicles, createPurchases, createPayments, createCoupons, \r\n  createRefunds, createConstraints, setBusinessesCustomers,\r\n} from \"utils/Functions/DataFunctions\";\r\n\r\nconst initState = {\r\n  isLoading: true,\r\n  filter: undefined, // { type: \"routes\", option: \"business_id\", value: \"200-00001\" }\r\n  routes: {},\r\n  routes_dates: [],\r\n  routes_times: [],\r\n  drivers: {},\r\n  businesses: {},\r\n  customers: {},\r\n  vehicles: {},\r\n  purchases: {},\r\n  payments: {},\r\n  coupons: {},\r\n  refunds: {},\r\n  constraints: {},\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch(action.type) {\r\n    case 'load':\r\n      let routes_dates = [];\r\n      let routes_times = ['1', '2', '3', '4', '5']; // NOTE: TEMP\r\n\r\n      // storing additional data to routes data\r\n      for (let route of Object.values(action.payload.data.routes)) {\r\n        route[\"Business Name\"] = action.payload.data.businesses[route.business_id] ? action.payload.data.businesses[route.business_id].name : null;\r\n        route[\"Driver Name\"] = action.payload.data.drivers[route.driver_id] ? action.payload.data.drivers[route.driver_id].first_name + ' ' + action.payload.data.drivers[route.driver_id].last_name : null;\r\n        \r\n        for (let location of route.route_data) {\r\n          location.customer_first_name = action.payload.data.customers[location.customer_id] ? action.payload.data.customers[location.customer_id].first_name : \" \";\r\n          location.customer_last_name  = action.payload.data.customers[location.customer_id] ? action.payload.data.customers[location.customer_id].last_name  : \" \";\r\n        }\r\n\r\n        if (!routes_dates.includes(route.date)) routes_dates.push(route.date);\r\n        // SAME THING BUT FOR TIMES\r\n      }\r\n\r\n      // more loops needed for future situations where object x requires object y's data\r\n      return {\r\n        ...state, \r\n        ...action.payload.data,\r\n        routes_dates,\r\n        routes_times,\r\n      };\r\n    case 'filter':\r\n      return {\r\n        ...state,\r\n        filter: action.payload.filter,\r\n      };\r\n    case 'update-list':\r\n      return {\r\n        ...state,\r\n        [action.payload.dataType]: action.payload.value,\r\n      };\r\n    case 'toggle-visibility':\r\n      return { \r\n        ...state,\r\n        [action.payload.type]: {\r\n          ...state[action.payload.type],\r\n          [action.payload.id]: {\r\n            ...state[action.payload.type][action.payload.id],\r\n            visible: !state[action.payload.type][action.payload.id].visible,\r\n          }\r\n        }\r\n      };\r\n    case 'update-route-drivers':\r\n      let newRoutes = { ...state.routes };\r\n      const routeDrivers = Object.entries(action.payload.route_drivers);\r\n      routeDrivers.forEach(entry => {\r\n        newRoutes[entry[0]] = { ...state.routes[entry[0]], driver_id: entry[1].id, \"Driver Name\": entry[1].name }\r\n      });\r\n      console.log(newRoutes);\r\n      return {\r\n        ...state,\r\n        routes: newRoutes,\r\n        // routes: {\r\n        //   ...state.routes,\r\n        //   ...routeDrivers.map(entry => {\r\n        //     return {\r\n        //       [entry[0]]: {\r\n        //         ...state.routes[entry[0]],\r\n        //         driver_id: entry[1],\r\n        //       }\r\n        //     };\r\n        //   })\r\n        // },\r\n      }; \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// object of empty items for testing display\r\nconst testObj = { 0: {}, 1: {}, 2: {} };\r\n\r\nfunction DashboardPage() {\r\n  console.log(\"rendering page..\");\r\n\r\n  // possibly use this with useContext, figure out how to reduce rerenders upon data change\r\n  const [data, dispatch] = useReducer(reducer, initState);\r\n  console.log(data);\r\n  // const [times, setTimes] = useState([\r\n  //   { value: \"00 am - 00 pm\" },\r\n  //   { value: \"01 am - 01 pm\" },\r\n  //   { value: \"02 am - 02 pm\" },\r\n  //   { value: \"03 am - 03 pm\" },\r\n  //   { value: \"04 am - 04 pm\" },\r\n  // ]); // useState(GET_ROUTE_TIMES)\r\n  // const [dates, setDates] = useState([]);\r\n  \r\n  // useEffect(() => {\r\n  //   if (Object.values(data.routes).length) setDates(() => {\r\n  //     let datesArray = [];\r\n  //     for (let route of Object.values(data.routes)) {\r\n  //       if (!datesArray.includes(route.date)) datesArray.push(route.date);\r\n  //     }\r\n  //     return datesArray;\r\n  //   });\r\n  // }, [data.routes])\r\n\r\n  const [timeSlot, setTimeSlot] = useState(Number(window.localStorage.getItem(\"timeSlot\")) || 0); \r\n  const [dateSlot, setDateSlot] = useState(Number(window.localStorage.getItem(\"dateSlot\")) || 0);\r\n  const [headerTab, setHeaderTab] = useState(Number(window.localStorage.getItem(\"headerTab\")) || 0); \r\n  const [selectedLocation, setSelectedLocation] = useState({});\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"headerTab\", headerTab);\r\n  }, [headerTab]);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"timeSlot\", timeSlot);\r\n  }, [timeSlot]);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"dateSlot\", dateSlot);\r\n  }, [dateSlot]);\r\n\r\n  useEffect(() => {\r\n    Promise.allSettled([\r\n      createRoutes(),\r\n      createDrivers(),\r\n      createBusinesses(),\r\n      createCustomers(),\r\n      createVehicles(),\r\n      createPurchases(),\r\n      createPayments(),\r\n      createCoupons(),\r\n      createRefunds(),\r\n    ])\r\n    .then(async (result) => {\r\n      await setBusinessesCustomers(result[2].value);\r\n      let constraints = await createConstraints(result[2].value);\r\n      // console.log(\"CONSTRAINT\", constraints);\r\n      const data = {\r\n        isLoading: false,\r\n        ...result[0].value && { routes: result[0].value },\r\n        ...result[1].value && { drivers: result[1].value },\r\n        ...result[2].value && { businesses: result[2].value },\r\n        ...result[3].value && { customers: result[3].value },\r\n        ...result[4].value && { vehicles: result[4].value },\r\n        ...result[5].value && { purchases: result[5].value },\r\n        ...result[6].value && { payments: result[6].value },\r\n        ...result[7].value && { coupons: result[7].value },\r\n        ...result[8].value && { refunds: result[8].value },\r\n        constraints,\r\n      };\r\n      dispatch({ type: \"load\", payload: { data } });\r\n    });\r\n  }, []);\r\n\r\n  const handleBurger = (onItemSelect=false) => {\r\n    console.log(\"Burger interaction..\");\r\n\r\n    const element = document.getElementById(\"selections\");\r\n    if (onItemSelect) {\r\n      element.style.display = \"none\";\r\n    } else {\r\n      element.style.display =\r\n        element.style.display === \"block\" ? \"none\" : \"block\";\r\n    }\r\n  };\r\n\r\n  const [onView, setOnView] = useState(\"none\");\r\n  const handleView = (type) => {\r\n    console.log(\"Open day view..\");\r\n\r\n    handleBurger(true);\r\n    setOnView(onView === type ? \"none\" : type);\r\n    // open day view modal\r\n  };\r\n\r\n  const handleHeaderTab = () => {\r\n    // might as well also handle time/date slots here!\r\n    if (timeSlot && (\r\n        Math.floor(timeSlot) !== timeSlot || \r\n        timeSlot < 0 || \r\n        timeSlot > data.routes_times.length - 1)) {\r\n      setTimeSlot(0);\r\n    }\r\n    if (dateSlot && (\r\n      Math.floor(dateSlot) !== dateSlot || \r\n      dateSlot < 0 || \r\n      dateSlot > data.routes_dates.length - 1)) {\r\n    setDateSlot(0);\r\n  }\r\n\r\n    switch (headerTab) {\r\n      case 0:\r\n        return (\r\n          <DeliveryList\r\n            routes={data.routes}\r\n            drivers={data.drivers}\r\n            filter={data.filter}\r\n            selectedLocation={selectedLocation}\r\n            setSelectedLocation={setSelectedLocation}\r\n            dispatch={dispatch}\r\n          />\r\n        );\r\n      case 1:\r\n        return (\r\n          <DriverList\r\n            drivers={data.drivers}\r\n            routes={data.routes} // for creating route preferences, probably\r\n            filter={data.filter}\r\n            dispatch={dispatch}\r\n          />\r\n        );\r\n      case 2:\r\n        return (\r\n          <BusinessList \r\n            businesses={data.businesses}\r\n            filter={data.filter}\r\n            dispatch={dispatch}\r\n          />\r\n        );\r\n      case 3:\r\n        return (\r\n          <CustomerList \r\n            customers={data.customers}\r\n            filter={data.filter}\r\n            dispatch={dispatch}\r\n          />\r\n        );\r\n      case 4:\r\n        return (\r\n          <VehicleList \r\n            vehicles={data.vehicles}\r\n          />\r\n        );\r\n      case 5:\r\n        return (\r\n          <PurchaseList \r\n            purchases={data.purchases}\r\n          />\r\n        );\r\n      case 6:\r\n        return (\r\n          <PaymentList\r\n            payments={data.payments}\r\n          />\r\n        );\r\n      case 7:\r\n        return (\r\n          <CouponList\r\n            coupons={data.coupons}\r\n            refunds={data.refunds}\r\n          />\r\n        )\r\n      case 8:\r\n        return (\r\n          <ConstraintList\r\n            constraints={data.constraints}\r\n          />\r\n        );\r\n      default:\r\n        setHeaderTab(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header \r\n        tab={headerTab}\r\n        changeTab={setHeaderTab}\r\n        handleBurger={handleBurger} \r\n        handleDayView={() => handleView(\"day\")}\r\n        handleWeekView={() => handleView(\"week\")}\r\n        dispatch={dispatch}\r\n      />\r\n      {/* Views */}\r\n      <DeliveryView\r\n        type=\"day\"\r\n        times={data.routes_times}\r\n        timeSlot={timeSlot}\r\n        visible={onView === \"day\"}\r\n        onClick={() => handleView(\"day\")}\r\n      />\r\n      <DeliveryView\r\n        type=\"week\"\r\n        // times={times}\r\n        visible={onView === \"week\"}\r\n        onClick={() => handleView(\"week\")}\r\n      />\r\n      {data.isLoading ? (\r\n        <div className=\"loading-screen\" />\r\n      ) : (\r\n        <div className=\"map-page\">\r\n          <div className=\"columns\" style={{ margin: \"auto\" }}>\r\n            {headerTab < 4 && (\r\n              <div className=\"column is-half\" style={{ padding: \"0\" }}>\r\n                <RouteTimes\r\n                  times={data.routes_times}\r\n                  dates={data.routes_dates}\r\n                  timeSlot={timeSlot}\r\n                  setTimeSlot={setTimeSlot}\r\n                  dateSlot={dateSlot}\r\n                  setDateSlot={setDateSlot}\r\n                />\r\n                <div className=\"sticky\">\r\n                  <LeafletMap\r\n                    header={headerTab}\r\n                    routes={data.routes}\r\n                    drivers={data.drivers}\r\n                    businesses={data.businesses}\r\n                    customers={data.customers}\r\n                    filter={data.filter}\r\n                    selectedLocation={selectedLocation}\r\n                    setSelectedLocation={setSelectedLocation}\r\n                    dispatch={dispatch}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div\r\n              className={\"column\" + (headerTab < 4 ? \" is-half\" : \" is-full\")}\r\n              style={{ padding: \"0 0.75rem\"/*, marginTop: (headerTab < 4 ? \"\" : \"1vh\")*/ }}\r\n            >\r\n              <FilterDropdown data={data} header={headerTab} dispatch={dispatch} />\r\n              <div className={\"box\" + (headerTab < 4 ? \" map\" : \" no-map\")}>\r\n                {handleHeaderTab()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction Header(props) {\r\n  console.log(\"rendering header..\");\r\n  const tabs = [\"Delivery\", \"Drivers\", \"Businesses\", \"Customers\", \"Vehicles\", \"Purchases\", \"Payments\", \"Coupons\", \"Constraints\"];\r\n\r\n  const handleTabChange = (index) => {\r\n    if (props.tab !== index) {\r\n      props.dispatch({ type: \"filter\", payload: { filter: undefined } });\r\n      props.changeTab(index);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"header-parent\">\r\n      <div className=\"header-main\">\r\n        <img\r\n          className=\"has-text-left\"\r\n          src={AppIcon}\r\n          alt=\"Just Delivered\"\r\n          style={{ alignSelf: \"center\", maxHeight: \"5vh\" }}\r\n        />\r\n        <h1\r\n          className=\"has-text-centered\"\r\n          style={{ width: \"100%\", fontSize: \"3vh\" }}\r\n        >\r\n          ADMIN DASHBOARD\r\n        </h1>\r\n        {tabs.map((value, index) => (\r\n          <button \r\n            key={index} \r\n            className=\"button is-lightgrey is-sharp is-tilted-right header-button\"\r\n            onClick={() => handleTabChange(index)}\r\n            style={{ backgroundColor: props.tab === index && \"yellow\" }}\r\n          >\r\n            {value}\r\n          </button>\r\n        ))}\r\n        <button\r\n          className=\"button is-white is-fullheight ml-2\"\r\n          onClick={() => props.handleBurger()}\r\n        >\r\n          <FontAwesomeIcon icon={Icons.faBars} />\r\n        </button>\r\n      </div>\r\n      <ul id=\"selections\" className=\"header-burger\">\r\n        <li>\r\n          <button\r\n            className=\"button is-white is-fullwidth\"\r\n            onClick={props.handleDayView}\r\n          >\r\n            Day View\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button\r\n            className=\"button is-white is-fullwidth\"\r\n            onClick={props.handleWeekView}\r\n          >\r\n            Week View\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RouteTimes(props) {\r\n  console.log(\"rendering times..\");\r\n\r\n  const [open, setOpen] = useState({ date: false, time: false });\r\n\r\n  const handleTimeChange = (index) => {\r\n    // console.log(index);\r\n    if (props.timeSlot !== index) props.setTimeSlot(index);\r\n    setOpen(prevOpen => ({ ...prevOpen, time: false }));\r\n  };\r\n\r\n  const handleDateChange = (index) => {\r\n    // console.log(index);\r\n    if (props.dateSlot !== index) props.setDateSlot(index);\r\n    setOpen(prevOpen => ({ ...prevOpen, date: false }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"columns routes\" style={{ margin: 0 }}>\r\n      <div className=\"column\">\r\n        {/* <span style={{ verticalAlign: \"middle\" }}>Selected Date:</span> */}\r\n        <div className={\"dropdown ml-2\" + (open.date ? \" is-active\" : \"\")}>\r\n          <div className=\"dropdown-trigger\">\r\n            <button className=\"button is-small is-fullwidth\" onClick={() => setOpen(prevOpen => ({ ...prevOpen, date: !prevOpen.date }))} aria-haspopup=\"true\" aria-controls=\"dropdown-menu\">\r\n              Date: {props.dates.length ? props.dates[0] : 'NONE'}\r\n              <FontAwesomeIcon icon={Icons.faCaretDown} className= \"ml-2\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"dropdown-menu\" style={{ paddingTop: 0 }} id=\"dropdown-menu\" role=\"menu\">\r\n            <div className=\"dropdown-content\">\r\n              {props.dates.map((date, index) => (\r\n                <button key={index} className=\"button is-small is-white dropdown-item\" onClick={() => handleDateChange(index)}>{date}</button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"column\">\r\n        {/* <span style={{ verticalAlign: \"middle\" }}>Selected Time:</span> */}\r\n        <div className={\"dropdown ml-2\" + (open.time ? \" is-active\" : \"\")}>\r\n          <div className=\"dropdown-trigger\">\r\n            <button className=\"button is-small\" onClick={() => setOpen(prevOpen => ({ ...prevOpen, time: !prevOpen.time }))} aria-haspopup=\"true\" aria-controls=\"dropdown-menu\">\r\n              Time: {props.times.length ? props.times[props.timeSlot]: 'NONE'}\r\n              <FontAwesomeIcon icon={Icons.faCaretDown} className= \"ml-2\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"dropdown-menu\" style={{ paddingTop: 0 }} id=\"dropdown-menu\" role=\"menu\">\r\n            <div className=\"dropdown-content\">\r\n              {props.times.map((time, index) => (\r\n                <button key={index} className=\"button is-small is-white dropdown-item\" onClick={() => handleTimeChange(index)}>{time}</button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FilterDropdown({ data, header, ...props }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [dataType, setDataType] = useState();\r\n  const [filterItems, setFilterItems] = useState([]);\r\n  console.log(filterItems, dataType);\r\n\r\n  useEffect(() => {\r\n    let type;\r\n    switch(header) {\r\n      case 0: \r\n        setFilterItems(['Business Name'/*, 'Driver Name'*/]); // add other filter values for each header\r\n        type = data.routes; break;\r\n      case 1: \r\n        type = data.drivers; break;\r\n      case 2: \r\n        type = data.businesses; break;\r\n      case 3: \r\n        type = data.customers; break;\r\n      case 4: \r\n        type = data.vehicles; break;\r\n      case 5: \r\n        type = data.purchases; break;\r\n      case 6: \r\n        type = data.payments; break;\r\n      case 7: \r\n        type = data.coupons; break;\r\n      case 8: \r\n        type = data.constraints; break;\r\n      default: break;\r\n    }\r\n    // console.log(type);\r\n    // if (data.filter) props.dispatch({ type: \"filter\", payload: { filter: undefined } });\r\n    if (document.getElementById(\"filter-value\").value) document.getElementById(\"filter-value\").value = \"\";\r\n    setDataType(type);\r\n    // handleHeaderChange();\r\n  }, [header]);\r\n\r\n  // const handleHeaderChange = () => {\r\n  //   let filterItems;\r\n  //   switch (header) {\r\n  //     case 0: \r\n  //       filterItems = [\r\n  //         'Business Name'\r\n  //       ]; break;\r\n  //     // other cases\r\n  //     default: filterItems = []; break;\r\n  //   }\r\n  //   setFilterItems(filterItems);\r\n  // }\r\n\r\n  const handleFilter = (option) => {\r\n    // console.log(option);\r\n    if (option) {\r\n      console.log(Object.keys(data)[header + 2]); // get name of data type, +2 is for ignoring isLoading and filter keys\r\n      const type = Object.keys(data)[header + 2];\r\n      const filter = {\r\n        type,\r\n        option,\r\n        value: undefined,\r\n      };\r\n      console.log(filter);\r\n      props.dispatch({ type: \"filter\", payload: { filter } });\r\n    }\r\n    else { props.dispatch({ type: \"filter\", payload: { filter: undefined } }); }\r\n    if (document.getElementById(\"filter-value\").value) document.getElementById(\"filter-value\").value = \"\";\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(document.getElementById(\"filter-value\").value);\r\n    if (document.getElementById(\"filter-value\").value) {\r\n      const filter = {\r\n        ...data.filter,\r\n        value: document.getElementById(\"filter-value\").value,\r\n      }\r\n      props.dispatch({ type: \"filter\", payload: { filter } });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"level is-mobile\" style={{ height: \"5vh\", margin: 0, justifyContent: \"end\" }}>\r\n      <div className=\"level-item\" style={{ flexGrow: 0 }}>\r\n        <div className={\"dropdown\" + (open ? \" is-active\" : \"\")}>\r\n          <div className=\"dropdown-trigger\">\r\n            <button className=\"button is-small\" onClick={() => setOpen(prevOpen => !prevOpen)} aria-haspopup=\"true\" aria-controls=\"dropdown-menu\">\r\n              <span>Filter: {data.filter ? data.filter.option : \"NONE\"}</span>\r\n              <FontAwesomeIcon icon={Icons.faCaretDown} className= \"ml-2\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"dropdown-menu\" style={{ paddingTop: 0 }} id=\"dropdown-menu\" role=\"menu\">\r\n            <div className=\"dropdown-content\">\r\n              <button className=\"button is-small is-white dropdown-item\" disabled={!data.filter} onClick={() => handleFilter()}>NONE</button>\r\n              <hr className=\"dropdown-divider\" />\r\n              {dataType && Object.keys(Object.values(dataType)[0] || {/* if list empty */}).map((option, index) => (\r\n                <React.Fragment key={index}>\r\n                  {filterItems.includes(option) && (\r\n                    <button className=\"button is-small is-white dropdown-item\" disabled={data.filter && data.filter.option === option} onClick={() => handleFilter(option)}>{option}</button>\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n              {/* {filterItems && filterItems.map((item, index) => (\r\n                <button key={index} className=\"button is-small is-white dropdown-item\" onClick={() => handleFilter(item)}>{item}</button>\r\n              ))} */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"level-item\" style={{ flexGrow: 0 }}>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"level is-mobile\">\r\n            <div className=\"level-item px-2\">\r\n              <input className=\"input is-small\" id=\"filter-value\" type=\"text\" disabled={!data.filter} />\r\n            </div>\r\n            <div className=\"level-item\">\r\n              <button className=\"button is-small\" type=\"submit\" disabled={!data.filter}>\r\n                <FontAwesomeIcon icon={Icons.faCheck} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DashboardPage;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport DashboardPage from \"pages/Admin/DashboardPage\";\r\n\r\nfunction App() {\r\n  console.log(\"rendering app..\");\r\n  \r\n  return (\r\n    <Router basename={\"Delivery-App\"}>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={DashboardPage} />\r\n        {/* <Route component={ErrorPage} /> \r\n          <Redirect to=\"/404\" /> */}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"bulma/css/bulma.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}