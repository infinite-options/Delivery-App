(this["webpackJsonpdelivery-app"]=this["webpackJsonpdelivery-app"]||[]).push([[0],{32:function(e,t){e.exports="data:image/png;base64,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"},48:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDUlEQVRYhb2XTWsTURSGn4Y0GcamhlLiR6FkJ1KKSFdVtC7StVDIDyjZuXDhQvwXbqVQBd1IA90IbhJBqBJKSUV3XQix1U0IKTZlvJmMExe5N95Mk8mknfbA5X5N5n3uOWcmc8ba7TYAy8vLUSACxGQfJVxzABewAbdQKDgAY+12W4nHAEO2mASIhCTuSgAbELLZhULBGctkMkrcBCZlb3A+HhCABRzJ3lanNKR4qmhmSyEL91jGyi/KoQs4uuvNopktzaTTGKZJ3DBCFW4KgbAsipVsKWPl55Fh0BPPAM5FHPDeU+VZJEon1qoNFN/f3++Zz87OngWiq6my3DfbhRAkk0ka6ys01ldIJpMIIUYG8FhEkfiaEIJqtcq9G9M8e/sNgPkrUbb2qqRSKYwzhssXQAiBbds8mLvKuyd3evYePi+x+/MPwJkgfAHUyeeuT/Diw/fuerP1l5vXLtFqtdjaq54qHwIBALx/et93P5HbPLU4BHzV2o7bFdLHYVhY7/rzBYhFIzTWV06Mw7CR/3D6ud/7ktJtWIIGBkjkNrsnD+qBILly6hzIre2QW9vpO370qhz4PoEBvKfe2D5gY/ug7/jNpx+BAU790aEDDRoHscAe8MbzwkPgtQsPgde1Fx6C87ITHmg0GgA0m81QBGq1GgDxeNwXwFULiUSC7MI0APV6ncevd3t+sLqUPrE2yFaX0kxNTXXn+XJN33YVgKM1Dg8PefmxEZoHoAp0POA4jlrsakb5Xy4JgEi7TWx8nEQiERJAx5pC4LZaaiqkphvVxK2MlV8sVvoXJjPpNJc1d/rZ73qdX5VK3z1ZmFhodYErJ0fygnl6S7MIQLGS/QwMhVDiGSt/Vy6p/PKWZgJwgxSn3W/4opkt+3lCE1+gN7cGF6dDynPV6+Xbl34Qmvht3cUegP7luZ9JMAOYkM0smtmvOoQmfkuKH8smlNAgGwowAGJCeQLQT37MCOKBAfpATEqIMqBifkwnuQKLjwTggTBli8ktm47rrVHERwbQIFRSqkdVPWL2KOIA/wBrqaBPsq9TWgAAAABJRU5ErkJggg=="},49:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAlCAYAAAAjt+tHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADV0lEQVRYhb2XTWgTURDHf4m1XRc1tdQVKa0RihdRkSC1VIvIVnoUIehNRFAo9NyLl4oIPYogKnjqRQnUnqSQUKFQ61dQQS9VMFTFRmJNY1k3a9x46Htxk+6mWU0cGN5mNm9//zdv9mMCxWIRgIGBgSYgCDSLsYn6WgGwAQuw4/F4ASBQLBYlvBlQhDcLAcE6wW0hwAJM4VY8Hi8EdF2XcBXYKkaFxmTABAwgJ0ZLrlIRcC2hRufqDC4z3Yj1ikMbKDhTrybU6FxHOIyiqrQoSl3BedPENAwSqeicbsT2IbbBWXgK0BA4UHlNWWdBWe3SGwJ3EVFiyiqvV7X7saBU4styuRzZbPaviJqmrYn5FpDNZhk+0c3V0/t9zRscm2F2/sua+F+l3i8cYGqk3zVeNQOLi4tYluUb5sc8BeTzeSzLYvrScQ7tbi3F2y7cr6sAzy1Ip9NEdrcR2RXi9PU5joxOA/DzV7GuAlwzYBgGAFMjR7n35AMPXn6uK9RprhnIZDKcjHQQDAS4PPEGVVUbJsCzBsaHeriReMfHpR8Ng1cVADCkdzOkdzdUwH97BA+OzbjG130SXpua51LsdVms/eIk+YLtW4SmaaxkMrULOHblIcrGDXy/c4rP335w7vYztm9pYXyopypoy/kJ+va0MzXST3rZ5OzNpzx6+xXF5U1bdQuS77+VHqE7t23i1vkIk8lPVeEAJyMdpXk7Qgp3hw8jP34rzTMDe0efr4mF1I3A6gr9WKva7HnOVUBXV1fpeHBsprSaM9cfEwgE6OzsrApcWFgom+dVgJ4CpGmaxuz8l7IVu73T/2WeFOBa0oqilGWjVqtxng2rRVhwOHnT9A2s1RzXLjGD/GmXTADTMBoiQn6WCzMF025ywA3diPUmUu6NSUc4TKitrSbY8tISn1Ip13OiMTFw9AW2+JETf9hHeWsWBEikorPAuiIkXDdifSIk66uyNTMBu5bmtPQNn1CjyWqZcMAjlNeWd3O6TnsuR2f79sJNhAN+0JniCgHu7Xk1E8IUYLNwNaFGXzlFOOAHBHxFuClBXrauAA8Rm2UmAOfKV/ABr1mAi4itQkQSkHu+wmpx1Qz3JaBChCpcvmUsVlNv+IH7FuAQIYtS3qryFrP8wAF+AzQdg7iYatxtAAAAAElFTkSuQmCC"},55:function(e,t,a){e.exports=a(89)},60:function(e,t,a){},61:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(30),c=a.n(r),i=(a(60),a(51)),s=a(8),o=a(6),u=a(3),m=a(31),d=a(4),E=(a(61),a(2)),h=a(12),b=a(10),v=a.n(b),f=a(32),p=a.n(f),y=a(48),g=a.n(y),_=a(49),N=a.n(_),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.width,n=void 0===a?32:a,l=t.height,r=void 0===l?41:l,c=n,i=r;return new b.Icon({iconUrl:e,shadowUrl:"https://chart.apis.google.com/chart?chst=d_map_pin_shadow&chf=a,s,52B55233",iconSize:[c,i],iconAnchor:[c/2,i],popupAnchor:[1,-1.4*i],shadowSize:[i,i]})},O={DefaultIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.width,n=void 0===a?25:a,l=t.height,r=void 0===l?41:l,c=t.mult,i=void 0===c?1:c,s=n*i,o=r*i;return new b.Icon({iconUrl:"https://chart.apis.google.com/chart?chst=d_map_pin_icon&chld=home|".concat(e.substring(1),"&chf=a,s,ee00FFFF"),shadowUrl:"https://chart.apis.google.com/chart?chst=d_map_pin_shadow&chf=a,s,52B55233",iconSize:[s,o],iconAnchor:[s/2,o],popupAnchor:[1,-1.4*o],shadowSize:[o,o]})},App:A(p.a),Truck:A(N.a),Headquarters:A(g.a),faComment:h.g,faEnvelope:h.h,faCaretDown:h.b,faCaretUp:h.c,faBars:h.a,faChevronLeft:h.e,faChevronRight:h.f,faEye:h.i,faEyeSlash:h.j,faPhone:h.k,faCheck:h.d,faTimes:h.o,faSort:h.l,faSortUp:h.n,faSortDown:h.m},w=a(24),x=a(21),S=a(105),k=a(107),j=a(103),C=a(106),B=[37.338208,-121.886329];function I(e){var t,a=function(){try{return JSON.parse(window.localStorage.getItem("mapLatlng"))}catch(e){return null}}();try{var n=(t=a,!!Array.isArray(t)&&2===t.length&&!(isNaN(t[0])||t[0]<=-90||t[0]>=90||isNaN(t[1])||t[1]<=-180||t[1]>=180));return[n?a[0]:e[0][1].route_data[0].to[0],n?a[1]:e[0][1].route_data[0].to[1]]}catch(l){return B}}var D=function(e){var t=e.route,a=e.id,r=Object(o.a)(e,["route","id"]),c=Object(n.useState)([]),i=Object(u.a)(c,2),s=i[0],m=i[1],E=Object(n.useState)(t.route_data[0].from),h=Object(u.a)(E,2),b=h[0],v=(h[1],Object(n.useState)(1)),f=Object(u.a)(v,2),p=f[0];f[1];Object(n.useEffect)((function(){y()}),[]);var y=function(){var e,a=[],n=Object(x.a)(t.route_data);try{for(n.s();!(e=n.n()).done;){var l=e.value;a.push([l.from,l.to,l.address])}}catch(r){n.e(r)}finally{n.f()}!function(e,t){for(var a=0;a<t;a++){var n=function(){return 1*(360*Math.random()-180).toFixed(3)};e.push([[n(),n()],[n(),n()]])}}(a,0),g(a),m(a)},g=function(e){if(e.length){var t=e[p-1][1];e[p-1][1]=b;var a=[b,t];e.splice(p,0,a)}};return l.a.createElement(l.a.Fragment,null,s.map((function(e,n){return l.a.createElement(j.a,{key:n,route:a,position:e[1],icon:p===n+1?O.Truck:O.DefaultIcon(p>n?"#696969":t.route_color,r.selectedLocation.driver-1===r.index&&r.selectedLocation.location===(p>n?n+1:n)?{mult:1.25}:{}),onClick:function(e){return p!==n+1?(a=r.index+1,l=p>n?n+1:n,void r.setSelectedLocation((function(e){var t=Object(d.a)({},e);return a===t.driver&&l===t.location?(t.driver=void 0,t.location=void 0,t):(a!==t.driver&&(t.driver=a),l!==t.location&&(t.location=l),t)}))):function(e,t){console.log("Hi this is Driver ".concat(t,"!"))}(0,t.driver_id);var a,l},onDblClick:function(){return!1}})})),r.header<2&&t.visible&&s.map((function(e,a){return l.a.createElement(C.a,{key:a,positions:[e[0],e[1]],color:p>a?"dimgrey":t.route_color})})),l.a.createElement("button",{onClick:function(){m((function(e){var a=Object(w.a)(e),n=function(e,t){var a=e[0],n=e[1],l=1*(Math.random()*(2*t)+(a-t)).toFixed(3),r=1*(Math.random()*(2*t)+(n-t)).toFixed(3);return[l,r]}(t.route_data[0].to,.1);return a[p-1][1]=n,a[p][0]=n,a}))}},"HI"))},R=function(e){var t=e.header,a=e.routes,r=(e.drivers,e.businesses),c=(e.customers,Object(o.a)(e,["header","routes","drivers","businesses","customers"]));console.log("rendering map..");var i=Object(n.useState)(a),s=Object(u.a)(i,2),m=s[0],E=s[1];console.log("ROUTES",m),Object(n.useEffect)((function(){c.filter&&"routes"===c.filter.type?E((function(){for(var e=Object.entries(a).filter((function(e){return e[1][c.filter.option]!==c.filter.value})),t=Array.from(e,(function(e){return e[0]})),n=Object(d.a)({},a),l=0,r=t;l<r.length;l++){delete n[r[l]]}return n})):E(a)}),[a,c.filter]);var h=Object(n.useRef)(),b=Object(n.useState)(),f=Object(u.a)(b,2),p=f[0],y=f[1],g=Object(n.useState)([]),_=Object(u.a)(g,2),N=_[0],A=_[1],w=Object(n.useState)([]),x=Object(u.a)(w,2),C=x[0],B=x[1],R=Object(n.useState)([]),Q=Object(u.a)(R,2),T=Q[0];Q[1],Object(n.useEffect)((function(){var e=h.current,t=(void 0===e?{}:e).leafletElement;y(t)}),[]),Object(n.useEffect)((function(){p&&setTimeout((function(){return z()}),0)}),[p]),Object(n.useEffect)((function(){B((function(){var e={};switch(t){case 0:case 1:for(var a in m){var n=m[a].route_data[0].from,l=e[m[a].business_id];l?!l.visible&&m[a].visible&&(e[m[a].business_id].visible=!0):e[m[a].business_id]={latlng:n,visible:m[a].visible}}break;case 2:case 3:for(var c in r){var i=[r[c].latitude,r[c].longitude];e[c]={latlng:i,visible:r[c].visible}}break;default:console.log("Shouldn't be printing")}return e}))}),[m,t]),Object(n.useEffect)((function(){F()}),[C]),Object(n.useEffect)((function(){var e=Object(d.a)({},c.selectedLocation),t=e.driver,a=e.location;if(p&&t&&a){var n=p.getZoom()>=11?p.getZoom():11,l=L[t-1][1].route_data[a-1].to;p.setView(l,n)}}),[c.selectedLocation]);var M=Object.entries(C),L=(Object.entries(T),Object.entries(m)),W=I(L),V=function(){var e=Number(window.localStorage.getItem("mapZoom"));return e&&e>=2&&e<=18?e:11}(),z=function(){var e=p,t=[];e.eachLayer((function(a){a instanceof v.a.Marker&&(t.push(a),P(a)&&e.getBounds().contains(a.getLatLng())||e.removeLayer(a))})),A(t),console.log("loading map..")},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;console.log(N);for(var t=N.length-1;t>=0;t--){var a=N[t],n=P(a),l=e.getBounds(),r=n&&l.contains(a.getLatLng());a._icon&&!r?e.removeLayer(a):!a._icon&&r&&e.addLayer(a)}},P=function(e){switch(t){case 0:case 1:return m[e.options.route]?m[e.options.route].visible:!!C[e.options.business]&&C[e.options.business].visible;case 2:return!!C[e.options.business]&&C[e.options.business].visible;default:return}};return l.a.createElement(S.a,{ref:h,center:W,zoom:V,minZoom:2,maxBounds:[[-83.75,-180],[83.75,180]],maxBoundsViscosity:.9375,onMoveEnd:function(){F(),window.localStorage.setItem("mapLatlng",JSON.stringify([p.getCenter().lat,p.getCenter().lng])),V!=p.getZoom()&&window.localStorage.setItem("mapZoom",p.getZoom()),console.log("updating map..")}},l.a.createElement(k.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',updateWhenZooming:!1}),M.map((function(e,t){return l.a.createElement(j.a,{key:t,index:t,business:e[0],position:e[1].latlng,icon:O.Headquarters,onClick:function(){return console.log("Hi this is Business ".concat(e[0]))}})})),L.map((function(e,a){return l.a.createElement(D,{key:a,index:a,id:e[0],route:e[1],selectedLocation:c.selectedLocation,setSelectedLocation:c.setSelectedLocation,manageMarkers:F,header:t})})))};function Q(e){var t=e.route,a=e.id,r=Object(o.a)(e,["route","id"]),c=Object(n.useState)(!0),i=Object(u.a)(c,2),s=i[0],m=i[1],h=Object.values(t.route_data);Object(n.useEffect)((function(){r.selectedLocation.driver===r.index+1&&s&&m(!1)}),[r.selectedLocation]);return l.a.createElement("div",{className:"box list-item"},l.a.createElement("table",{className:"table is-hoverable is-fullwidth is-size-7",style:{backgroundColor:"#f8f7fa"}},l.a.createElement("thead",null,l.a.createElement("tr",{className:"list-item-head"},l.a.createElement("th",{style:{width:"17.5%"}},l.a.createElement("div",{style:{width:"200%",maxWidth:"225px"}},l.a.createElement("button",{className:"button is-super-small is-rounded mr-3",onClick:function(){r.setSelectedLocation({driver:void 0,location:void 0}),r.dispatch({type:"route-toggle-visibility",payload:{id:a}})}},l.a.createElement(E.a,{icon:t.visible?O.faEyeSlash:O.faEye})),l.a.createElement("div",{className:"route",style:Object(d.a)({backgroundColor:"".concat(t.visible?t.route_color:"lightgrey"),borderBottom:"3px solid ".concat(t.visible?t.route_color:"lightgrey")},t.visible?{}:{marginLeft:"1.32px"})},l.a.createElement("span",null,"Route ",a)))),l.a.createElement("th",{style:{width:"30%"}}),l.a.createElement("th",{style:{width:"10%"}},l.a.createElement("div",{style:{width:"300%",maxWidth:"225px"}},l.a.createElement("span",null,"Driver ".concat(t.driver_id,": ").concat(t.driver_first_name," ").concat(t.driver_last_name[0],".")),l.a.createElement("button",{className:"button is-rounded is-super-small is-pulled-right ml-1",onClick:function(){return console.log("Not sure what this does atm")}},l.a.createElement(E.a,{icon:O.faPhone})),l.a.createElement("button",{className:"button is-rounded is-super-small is-pulled-right",onClick:function(){return e=t.driver_id,void console.log("Sending Driver ".concat(e," a text.."));var e}},l.a.createElement(E.a,{icon:O.faComment})))),l.a.createElement("th",{style:{width:"12.5%"}}),l.a.createElement("th",{style:{width:"12.5%"}}),l.a.createElement("th",{style:{width:"17.5%"}},l.a.createElement("button",{className:"button is-super-small is-pulled-right",onClick:function(){return m((function(e){return!e}))}},l.a.createElement(E.a,{icon:s?O.faCaretDown:O.faCaretUp}))))),l.a.createElement("tbody",{hidden:s},l.a.createElement("tr",null,l.a.createElement("th",{style:{borderBottomWidth:"2px"}}),l.a.createElement("th",{style:{borderBottomWidth:"2px"}},"Destination"),l.a.createElement("th",{style:{borderBottomWidth:"2px"}},"Customer"),l.a.createElement("th",{style:{borderBottomWidth:"2px"}},"ETA"),l.a.createElement("th",{style:{borderBottomWidth:"2px"}},"Arrival"),l.a.createElement("th",{style:{borderBottomWidth:"2px"}},l.a.createElement("span",{className:"ml-2"},"Confirm"))),h.map((function(e,a){return l.a.createElement("tr",{key:a,className:r.selectedLocation.driver===r.index+1&&r.selectedLocation.location===a+1?"is-selected":""},l.a.createElement("td",null,l.a.createElement("button",{className:"button is-rounded is-small mx-1",disabled:!t.visible,onClick:function(){return e=r.index+1,t=a+1,void r.setSelectedLocation((function(a){var n=Object(d.a)({},a);return e===n.driver&&t===n.location?(n.driver=void 0,n.location=void 0,n):(e!==n.driver&&(n.driver=e),t!==n.location&&(n.location=t),n)}));var e,t},style:{padding:"0.69rem"}},a+1),l.a.createElement("button",{className:"button is-rounded is-small mx-1",onClick:function(){return e=a+1,void console.log("Skipping Location ".concat(e,".."));var e}},"Skip")),l.a.createElement("td",null,e.address),l.a.createElement("td",null,"".concat(e.customer_first_name," ").concat(e.customer_last_name[0],".")),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,l.a.createElement("button",{className:"button is-rounded is-small mx-1",onClick:function(){return e=a+1,void console.log("Sending Location ".concat(e," a text.."));var e}},l.a.createElement(E.a,{icon:O.faComment})),l.a.createElement("button",{className:"button is-rounded is-small mx-1",onClick:function(){return e=a+1,void console.log("Sending Location ".concat(e," an email.."));var e}},l.a.createElement(E.a,{icon:O.faEnvelope}))))})))))}var T=function(e){var t=e.routes,a=Object(o.a)(e,["routes"]);console.log("rendering deliveries..");var r=Object(n.useState)(Object.entries(t)),c=Object(u.a)(r,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){var e=Object.entries(t);a.filter?s((function(){return e.filter((function(e){return e[1][a.filter.option]===a.filter.value}))})):s(e)}),[t,a.filter]),l.a.createElement(l.a.Fragment,null,i.map((function(e,t){return l.a.createElement(Q,{key:t,index:t,route:e[1],id:e[0],selectedLocation:a.selectedLocation,setSelectedLocation:a.setSelectedLocation,dispatch:a.dispatch})})))};var M=function(e){var t=e.numColumns,a=e.showMore,n=e.setShowMore;return l.a.createElement("tr",{className:"filler-row"},Object(w.a)(Array(t-1)).map((function(e,t){return l.a.createElement("td",{key:t})})),l.a.createElement("td",{style:{textAlign:"right"}},l.a.createElement("span",{className:"has-text-grey mb-1"},"Show ",a?"Less":"More"),l.a.createElement("button",{className:"button is-super-small is-light mx-1",onClick:function(){return n((function(e){return!e}))}},l.a.createElement(E.a,{icon:a?O.faCaretUp:O.faCaretDown,color:"grey"}))))},L=a(104);function W(e){var t=e.driver,a=e.id,r=(Object(o.a)(e,["driver","id"]),Object(n.useState)(!0)),c=Object(u.a)(r,2),i=c[0],s=c[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),h=d[0],b=d[1],v="".concat(t.street).concat(t.unit?" ".concat(t.unit):""," \n                   ").concat(t.city," ").concat(t.state," ").concat(t.zip);return l.a.createElement("div",{className:"box list-item"},l.a.createElement("table",{className:"table is-hoverable is-fullwidth is-size-7",style:{backgroundColor:"#f8f7fa"}},l.a.createElement("thead",null,l.a.createElement("tr",{className:"list-item-head"},l.a.createElement("th",{style:{width:"40%"}},l.a.createElement("div",{style:{width:"240px"}},l.a.createElement("span",null,"Driver ",a,": ","".concat(t.first_name," ").concat(t.last_name[0],".")),l.a.createElement("button",{className:"button is-rounded is-pulled-right is-super-small ml-1"},l.a.createElement(E.a,{icon:O.faEnvelope})),l.a.createElement("button",{className:"button is-rounded is-pulled-right is-super-small"},l.a.createElement(E.a,{icon:O.faComment})))),l.a.createElement("th",{style:{width:"20%"}}),l.a.createElement("th",{style:{width:"20%"}},l.a.createElement("div",{style:{width:"150%",maxWidth:"225px"}},l.a.createElement(L.a,{value:t.rating,size:"small",precision:.2,readOnly:!0}),l.a.createElement("span",{className:"ml-4"},"Rating"))),l.a.createElement("th",{style:{width:"20%"}},l.a.createElement("button",{className:"button is-super-small is-pulled-right",onClick:function(){return s((function(e){return!e}))}},l.a.createElement(E.a,{icon:i?O.faCaretDown:O.faCaretUp}))))),l.a.createElement("tbody",{className:"is-bordered has-text-centered",hidden:i},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-item"},l.a.createElement("span",{style:{width:"100%",textAlign:"left"}},"First & Middle Name:",l.a.createElement("hr",{style:{margin:0,backgroundColor:"#ededed"}}),"Last Name:")),l.a.createElement("div",{className:"level-item"},l.a.createElement("span",{style:{width:"100%",textAlign:"left"}},t.first_name,l.a.createElement("hr",{style:{margin:0,backgroundColor:"#ededed"}}),t.last_name)))),l.a.createElement("td",null,"# of hours/week",l.a.createElement("br",null),t.weekly_workload),l.a.createElement("td",null,l.a.createElement("div",{style:{width:"215%"}},l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-item"},"Driver's License #",l.a.createElement("br",null),t.drivers_license),l.a.createElement("div",{className:"level-item"},"License Expiration",l.a.createElement("br",null),t.drivers_license_exp),l.a.createElement("div",{className:"level-item"},"Vehicle Types",l.a.createElement("br",null),t.vehicle_types)))),l.a.createElement("td",{style:{borderLeft:"hidden"}})),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-item"},l.a.createElement("span",{style:{width:"100%"}},"Emergency Contact:",l.a.createElement("br",null),t.emergency_contact_phone)),l.a.createElement("div",{className:"level-item"},l.a.createElement("span",{style:{width:"100%",textAlign:"left"}},t.emergency_contact_name,l.a.createElement("br",null),t.emergency_contact_relationship)))),l.a.createElement("td",null,"Preferred Routes",l.a.createElement("br",null),t.preferred_routes),l.a.createElement("td",null,"Days Available",l.a.createElement("br",null),t.days),l.a.createElement("td",null,"Times Available",l.a.createElement("br",null),t.hours)),l.a.createElement(M,{numColumns:4,showMore:h,setShowMore:b}),h&&l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"left"}},"Address:",l.a.createElement("br",null),v),l.a.createElement("td",null,"Insurance Carrier",l.a.createElement("br",null),t.insurance_carrier),l.a.createElement("td",null,"Insurance Number",l.a.createElement("br",null),t.insurance_number),l.a.createElement("td",null,"Insurance Expiration",l.a.createElement("br",null),t.insurance_expiration)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-item"},"Phone #1",l.a.createElement("br",null),t.phone),l.a.createElement("div",{className:"level-item"},"Phone #2",l.a.createElement("br",null),t.phone2))),l.a.createElement("td",null,"Email",l.a.createElement("br",null),t.email),l.a.createElement("td",null,"Account Password",l.a.createElement("br",null),t.password),l.a.createElement("td",null,"Business ID",l.a.createElement("br",null)," ",t.business_id)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-item"},l.a.createElement("span",{style:{width:"100%"}},"Bank Account #",l.a.createElement("br",null),t.bank_account_info)),l.a.createElement("div",{className:"level-item"},l.a.createElement("span",{style:{width:"100%"}},"Bank Routing #",l.a.createElement("br",null),t.bank_routing_info)))),l.a.createElement("td",null,"SSN",l.a.createElement("br",null),t.ssn),l.a.createElement("td",null,"Hourly Rate",l.a.createElement("br",null),t.hourly_rate),l.a.createElement("td",null,"Delivery Fee",l.a.createElement("br",null),t.delivery_fee))))))}var V=function(e){var t=e.drivers,a=e.routes;return Object(o.a)(e,["drivers","routes"]),console.log("rendering drivers.."),l.a.createElement(l.a.Fragment,null,Object.entries(t).map((function(e,t){return l.a.createElement(W,{key:t,index:t,driver:e[1],id:e[0],routes:a})})))},z=a(20),F=a.n(z),P=F.a.weekdays();function U(e){var t=e.business,a=e.id,r=(Object(o.a)(e,["business","id"]),Object(n.useState)(!0)),c=Object(u.a)(r,2),i=c[0],s=c[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),h=d[0],b=d[1],v=Object(n.useState)(0),f=Object(u.a)(v,2),p=(f[0],f[1],Object(n.useState)(0)),y=Object(u.a)(p,2),g=(y[0],y[1],Object(n.useState)(0)),_=Object(u.a)(g,2),N=(_[0],_[1],"".concat(t.street).concat(t.unit?" ".concat(t.unit):""," \n                   ").concat(t.city," ").concat(t.state," ").concat(t.zip)),A=Number(a.substring(a.indexOf("-")+1,a.length)),w=function(e){var t=JSON.parse(e);return l.a.createElement(l.a.Fragment,null,P.map((function(e,a){return l.a.createElement("p",{key:a},e,": ",t[e])})))};return l.a.createElement("div",{className:"box list-item"},l.a.createElement("table",{className:"table is-hoverable is-fullwidth is-size-7",style:{backgroundColor:"#f8f7fa"}},l.a.createElement("thead",null,l.a.createElement("tr",{className:"list-item-head"},l.a.createElement("th",{style:{width:"20%"}},l.a.createElement("div",{style:{width:"300%",maxWidth:"325px"}},l.a.createElement("span",null,"Business ",A,": ",t.name),l.a.createElement("button",{className:"button is-rounded is-super-small is-pulled-right ml-1",onClick:function(){return console.log("Not sure what this does atm")}},l.a.createElement(E.a,{icon:O.faPhone})),l.a.createElement("button",{className:"button is-rounded is-super-small is-pulled-right",onClick:function(){return e=A,void console.log("Sending Business ".concat(e," a text.."));var e}},l.a.createElement(E.a,{icon:O.faComment})))),l.a.createElement("th",{style:{width:"20%"}}),l.a.createElement("th",{style:{width:"20%"}}),l.a.createElement("th",{style:{width:"20%"}}),l.a.createElement("th",{style:{width:"20%"}},l.a.createElement("button",{className:"button is-super-small is-pulled-right",onClick:function(){return s((function(e){return!e}))}},l.a.createElement(E.a,{icon:i?O.faCaretDown:O.faCaretUp}))))),l.a.createElement("tbody",{className:"is-bordered has-text-centered",hidden:i},l.a.createElement("tr",null,l.a.createElement("td",null,"Business Image",l.a.createElement("br",null),l.a.createElement("img",{src:t.image,width:"48",height:"48"})),l.a.createElement("td",null,"Registered At",l.a.createElement("br",null),function(e){if(e){var t=e.split(/-|T/);return"".concat(t[0]," ").concat(F.a.monthsShort(Number(t[1]))," ").concat(t[2],", ").concat(t[3])}}(t.registered)),l.a.createElement("td",null,"Type",l.a.createElement("br",null),t.type),l.a.createElement("td",null,l.a.createElement("div",{style:{width:"215%"}},"Description",l.a.createElement("br",null),t.description)),l.a.createElement("td",{style:{borderLeft:"hidden"}})),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{style:{width:"215%"}},"Address",l.a.createElement("br",null),N)),l.a.createElement("td",{style:{borderLeft:"hidden"}}),l.a.createElement("td",null,"Business Hours",l.a.createElement("br",null),w(t.hours)),l.a.createElement("td",null,"Delivery Hours",l.a.createElement("br",null),w(t.delivery_hours)),l.a.createElement("td",null,"Accepting Hours",l.a.createElement("br",null),w(t.accepting_hours))),l.a.createElement("tr",null,l.a.createElement("td",null,"Contact Person",l.a.createElement("br",null),"".concat(t.contact_first_name," ").concat(t.contact_last_name)),l.a.createElement("td",null,"Phone #1: ",t.phone,l.a.createElement("br",null),"Phone #2: ",t.phone2),l.a.createElement("td",null,"Email",l.a.createElement("br",null),t.email),l.a.createElement("td",null,"Notification Approval",l.a.createElement("br",null),t.notification_approval),l.a.createElement("td",null,"Notification Device",l.a.createElement("br",null),t.notification_device_id)),l.a.createElement(M,{numColumns:5,showMore:h,setShowMore:b}),h&&l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,"Business License #",l.a.createElement("br",null),t.license),l.a.createElement("td",null,"Business License Expiration",l.a.createElement("br",null)),l.a.createElement("td",null,"Business Password",l.a.createElement("br",null),l.a.createElement("div",{className:"wrap-text"},t.password)),l.a.createElement("td",null),l.a.createElement("td",null,"Available Zones",l.a.createElement("br",null),t.available_zones)),l.a.createElement("tr",null,l.a.createElement("td",null,"EIN #",l.a.createElement("br",null),t.EIN),l.a.createElement("td",null,"US DOT #",l.a.createElement("br",null),t.USDOT),l.a.createElement("td",null,"WA UBI #",l.a.createElement("br",null),t.WAUBI),l.a.createElement("td",null),l.a.createElement("td",null,"Can Deliver:",l.a.createElement(E.a,{icon:t.delivery?O.faCheck:O.faTimes,color:t.delivery?"green":"red",className:"ml-2",style:{position:"relative",top:"0.05rem"}}),l.a.createElement("br",null),"Can Cancel:",l.a.createElement(E.a,{icon:t.can_cancel?O.faCheck:O.faTimes,color:t.can_cancel?"green":"red",className:"ml-2",style:{position:"relative",top:"0.05rem"}}),l.a.createElement("br",null),"Is Reusable:",l.a.createElement(E.a,{icon:t.reusable?O.faCheck:O.faTimes,color:t.reusable?"green":"red",className:"ml-2",style:{position:"relative",top:"0.05rem"}})))))))}var q=function(e){var t=e.businesses;return Object(o.a)(e,["businesses"]),console.log("rendering businesses.."),l.a.createElement(l.a.Fragment,null,Object.entries(t).map((function(e,t){return l.a.createElement(U,{key:t,index:t,business:e[1],id:e[0]})})))};function X(e){var t=e.customer,a=e.id,r=(Object(o.a)(e,["customer","id"]),Object(n.useState)(!0)),c=Object(u.a)(r,2),i=c[0],s=c[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),h=d[0],b=d[1],v="".concat(t.street).concat(t.unit?" ".concat(t.unit):""," ").concat(t.city," ").concat(t.state," ").concat(t.zip);return l.a.createElement("div",{className:"box list-item"},l.a.createElement("table",{className:"table is-hoverable is-fullwidth is-size-7",style:{backgroundColor:"#f8f7fa"}},l.a.createElement("thead",null,l.a.createElement("tr",{className:"list-item-head"},l.a.createElement("th",{style:{width:"20%"}},l.a.createElement("div",{style:{width:"200%",maxWidth:"240px"}},l.a.createElement("span",null,"Customer ",a,": ","".concat(t.first_name," ").concat(t.last_name[0],".")),l.a.createElement("button",{className:"button is-rounded is-pulled-right is-super-small ml-1"},l.a.createElement(E.a,{icon:O.faEnvelope})),l.a.createElement("button",{className:"button is-rounded is-pulled-right is-super-small"},l.a.createElement(E.a,{icon:O.faComment})))),l.a.createElement("th",{style:{width:"20%"}}),l.a.createElement("th",{style:{width:"20%"}}),l.a.createElement("th",{style:{width:"20%"}}),l.a.createElement("th",{style:{width:"20%"}},l.a.createElement("button",{className:"button is-super-small is-pulled-right",onClick:function(){return s((function(e){return!e}))}},l.a.createElement(E.a,{icon:i?O.faCaretDown:O.faCaretUp}))))),l.a.createElement("tbody",{className:"is-bordered has-text-centered",hidden:i},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"level",style:{width:"215%"}},l.a.createElement("div",{className:"level-item"},l.a.createElement("span",{style:{width:"100%",textAlign:"left"}},"First & Middle Name:",l.a.createElement("hr",{style:{margin:0,backgroundColor:"#ededed"}}),"Last Name:")),l.a.createElement("div",{className:"level-item"},l.a.createElement("span",{style:{width:"100%",textAlign:"left"}},t.first_name,l.a.createElement("hr",{style:{margin:0,backgroundColor:"#ededed"}}),t.last_name)))),l.a.createElement("td",{style:{borderLeft:"hidden"}}),l.a.createElement("td",null,"Phone #",l.a.createElement("br",null),t.phone),l.a.createElement("td",null,"SMS Frequency",l.a.createElement("br",null),t.SMS_frequency),l.a.createElement("td",null,"SMS Last Notification",l.a.createElement("br",null),t.SMS_last_notification)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{style:{width:"215%"}},"Address",l.a.createElement("br",null),v)),l.a.createElement("td",{style:{borderLeft:"hidden"}}),l.a.createElement("td",null,"Email: ",t.email),l.a.createElement("td",null,"Notification Approval",l.a.createElement("br",null),t.notification_approval),l.a.createElement("td",null,"Notification ID",l.a.createElement("br",null),t.notification_id)),l.a.createElement(M,{numColumns:5,showMore:h,setShowMore:b}),h&&l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,"Account Verified",l.a.createElement("br",null),t.verified),l.a.createElement("td",null,l.a.createElement("div",{className:"level",style:{width:"415%"}},l.a.createElement("div",{className:"level-item"},"Password Salt",l.a.createElement("br",null),t.password_salt),l.a.createElement("div",{className:"level-item"},"Password Hash",l.a.createElement("br",null),t.password_hash),l.a.createElement("div",{className:"level-item"},"Password Algorithm",l.a.createElement("br",null),t.password_algorithm))),l.a.createElement("td",{style:{borderLeft:"hidden"}}),l.a.createElement("td",{style:{borderLeft:"hidden"}}),l.a.createElement("td",{style:{borderLeft:"hidden"}})),l.a.createElement("tr",null,l.a.createElement("td",null,"Referral Source",l.a.createElement("br",null),t.referral_source),l.a.createElement("td",null,"Role",l.a.createElement("br",null),t.role),l.a.createElement("td",null,"Last Update",l.a.createElement("br",null),t.last_update),l.a.createElement("td",null,"Customer Representative",l.a.createElement("br",null),t.customer_rep),l.a.createElement("td",null,"Routes",l.a.createElement("br",null),t.route_id))))))}var J=function(e){var t=e.customers;return Object(o.a)(e,["customers"]),console.log("rendering customers.."),l.a.createElement(l.a.Fragment,null,Object.entries(t).map((function(e,t){return l.a.createElement(X,{key:t,index:t,customer:e[1],id:e[0]})})))};function H(e){var t=e.vehicles,a=e.business_id;Object(o.a)(e,["vehicles","business_id"]);return l.a.createElement("tr",null,l.a.createElement("td",null,a),l.a.createElement("td",null,t.business_name," N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"))}var K=function(e){var t=e.vehicles;Object(o.a)(e,["vehicles"]),console.log("rendering vehicles..");var a=Object(n.useState)(Object.entries(t)),r=Object(u.a)(a,2),c=r[0];return r[1],l.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Business ID"),l.a.createElement("th",null,"Business Name"),l.a.createElement("th",null,"Vehicle Make",l.a.createElement("br",null),l.a.createElement("span",{style:{fontSize:"0.65rem"}},"Model, Year")),l.a.createElement("th",null,"Vehicle Registration"),l.a.createElement("th",null,"Insurance Carrier"),l.a.createElement("th",null,"Insurance Policy"),l.a.createElement("th",null,"Insurance Policy Expiration"),l.a.createElement("th",null,"Drivers"))),l.a.createElement("tbody",null,c.map((function(e,t){return l.a.createElement(H,{key:t,index:t,vehicles:e[1],business_id:e[0]})}))))};var Z=function(e){var t=e.type,a=e.data,n=e.update,r=e.typeOf;return Object(o.a)(e,["type","data","update","typeOf"]),l.a.createElement("span",{className:"fa-layers no-select ml-1",style:{cursor:"pointer"},onClick:function(){console.log("testy"),n((function(e){var a=e.sortBy===t?-e.value:-1;return{sortBy:t,value:a,list:Object(w.a)(e.list).sort((function(e,n){switch(r){case"number":return 1===a?e[1][t]-n[1][t]:n[1][t]-e[1][t];case"string":if("id"===t)return 1===a?e[0].localeCompare(n[0]):n[0].localeCompare(e[0]);if(t.includes("name")){var l=t.substring(0,t.indexOf("-"))?"".concat(t.substring(0,t.indexOf("-")),"_"):"",c="".concat(e[1]["".concat(l,"first_name")]," ").concat(e[1]["".concat(l,"last_name")]),i="".concat(n[1]["".concat(l,"first_name")]," ").concat(n[1]["".concat(l,"last_name")]);return 1===a?c.localeCompare(i):i.localeCompare(c)}if(t.includes("address"))t.substring(0,t.indexOf("-"));return 1===a?e[1].localeCompare(n[1]):n[1].localeCompare(e[1])}}))}}))}},a.sortBy===t?l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{icon:O.faSortUp,color:1===a.value?"black":"lightgrey"}),l.a.createElement(E.a,{icon:O.faSortDown,color:-1===a.value?"black":"lightgrey"})):l.a.createElement(E.a,{icon:O.faSort,color:"lightgrey"}))};function G(e){var t=e.order,a=e.id,n=(Object(o.a)(e,["order","id"]),"".concat(t.customer_street," ").concat(t.customer_city," ").concat(t.customer_state," ").concat(t.customer_zip)),r=JSON.parse(t.items);return l.a.createElement("tr",null,l.a.createElement("td",null,a),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"".concat(t.customer_first_name," ").concat(t.customer_last_name)),l.a.createElement("td",null,n,l.a.createElement("br",null),l.a.createElement("br",null),t.customer_phone,l.a.createElement("br",null),t.customer_email),l.a.createElement("td",null,"$",t.cost),l.a.createElement("td",null,function(){var e=0;return l.a.createElement(l.a.Fragment,null,Object.entries(r).map((function(t,a){return e+=t[1],l.a.createElement("p",{key:a},"".concat(t[0],": ").concat(t[1]))})),l.a.createElement("br",null),l.a.createElement("p",null,"total: ",e))}()),l.a.createElement("td",null,l.a.createElement(E.a,t.hasPaid?{icon:O.faCheck,color:"green"}:{icon:O.faTimes,color:"red"})),l.a.createElement("td",null,t.type),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,t.status),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,l.a.createElement("p",null,"Order: ",t.order_instructions),l.a.createElement("br",null),l.a.createElement("p",null,"Delivery: ",t.delivery_instructions)),l.a.createElement("td",{className:"has-text-centered"},l.a.createElement("button",{className:"button is-rounded is-super-small my-1"},l.a.createElement(E.a,{icon:O.faPhone})),l.a.createElement("br",null),l.a.createElement("button",{className:"button is-rounded is-super-small my-1"},l.a.createElement(E.a,{icon:O.faComment})),l.a.createElement("br",null),l.a.createElement("button",{className:"button is-rounded is-super-small my-1"},l.a.createElement(E.a,{icon:O.faEnvelope}))))}var Y=function(e){var t=e.orders;Object(o.a)(e,["orders"]),console.log("rendering orders..");var a=Object(n.useState)({sortBy:"",value:0,list:Object.entries(t)}),r=Object(u.a)(a,2),c=r[0],i=r[1];return l.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order #",l.a.createElement(Z,{type:"id",typeOf:"string",data:c,update:i})),l.a.createElement("th",null,"Date & Time"),l.a.createElement("th",null,"Customer Name",l.a.createElement(Z,{type:"customer-name",typeOf:"string",data:c,update:i})),l.a.createElement("th",null,"Customer Info"),l.a.createElement("th",null,"Amount",l.a.createElement(Z,{type:"cost",typeOf:"number",data:c,update:i})),l.a.createElement("th",null,"Items"),l.a.createElement("th",null,"Paid?"),l.a.createElement("th",null,"Order Type"),l.a.createElement("th",null,"Business ID",l.a.createElement(Z,{type:"business_id",typeOf:"string",data:c,update:i})),l.a.createElement("th",null,"Order Status"),l.a.createElement("th",null,"Delivery #"),l.a.createElement("th",null,"Route"),l.a.createElement("th",null,"Driver"),l.a.createElement("th",null,"Delivery Date"),l.a.createElement("th",null,"Delivery ETA"),l.a.createElement("th",null,"Delivered"),l.a.createElement("th",null,"Additional Instructions"),l.a.createElement("th",null,"Contact Customer"))),l.a.createElement("tbody",null,c.list.map((function(e,t){return l.a.createElement(G,{key:t,index:t,order:e[1],id:e[0]})}))))};function $(e){e.payment;var t=e.id;Object(o.a)(e,["payment","id"]);return l.a.createElement("tr",null,l.a.createElement("td",null,t),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null))}var ee=function(e){var t=e.payments;Object(o.a)(e,["payments"]),console.log("rendering payments..");var a=Object(n.useState)(Object.entries(t)),r=Object(u.a)(a,2),c=r[0];return r[1],l.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Payment ID"),l.a.createElement("th",null,"Purchase ID"),l.a.createElement("th",null,"Payment Date"),l.a.createElement("th",null,"Payment Time Stamp"),l.a.createElement("th",null,"Delivery Start Date"),l.a.createElement("th",null,"Coupon ID"),l.a.createElement("th",null,"Amount Due"),l.a.createElement("th",null,"Discount"),l.a.createElement("th",null,"Amount Paid"),l.a.createElement("th",null,"Charge ID"),l.a.createElement("th",null,"Payment Type"),l.a.createElement("th",null,"Info"),l.a.createElement("th",null,"Credit Card #"),l.a.createElement("th",null,"Credit Card CVV"),l.a.createElement("th",null,"Credit Card Expiration"),l.a.createElement("th",null,"Credit Card Zip"))),l.a.createElement("tbody",null,c.map((function(e,t){return l.a.createElement($,{key:t,index:t,payment:e[1],id:e[0]})}))))};function te(e){e.coupon;var t=e.id;Object(o.a)(e,["coupon","id"]);return l.a.createElement("tr",null,l.a.createElement("td",null,t),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null))}function ae(e){e.refund;var t=e.id;Object(o.a)(e,["refund","id"]);return l.a.createElement("tr",null,l.a.createElement("td",null,t),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null))}var ne=function(e){var t=e.coupons;Object(o.a)(e,["coupons"]),console.log("rendering coupons..");var a=Object(n.useState)(Object.entries(t)),r=Object(u.a)(a,2),c=r[0];return r[1],l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{className:"has-text-weight-bold ml-2"},"Coupons"),l.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items my-4"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Coupon #"),l.a.createElement("th",null,"Active"),l.a.createElement("th",null,"Discount Amount"),l.a.createElement("th",null,"Discount Shipping"),l.a.createElement("th",null,"Delivery Start Date"),l.a.createElement("th",null,"Expiration Date"),l.a.createElement("th",null,"Limits"),l.a.createElement("th",null,"Notes"),l.a.createElement("th",null,"Number Used"),l.a.createElement("th",null,"Recurring"),l.a.createElement("th",null,"Email ID"),l.a.createElement("th",null,"Business ID"))),l.a.createElement("tbody",null,c.map((function(e,t){return l.a.createElement(te,{key:t,index:t,coupon:e[1],id:e[0]})})))),l.a.createElement("h2",{className:"has-text-weight-bold ml-2 mt-6"},"Refunds"),l.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items my-4"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Refund #"),l.a.createElement("th",null,"Created At"),l.a.createElement("th",null,"Email ID"),l.a.createElement("th",null,"Phone #"),l.a.createElement("th",null,"Image"),l.a.createElement("th",null,"Customer Notes"),l.a.createElement("th",null,"Refund Amount"),l.a.createElement("th",null,"Coupon ID"),l.a.createElement("th",null,"Admin Notes"))),l.a.createElement("tbody",null,c.map((function(e,t){return l.a.createElement(ae,{key:t,index:t,refund:e[1],id:e[0]})})))))};function le(){return l.a.createElement("div",{className:"level has-text-light-weight has-text-weight-light"},l.a.createElement("div",{className:"level-left is-split"},l.a.createElement("div",{className:"level-item"},"Min")),l.a.createElement("div",{className:"level-right is-split"},l.a.createElement("div",{className:"level-item"},"Max")))}function re(e){var t=e.constraint,a=e.business_id;Object(o.a)(e,["constraint","business_id"]);return l.a.createElement("tr",null,l.a.createElement("td",null,a),l.a.createElement("td",null,t.business_name," N/A"),l.a.createElement("td",null,"N/A"),l.a.createElement("td",null,t.business_phone," N/A"),l.a.createElement("td",null,l.a.createElement(ce,null)),l.a.createElement("td",null,l.a.createElement(ce,{value:t.driver_count,hasRange:!0})),l.a.createElement("td",null,l.a.createElement(ce,{value:t.time_per_driver,hasRange:!0})),l.a.createElement("td",null,l.a.createElement(ce,{value:t.delivery_count,hasRange:!0})))}function ce(e){return l.a.createElement(l.a.Fragment,null,e.hasRange?l.a.createElement(ie,{min:e.value,max:e.value}):l.a.createElement("input",{className:"input is-small has-text-centered",style:{width:"50px"},value:e.value,onChange:function(e){return console.log(e)}}))}function ie(e){return l.a.createElement("div",{className:"level has-text-light-weight"+(e.isHeader?" has-text-weight-light":"")},l.a.createElement("div",{className:"level-left is-split"},l.a.createElement("div",{className:"level-item"},l.a.createElement("input",{className:"input is-small has-text-centered",style:{width:"50px"},value:e.min,onChange:function(e){return console.log(e)}}))),l.a.createElement("div",{className:"level-right is-split"},l.a.createElement("div",{className:"level-item"},l.a.createElement("input",{className:"input is-small has-text-centered",style:{width:"50px"},value:e.max,onChange:function(e){return console.log(e)}}))))}var se=function(e){var t=e.constraints;Object(o.a)(e,["constraints"]),console.log("rendering constraints..");var a=Object(n.useState)(Object.entries(t)),r=Object(u.a)(a,2),c=r[0];return r[1],l.a.createElement("table",{className:"table is-fullwidth is-size-7 is-bordered has-text-centered vcenter-items"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Business ID",l.a.createElement(E.a,{icon:O.faSort,className:"ml-1",onClick:function(){return function(e){switch(e){case"id":console.log(c);break;default:console.log("Sorting... invalid type")}}("id")}})),l.a.createElement("th",null,"Business Name"),l.a.createElement("th",null,"Business Address"),l.a.createElement("th",null,"Business Phone Number"),l.a.createElement("th",null,"Number of Drivers"),l.a.createElement("th",null,l.a.createElement("p",{style:{borderBottom:"1px solid lightgrey"}},"Distance per Driver"),l.a.createElement(le,null)),l.a.createElement("th",null,l.a.createElement("p",{style:{borderBottom:"1px solid lightgrey"}},"Time per Driver"),l.a.createElement(le,null)),l.a.createElement("th",null,l.a.createElement("p",{style:{borderBottom:"1px solid lightgrey"}},"Number of Deliveries"),l.a.createElement(le,null)))),l.a.createElement("tbody",null,c.map((function(e,t){return l.a.createElement(re,{key:t,index:t,constraint:e[1],business_id:e[0]})}))))},oe=(a(68),F.a.weekdays());function ue(e,t){switch(t.type){case"today":return Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},e),e.day!==t.payload.today&&{day:t.payload.today}),e.week!==t.payload.toweek&&{week:t.payload.toweek}),-1===e.index&&{index:t.payload.slot});case"day-shift":var a=e.day.clone().add(t.payload.direction,"d"),n=e.day.week(),l=a.week();return Object(d.a)(Object(d.a)(Object(d.a)({},e),{},{day:a},e.weeknextWeek!==n&&{week:l}),t.payload.today.isSame(a,"d")?{index:t.payload.slot}:{index:-1});case"week-shift":var r=e.day.clone().add(7*t.payload.direction,"d");return Object(d.a)(Object(d.a)({},e),{},{day:r,week:r.week()},t.payload.today.isSame(r,"d")?{index:t.payload.slot}:{index:-1});case"time-change":return Object(d.a)(Object(d.a)({},e),{},{index:t.payload});default:return e}}function me(e){return l.a.createElement(l.a.Fragment,null,e.items.map((function(t,a){return l.a.createElement("td",{key:a,className:e.index===a?" is-today"+(e.isLast?"-end":""):""},e.hasRange?l.a.createElement(de,{min:t,max:t}):l.a.createElement("div",{className:"has-text-centered"},t))})))}function de(e){return l.a.createElement("div",{className:"level has-text-light-weight"+(e.isHeader?" has-text-weight-light":"")},l.a.createElement("div",{className:"level-left is-split"},l.a.createElement("div",{className:"level-item"},e.min)),l.a.createElement("div",{className:"level-right is-split"},l.a.createElement("div",{className:"level-item"},e.max)))}var Ee=function(e){console.log("rendering view..");var t=e.times&&Object.keys(e.times).map((function(t){return[e.times[t].value]})),a="day"===e.type?t:oe,r=F()(),c=r.week(),i=Object(n.useReducer)(ue,{day:r,week:c,index:"day"===e.type?e.timeSlot:r.weekday()}),s=Object(u.a)(i,2),o=s[0],m=s[1],d=o.day.weekday();Object(n.useEffect)((function(){o.index!==e.timeSlot&&"day"===e.type&&o.day.isSame(r,"d")&&m({type:"time-change",payload:e.timeSlot})}),[e.timeSlot]);for(var h=[],b=[],v=[],f=[],p=[],y=[],g=0;g<a.length;g++)h.push("N/A");for(var _=0;_<a.length;_++)b.push("N/A");for(var N=0;N<a.length;N++)v.push("N/A");for(var A=0;A<a.length;A++)f.push("N/A");for(var w=0;w<a.length;w++)p.push("N/A");for(var x=0;x<a.length;x++)y.push("N/A");var S=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={today:r,slot:"day"===t?e.timeSlot:d,direction:a};m({type:"".concat(t,"-shift"),payload:n})};return l.a.createElement("div",{className:"modal"+(e.visible?" is-active":"")},l.a.createElement("div",{className:"modal-background",onClick:e.onClick}),l.a.createElement("div",{className:"modal-card",style:{width:"80vw"}},l.a.createElement("header",{className:"modal-card-head"},l.a.createElement("div",{className:"buttons has-addons",style:{minWidth:"220px"}},l.a.createElement("button",{className:"button mr-4",onClick:function(){return function(t){var a={type:t,today:r,toweek:c,slot:"day"===t?e.timeSlot:d};m({type:"today",payload:a})}(e.type)}},"Today"),l.a.createElement("button",{className:"button",onClick:function(){return S(e.type,-1)}},l.a.createElement(E.a,{icon:O.faChevronLeft})),l.a.createElement("button",{className:"button",onClick:function(){return S(e.type)}},l.a.createElement(E.a,{icon:O.faChevronRight})),l.a.createElement("button",{className:"button is-small is-static ml-4",style:{width:"150px"}},"day"===e.type?"".concat(oe[d],": ").concat(o.day.format("MM-DD-YYYY")):"Week ".concat(o.week," - ").concat(o.day.clone().weekday(6).format("YYYY"))))),l.a.createElement("section",{className:"modal-card-body",style:{padding:"0"}},l.a.createElement("table",{className:"table is-fullwidth is-bordered is-view",style:{minWidth:"880px"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"day"===e.type?"Time Window":"Day"),a.map((function(t,a){return l.a.createElement("th",{className:"has-text-centered"+(o.index===a?" is-today":""),key:a},l.a.createElement("p",{style:{borderBottom:"1px solid lightgrey"}},t+("week"===e.type?" [".concat(o.day.clone().add(a-d,"d").format("MM/DD"),"]"):"")),l.a.createElement(de,{min:"Min",max:"Max",isHeader:!0}))})))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{title:"Current number of drivers"},"# Drivers"),l.a.createElement(me,{items:h,index:o.index})),l.a.createElement("tr",null,l.a.createElement("th",{title:"Total distance driven"},"Dist. Driven"),l.a.createElement(me,{items:b,index:o.index})),l.a.createElement("tr",null,l.a.createElement("th",{title:"Number of deliveries made"},"# Deliveries"),l.a.createElement(me,{items:v,index:o.index,hasRange:!0})),l.a.createElement("tr",null,l.a.createElement("th",{title:"Time spent to deliver each product"},"Time/Delivery"),l.a.createElement(me,{items:f,index:o.index,hasRange:!0})),l.a.createElement("tr",null,l.a.createElement("th",{title:"Time spent at each product destination"},"Time/Location"),l.a.createElement(me,{items:p,index:o.index,hasRange:!0})),l.a.createElement("tr",null,l.a.createElement("th",{title:"Total time spent"},"Total Time"),l.a.createElement(me,{items:y,index:o.index,hasRange:!0,isLast:!0}))))),l.a.createElement("footer",{className:"modal-card-foot"})))},he=a(27),be=a.n(he),ve="https://uqu7qejuee.execute-api.us-west-1.amazonaws.com/dev/api/v2/",fe="https://lu636s0qy3.execute-api.us-west-1.amazonaws.com/dev/api/v2/",pe=function(e,t){var a,n,l,r=t/e,c=~~(6*r),i=6*r-c,s=1-i;switch(c%6){case 0:a=1,n=i,l=0;break;case 1:a=s,n=1,l=0;break;case 2:a=0,n=1,l=i;break;case 3:a=0,n=s,l=1;break;case 4:a=i,n=0,l=1;break;case 5:a=1,n=0,l=s}return"#"+("00"+(~~(255*a)).toString(16)).slice(-2)+("00"+(~~(255*n)).toString(16)).slice(-2)+("00"+(~~(255*l)).toString(16)).slice(-2)},ye={isLoading:!0,filter:void 0,routes:{},drivers:{},businesses:{},customers:{},vehicles:{},orders:{},payments:{},coupons:{},constraints:{}};function ge(e,t){switch(t.type){case"load":return Object(d.a)(Object(d.a)({},e),t.payload.data);case"filter":return Object(d.a)(Object(d.a)({},e),{},{filter:t.payload.filter});case"filter-routes":for(var a=Object(d.a)({},e.routes),n=0,l=Object.keys(a);n<l.length;n++){var r=l[n];a[r].visible=!!t.payload.keys.includes(r)}return Object(d.a)(Object(d.a)({},e),{},{routes:a});case"route-toggle-visibility":return Object(d.a)(Object(d.a)({},e),{},{routes:Object(d.a)(Object(d.a)({},e.routes),{},Object(m.a)({},t.payload.id,Object(d.a)(Object(d.a)({},e.routes[t.payload.id]),{},{visible:!e.routes[t.payload.id].visible})))});default:return e}}var _e={0:{},1:{},2:{}};function Ne(e){console.log("rendering header..");return l.a.createElement("div",{className:"header-parent"},l.a.createElement("div",{className:"header-main"},l.a.createElement("img",{className:"has-text-left",src:p.a,alt:"Just Delivered",style:{alignSelf:"center",maxHeight:"5vh"}}),l.a.createElement("h1",{className:"has-text-centered",style:{width:"100%",fontSize:"3vh"}},"ADMIN DASHBOARD"),["Delivery","Drivers","Businesses","Customers","Vehicles","Purchases","Payments","Coupons","Constraints"].map((function(t,a){return l.a.createElement("button",{key:a,className:"button is-lightgrey is-sharp is-tilted-right header-button",onClick:function(){return function(t){e.tab!==t&&e.changeTab(t)}(a)},style:{backgroundColor:e.tab===a&&"yellow"}},t)})),l.a.createElement("button",{className:"button is-white is-fullheight ml-2",onClick:function(){return e.handleBurger()}},l.a.createElement(E.a,{icon:O.faBars}))),l.a.createElement("ul",{id:"selections",className:"header-burger"},l.a.createElement("li",null,l.a.createElement("button",{className:"button is-white is-fullwidth",onClick:e.handleDayView},"Day View")),l.a.createElement("li",null,l.a.createElement("button",{className:"button is-white is-fullwidth",onClick:e.handleWeekView},"Week View"))))}function Ae(e){console.log("rendering times..");return l.a.createElement("div",{className:"columns routes",style:{margin:"0"}},e.times.map((function(t,a){return l.a.createElement("div",{key:a,className:"column",style:{maxWidth:"".concat(100/e.times.length,"%")}},l.a.createElement("button",{className:"button is-fullwidth is-small",onClick:function(){return function(t){e.timeSlot!==t&&e.setTimeSlot(t)}(a)},style:{backgroundColor:e.timeSlot===a&&"yellow"}},t.value))})))}function Oe(e){var t=e.data,a=e.header,r=Object(o.a)(e,["data","header"]),c=Object(n.useState)(!1),i=Object(u.a)(c,2),s=i[0],m=i[1],h=Object(n.useState)(),b=Object(u.a)(h,2),v=b[0],f=b[1];Object(n.useEffect)((function(){var e;switch(a){case 0:e=t.routes;break;case 1:e=t.drivers;break;case 2:e=t.businesses;break;case 3:e=t.customers;break;case 4:e=t.vehicles;break;case 5:e=t.orders;break;case 6:e=t.payments;break;case 7:e=t.coupons;break;case 8:e=t.constraints}t.filter&&r.dispatch({type:"filter",payload:{filter:void 0}}),document.getElementById("filter-value").value&&(document.getElementById("filter-value").value=""),f(e)}),[a]);var p=function(e){if(console.log(e),e){console.log(Object.keys(t)[a+2]);var n={type:Object.keys(t)[a+2],option:e,value:void 0};console.log(n),r.dispatch({type:"filter",payload:{filter:n}})}else r.dispatch({type:"filter",payload:{filter:void 0}});document.getElementById("filter-value").value&&(document.getElementById("filter-value").value=""),m(!1)};return l.a.createElement("div",{className:"level",style:{height:"5vh",margin:0,justifyContent:"end"}},l.a.createElement("div",{className:"level-item",style:{flexGrow:0}},l.a.createElement("div",{className:"dropdown"+(s?" is-active":"")},l.a.createElement("div",{className:"dropdown-trigger"},l.a.createElement("button",{className:"button is-small",onClick:function(){return m((function(e){return!e}))},"aria-haspopup":"true","aria-controls":"dropdown-menu"},l.a.createElement("span",null,"Filter: ",t.filter?t.filter.option:"NONE"),l.a.createElement(E.a,{icon:O.faCaretDown,className:"ml-2"}))),l.a.createElement("div",{className:"dropdown-menu",style:{paddingTop:0},id:"dropdown-menu",role:"menu"},l.a.createElement("div",{className:"dropdown-content"},l.a.createElement("button",{className:"button is-small is-white dropdown-item",onClick:function(){return p()}},"NONE"),l.a.createElement("hr",{className:"dropdown-divider"}),v&&Object.keys(Object.values(v)[0]).map((function(e,t){return l.a.createElement("button",{key:t,className:"button is-small is-white dropdown-item",onClick:function(){return p(e)}},e)})))))),l.a.createElement("div",{className:"level-item",style:{flexGrow:0}},l.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),document.getElementById("filter-value").value){var a=Object(d.a)(Object(d.a)({},t.filter),{},{value:document.getElementById("filter-value").value});r.dispatch({type:"filter",payload:{filter:a}})}}},l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-item px-2"},l.a.createElement("input",{className:"input is-small",id:"filter-value",type:"text",disabled:!t.filter})),l.a.createElement("div",{className:"level-item"},l.a.createElement("button",{className:"button is-small",type:"submit",disabled:!t.filter},l.a.createElement(E.a,{icon:O.faCheck})))))))}var we=function(){console.log("rendering page..");var e=Object(n.useReducer)(ge,ye),t=Object(u.a)(e,2),a=t[0],r=t[1];console.log(a);var c=Object(n.useState)([{value:"00 am - 00 pm"},{value:"01 am - 01 pm"},{value:"02 am - 02 pm"},{value:"03 am - 03 pm"},{value:"04 am - 04 pm"}]),i=Object(u.a)(c,2),s=i[0],o=(i[1],Object(n.useState)(Number(window.localStorage.getItem("timeSlot"))||0)),m=Object(u.a)(o,2),E=m[0],h=m[1],b=Object(n.useState)(Number(window.localStorage.getItem("headerTab"))||0),v=Object(u.a)(b,2),f=v[0],p=v[1],y=Object(n.useState)({}),g=Object(u.a)(y,2),_=g[0],N=g[1];Object(n.useEffect)((function(){window.localStorage.setItem("headerTab",f)}),[f]),Object(n.useEffect)((function(){window.localStorage.setItem("timeSlot",E)}),[E]),Object(n.useEffect)((function(){Promise.allSettled([be.a.get(ve+"getRoutes").then((function(e){var t,a=e.data.result.result,n=0,l={},r=Object(x.a)(a);try{for(r.s();!(t=r.n()).done;){var c=t.value,i=c.route_id,s=JSON.parse(c.customer_coords),o={to:[s.latitude,s.longitude],customer_first_name:"Bill",customer_last_name:"Gates"};i in l?(o.from=l[i].route_data[l[i].route_data.length-1].to,l[i].route_data.push(o)):(n<c.route_option&&(n=c.route_option),o.from=[s.latitude,s.longitude],l[i]={route_option:c.route_option,business_id:c.business_id,driver_id:c.driver_num,driver_first_name:"Bob",driver_last_name:"Jones",visible:!0,route_data:[o]})}}catch(E){r.e(E)}finally{r.f()}var u=0,m=1;for(var d in l)l[d].route_data.shift(),m!=l[d].route_option&&(1==l[d].route_option?(m=1,u=0):(m++,u++)),l[d].route_color=pe(n,u);return l})),be.a.get(ve+"getDrivers").then((function(e){var t,a=e.data.result.result,n={},l=Object(x.a)(a);try{for(l.s();!(t=l.n()).done;){var r=t.value,c=r.driver_uid,i={rating:r.driver_rating,first_name:r.driver_first_name,last_name:r.driver_last_name,weekly_workload:"N/A",drivers_license:r.driver_license,drivers_license_exp:r.driver_license_exp,vehicle_types:r.driver_vehicle_types,emergency_contact_name:r.emergency_contact_name,emergency_contact_phone:r.emergency_contact_phone,emergency_contact_relationship:r.emergency_contact_relationship,preferred_routes:"N/A",days:r.driver_days,hours:r.driver_hours,street:r.driver_street,unit:r.driver_unit,city:r.driver_city,state:r.driver_state,zip:r.driver_zip,latitude:r.driver_latitude,longitude:r.driver_longitude,insurance_carrier:r.driver_insurance_carrier,insurance_number:r.driver_insurance_num,insurance_expiration:r.driver_insurance_exp,bank_routing_info:r.bank_routing_info,bank_account_info:r.bank_account_info,ssn:r.driver_ssn,password:r.driver_password,phone:r.driver_phone_num,phone2:r.driver_phone_num2,email:r.driver_email,business_id:r.business_id,hourly_rate:r.driver_hourly_rate,delivery_fee:r.driver_delivery_fee};n[c]=i}}catch(s){l.e(s)}finally{l.f()}return n})),be.a.get("https://tsx3rnuidi.execute-api.us-west-1.amazonaws.com/dev/api/v2/businesses").then((function(e){var t,a=e.data.result.result,n={},l=Object(x.a)(a);try{for(l.s();!(t=l.n()).done;){var r=t.value,c=r.business_uid,i={visible:!0,name:r.business_name,type:r.business_type,description:r.business_desc,registered:r.business_created_at,image:r.business_image,license:r.business_license,password:r.business_password,EIN:r.business_EIN,USDOT:r.business_USDOT,WAUBI:r.business_WAUBI,hours:r.business_hours,delivery_hours:r.business_delivery_hours,accepting_hours:r.business_accepting_hours,available_zones:r.available_zones,street:r.business_address,unit:r.business_unit,city:r.business_city,state:r.business_state,zip:r.business_zip,latitude:r.business_latitude,longitude:r.business_longitude,contact_first_name:r.business_contact_first_name,contact_last_name:r.business_contact_last_name,phone:r.business_phone_num,phone2:r.business_phone_num2,email:r.business_email,delivery:r.delivery,can_cancel:r.can_cancel,reusable:r.reusable,notification_approval:r.notification_approval,notification_device_id:r.notification_device_id};n[c]=i}}catch(s){l.e(s)}finally{l.f()}return n})),be.a.get(fe+"getCustomers").then((function(e){var t,a=e.data.result.result,n={},l=Object(x.a)(a);try{for(l.s();!(t=l.n()).done;){var r=t.value,c=r.customer_id,i={first_name:r.customer_first_name,last_name:r.customer_last_name,phone:r.customer_phone_num,SMS_frequency:r.customer_SMS_frequency,SMS_last_notification:r.customer_SMS_last_notification,street:r.customer_street,unit:r.customer_unit,city:r.customer_city,state:r.customer_state,zip:r.customer_zip,latitude:r.customer_latitude,longitude:r.customer_longitude,email:r.customer_email,notification_approval:r.notification_approval,notification_id:r.notification_device_id,verified:r.customer_email.verified,password_salt:r.customer_password_salt,password_hash:r.customer_password_hash,password_algorithm:r.customer_password_algorithm,referrral_source:r.referral_source,role:r.customer_role,last_update:r.customer_updated_at,customer_rep:r.customer_representative,route_id:r.route_id};n[c]=i}}catch(s){l.e(s)}finally{l.f()}return n})),be.a.get(fe+"getCustomerOrders").then((function(e){var t,a=e.data.result.result,n={},l=Object(x.a)(a);try{for(l.s();!(t=l.n()).done;){var r=t.value,c=r.order_id,i={customer_id:r.customer_id,customer_first_name:r.customer_first_name,customer_last_name:r.customer_last_name,customer_street:r.customer_street,customer_city:r.customer_city,customer_state:r.customer_state,customer_zip:r.customer_zip,customer_phone:r.customer_phone_num,customer_email:r.customer_email,customer_latitude:r.customer_latitude,customer_longitude:r.customer_longitude,items:r.items,cost:r.amount,order_instructions:r.order_instructions,delivery_instructions:r.delivery_instructions,type:r.order_type,status:r.order_status};n[c]=i}}catch(s){l.e(s)}finally{l.f()}return n}))]).then((function(e){var t=Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({isLoading:!1},e[0].value&&{routes:e[0].value}),e[1].value&&{drivers:e[1].value}),e[2].value&&{businesses:e[2].value}),e[3].value&&{customers:e[3].value}),{},{vehicles:_e},e[4].value&&{orders:e[4].value}),{},{payments:_e,coupons:_e,constraints:_e});r({type:"load",payload:{data:t}})}))}),[]);var A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("Burger interaction..");var t=document.getElementById("selections");t.style.display=e||"block"===t.style.display?"none":"block"},O=Object(n.useState)("none"),w=Object(u.a)(O,2),S=w[0],k=w[1],j=function(e){console.log("Open day view.."),A(!0),k(S===e?"none":e)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ne,{tab:f,changeTab:p,handleBurger:A,handleDayView:function(){return j("day")},handleWeekView:function(){return j("week")}}),l.a.createElement(Ee,{type:"day",times:s,timeSlot:E,visible:"day"===S,onClick:function(){return j("day")}}),l.a.createElement(Ee,{type:"week",visible:"week"===S,onClick:function(){return j("week")}}),a.isLoading?l.a.createElement("div",{className:"loading-screen"}):l.a.createElement("div",{className:"map-page"},l.a.createElement("div",{className:"columns",style:{margin:"auto"}},f<4&&l.a.createElement("div",{className:"column is-half",style:{padding:"0"}},l.a.createElement(Ae,{times:s,timeSlot:E,setTimeSlot:h}),l.a.createElement("div",{className:"sticky"},l.a.createElement(R,{header:f,routes:a.routes,drivers:a.drivers,businesses:a.businesses,customers:a.customers,filter:a.filter,selectedLocation:_,setSelectedLocation:N,dispatch:r}))),l.a.createElement("div",{className:"column"+(f<4?" is-half":" is-full"),style:{padding:"0 0.75rem",marginTop:f<4?"":"1vh"}},l.a.createElement(Oe,{data:a,header:f,dispatch:r}),l.a.createElement("div",{className:"box"+(f<4?" map":" no-map")},function(){switch((Math.floor(E)!==E||E<0||E>s.length-1)&&h(0),f){case 0:return l.a.createElement(T,{routes:a.routes,selectedLocation:_,setSelectedLocation:N,filter:a.filter,dispatch:r});case 1:return l.a.createElement(V,{drivers:a.drivers,routes:a.routes});case 2:return l.a.createElement(q,{businesses:a.businesses});case 3:return l.a.createElement(J,{customers:a.customers});case 4:return l.a.createElement(K,{vehicles:a.vehicles});case 5:return l.a.createElement(Y,{orders:a.orders});case 6:return l.a.createElement(ee,{payments:a.payments});case 7:return l.a.createElement(ne,{coupons:a.coupons});case 8:return l.a.createElement(se,{constraints:a.constraints});default:p(0)}}())))))};var xe=function(){return console.log("rendering app.."),l.a.createElement(i.a,{basename:"Delivery-App"},l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",component:we})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(88);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.46fa8e0e.chunk.js.map